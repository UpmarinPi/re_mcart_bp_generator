(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(i){if(i.ep)return;i.ep=!0;const u=a(i);fetch(i.href,u)}})();var Mu={exports:{}},bs={};var _m;function ey(){if(_m)return bs;_m=1;var d=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,i,u){var h=null;if(u!==void 0&&(h=""+u),i.key!==void 0&&(h=""+i.key),"key"in i){u={};for(var f in i)f!=="key"&&(u[f]=i[f])}else u=i;return i=u.ref,{$$typeof:d,type:s,key:h,ref:i!==void 0?i:null,props:u}}return bs.Fragment=n,bs.jsx=a,bs.jsxs=a,bs}var ym;function ty(){return ym||(ym=1,Mu.exports=ey()),Mu.exports}var _e=ty(),Ou={exports:{}},vs={},Bu={exports:{}},Iu={};var bm;function ny(){return bm||(bm=1,(function(d){function n(V,Q){var re=V.length;V.push(Q);e:for(;0<re;){var Ce=re-1>>>1,Be=V[Ce];if(0<i(Be,Q))V[Ce]=Q,V[re]=Be,re=Ce;else break e}}function a(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var Q=V[0],re=V.pop();if(re!==Q){V[0]=re;e:for(var Ce=0,Be=V.length,T=Be>>>1;Ce<T;){var G=2*(Ce+1)-1,Z=V[G],W=G+1,ie=V[W];if(0>i(Z,re))W<Be&&0>i(ie,Z)?(V[Ce]=ie,V[W]=re,Ce=W):(V[Ce]=Z,V[G]=re,Ce=G);else if(W<Be&&0>i(ie,re))V[Ce]=ie,V[W]=re,Ce=W;else break e}}return Q}function i(V,Q){var re=V.sortIndex-Q.sortIndex;return re!==0?re:V.id-Q.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;d.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();d.unstable_now=function(){return h.now()-f}}var m=[],p=[],g=1,y=null,k=3,O=!1,j=!1,F=!1,K=!1,ae=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function $(V){for(var Q=a(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=V)s(p),Q.sortIndex=Q.expirationTime,n(m,Q);else break;Q=a(p)}}function Ae(V){if(F=!1,$(V),!j)if(a(m)!==null)j=!0,be||(be=!0,st());else{var Q=a(p);Q!==null&&Wt(Ae,Q.startTime-V)}}var be=!1,ue=-1,qe=5,Ye=-1;function Jt(){return K?!0:!(d.unstable_now()-Ye<qe)}function rt(){if(K=!1,be){var V=d.unstable_now();Ye=V;var Q=!0;try{e:{j=!1,F&&(F=!1,se(ue),ue=-1),O=!0;var re=k;try{t:{for($(V),y=a(m);y!==null&&!(y.expirationTime>V&&Jt());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,k=y.priorityLevel;var Be=Ce(y.expirationTime<=V);if(V=d.unstable_now(),typeof Be=="function"){y.callback=Be,$(V),Q=!0;break t}y===a(m)&&s(m),$(V)}else s(m);y=a(m)}if(y!==null)Q=!0;else{var T=a(p);T!==null&&Wt(Ae,T.startTime-V),Q=!1}}break e}finally{y=null,k=re,O=!1}Q=void 0}}finally{Q?st():be=!1}}}var st;if(typeof Y=="function")st=function(){Y(rt)};else if(typeof MessageChannel<"u"){var rn=new MessageChannel,Ft=rn.port2;rn.port1.onmessage=rt,st=function(){Ft.postMessage(null)}}else st=function(){ae(rt,0)};function Wt(V,Q){ue=ae(function(){V(d.unstable_now())},Q)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(V){V.callback=null},d.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<V?Math.floor(1e3/V):5},d.unstable_getCurrentPriorityLevel=function(){return k},d.unstable_next=function(V){switch(k){case 1:case 2:case 3:var Q=3;break;default:Q=k}var re=k;k=Q;try{return V()}finally{k=re}},d.unstable_requestPaint=function(){K=!0},d.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=k;k=V;try{return Q()}finally{k=re}},d.unstable_scheduleCallback=function(V,Q,re){var Ce=d.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,V){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=re+Be,V={id:g++,callback:Q,priorityLevel:V,startTime:re,expirationTime:Be,sortIndex:-1},re>Ce?(V.sortIndex=re,n(p,V),a(m)===null&&V===a(p)&&(F?(se(ue),ue=-1):F=!0,Wt(Ae,re-Ce))):(V.sortIndex=Be,n(m,V),j||O||(j=!0,be||(be=!0,st()))),V},d.unstable_shouldYield=Jt,d.unstable_wrapCallback=function(V){var Q=k;return function(){var re=k;k=Q;try{return V.apply(this,arguments)}finally{k=re}}}})(Iu)),Iu}var vm;function ay(){return vm||(vm=1,Bu.exports=ny()),Bu.exports}var Uu={exports:{}},le={};var xm;function ry(){if(xm)return le;xm=1;var d=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),k=Symbol.iterator;function O(T){return T===null||typeof T!="object"?null:(T=k&&T[k]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function ae(T,G,Z){this.props=T,this.context=G,this.refs=K,this.updater=Z||j}ae.prototype.isReactComponent={},ae.prototype.setState=function(T,G){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,G,"setState")},ae.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function se(){}se.prototype=ae.prototype;function Y(T,G,Z){this.props=T,this.context=G,this.refs=K,this.updater=Z||j}var $=Y.prototype=new se;$.constructor=Y,F($,ae.prototype),$.isPureReactComponent=!0;var Ae=Array.isArray;function be(){}var ue={H:null,A:null,T:null,S:null},qe=Object.prototype.hasOwnProperty;function Ye(T,G,Z){var W=Z.ref;return{$$typeof:d,type:T,key:G,ref:W!==void 0?W:null,props:Z}}function Jt(T,G){return Ye(T.type,G,T.props)}function rt(T){return typeof T=="object"&&T!==null&&T.$$typeof===d}function st(T){var G={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return G[Z]})}var rn=/\/+/g;function Ft(T,G){return typeof T=="object"&&T!==null&&T.key!=null?st(""+T.key):G.toString(36)}function Wt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(be,be):(T.status="pending",T.then(function(G){T.status==="pending"&&(T.status="fulfilled",T.value=G)},function(G){T.status==="pending"&&(T.status="rejected",T.reason=G)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function V(T,G,Z,W,ie){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var Se=!1;if(T===null)Se=!0;else switch(fe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(T.$$typeof){case d:case n:Se=!0;break;case g:return Se=T._init,V(Se(T._payload),G,Z,W,ie)}}if(Se)return ie=ie(T),Se=W===""?"."+Ft(T,0):W,Ae(ie)?(Z="",Se!=null&&(Z=Se.replace(rn,"$&/")+"/"),V(ie,G,Z,"",function(Ar){return Ar})):ie!=null&&(rt(ie)&&(ie=Jt(ie,Z+(ie.key==null||T&&T.key===ie.key?"":(""+ie.key).replace(rn,"$&/")+"/")+Se)),G.push(ie)),1;Se=0;var mt=W===""?".":W+":";if(Ae(T))for(var Xe=0;Xe<T.length;Xe++)W=T[Xe],fe=mt+Ft(W,Xe),Se+=V(W,G,Z,fe,ie);else if(Xe=O(T),typeof Xe=="function")for(T=Xe.call(T),Xe=0;!(W=T.next()).done;)W=W.value,fe=mt+Ft(W,Xe++),Se+=V(W,G,Z,fe,ie);else if(fe==="object"){if(typeof T.then=="function")return V(Wt(T),G,Z,W,ie);throw G=String(T),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(T,G,Z){if(T==null)return T;var W=[],ie=0;return V(T,W,"","",function(fe){return G.call(Z,fe,ie++)}),W}function re(T){if(T._status===-1){var G=T._result;G=G(),G.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=G)}if(T._status===1)return T._result.default;throw T._result}var Ce=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Be={map:Q,forEach:function(T,G,Z){Q(T,function(){G.apply(this,arguments)},Z)},count:function(T){var G=0;return Q(T,function(){G++}),G},toArray:function(T){return Q(T,function(G){return G})||[]},only:function(T){if(!rt(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return le.Activity=y,le.Children=Be,le.Component=ae,le.Fragment=a,le.Profiler=i,le.PureComponent=Y,le.StrictMode=s,le.Suspense=m,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,le.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ue.H.useMemoCache(T)}},le.cache=function(T){return function(){return T.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(T,G,Z){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var W=F({},T.props),ie=T.key;if(G!=null)for(fe in G.key!==void 0&&(ie=""+G.key),G)!qe.call(G,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&G.ref===void 0||(W[fe]=G[fe]);var fe=arguments.length-2;if(fe===1)W.children=Z;else if(1<fe){for(var Se=Array(fe),mt=0;mt<fe;mt++)Se[mt]=arguments[mt+2];W.children=Se}return Ye(T.type,ie,W)},le.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},le.createElement=function(T,G,Z){var W,ie={},fe=null;if(G!=null)for(W in G.key!==void 0&&(fe=""+G.key),G)qe.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=G[W]);var Se=arguments.length-2;if(Se===1)ie.children=Z;else if(1<Se){for(var mt=Array(Se),Xe=0;Xe<Se;Xe++)mt[Xe]=arguments[Xe+2];ie.children=mt}if(T&&T.defaultProps)for(W in Se=T.defaultProps,Se)ie[W]===void 0&&(ie[W]=Se[W]);return Ye(T,fe,ie)},le.createRef=function(){return{current:null}},le.forwardRef=function(T){return{$$typeof:f,render:T}},le.isValidElement=rt,le.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:re}},le.memo=function(T,G){return{$$typeof:p,type:T,compare:G===void 0?null:G}},le.startTransition=function(T){var G=ue.T,Z={};ue.T=Z;try{var W=T(),ie=ue.S;ie!==null&&ie(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(be,Ce)}catch(fe){Ce(fe)}finally{G!==null&&Z.types!==null&&(G.types=Z.types),ue.T=G}},le.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},le.use=function(T){return ue.H.use(T)},le.useActionState=function(T,G,Z){return ue.H.useActionState(T,G,Z)},le.useCallback=function(T,G){return ue.H.useCallback(T,G)},le.useContext=function(T){return ue.H.useContext(T)},le.useDebugValue=function(){},le.useDeferredValue=function(T,G){return ue.H.useDeferredValue(T,G)},le.useEffect=function(T,G){return ue.H.useEffect(T,G)},le.useEffectEvent=function(T){return ue.H.useEffectEvent(T)},le.useId=function(){return ue.H.useId()},le.useImperativeHandle=function(T,G,Z){return ue.H.useImperativeHandle(T,G,Z)},le.useInsertionEffect=function(T,G){return ue.H.useInsertionEffect(T,G)},le.useLayoutEffect=function(T,G){return ue.H.useLayoutEffect(T,G)},le.useMemo=function(T,G){return ue.H.useMemo(T,G)},le.useOptimistic=function(T,G){return ue.H.useOptimistic(T,G)},le.useReducer=function(T,G,Z){return ue.H.useReducer(T,G,Z)},le.useRef=function(T){return ue.H.useRef(T)},le.useState=function(T){return ue.H.useState(T)},le.useSyncExternalStore=function(T,G,Z){return ue.H.useSyncExternalStore(T,G,Z)},le.useTransition=function(){return ue.H.useTransition()},le.version="19.2.0",le}var wm;function Wu(){return wm||(wm=1,Uu.exports=ry()),Uu.exports}var Nu={exports:{}},ft={};var km;function sy(){if(km)return ft;km=1;var d=Wu();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var h=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(m,p,null,g)},ft.flushSync=function(m){var p=h.T,g=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=p,s.p=g,s.d.f()}},ft.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},ft.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ft.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),k=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:k,fetchPriority:O}):g==="script"&&s.d.X(m,{crossOrigin:y,integrity:k,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},ft.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);s.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},ft.requestFormReset=function(m){s.d.r(m)},ft.unstable_batchedUpdates=function(m,p){return m(p)},ft.useFormState=function(m,p,g){return h.H.useFormState(m,p,g)},ft.useFormStatus=function(){return h.H.useHostTransitionStatus()},ft.version="19.2.0",ft}var Sm;function ly(){if(Sm)return Nu.exports;Sm=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(n){console.error(n)}}return d(),Nu.exports=sy(),Nu.exports}var Tm;function iy(){if(Tm)return vs;Tm=1;var d=ay(),n=Wu(),a=ly();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var o=r.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){r=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===r)return m(o),e;if(c===l)return m(o),t;c=c.sibling}throw Error(s(188))}if(r.return!==l.return)r=o,l=c;else{for(var _=!1,b=o.child;b;){if(b===r){_=!0,r=o,l=c;break}if(b===l){_=!0,l=o,r=c;break}b=b.sibling}if(!_){for(b=c.child;b;){if(b===r){_=!0,r=c,l=o;break}if(b===l){_=!0,l=c,r=o;break}b=b.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,k=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),Jt=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case ae:return"Profiler";case K:return"StrictMode";case Ae:return"Suspense";case be:return"SuspenseList";case Ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case Y:return e.displayName||"Context";case se:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:Ft(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return Ft(e(t))}catch{}}return null}var Wt=Array.isArray,V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ce=[],Be=-1;function T(e){return{current:e}}function G(e){0>Be||(e.current=Ce[Be],Ce[Be]=null,Be--)}function Z(e,t){Be++,Ce[Be]=e.current,e.current=t}var W=T(null),ie=T(null),fe=T(null),Se=T(null);function mt(e,t){switch(Z(fe,t),Z(ie,e),Z(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qd(t),e=Hd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(W),Z(W,e)}function Xe(){G(W),G(ie),G(fe)}function Ar(e){e.memoizedState!==null&&Z(Se,e);var t=W.current,r=Hd(t,e.type);t!==r&&(Z(ie,e),Z(W,r))}function zs(e){ie.current===e&&(G(W),G(ie)),Se.current===e&&(G(Se),ps._currentValue=re)}var hi,pc;function ca(e){if(hi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hi=t&&t[1]||"",pc=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+e+pc}var di=!1;function mi(e,t){if(!e||di)return"";di=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(N){var U=N}Reflect.construct(e,[],H)}else{try{H.call()}catch(N){U=N}e.call(H.prototype)}}else{try{throw Error()}catch(N){U=N}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(N){if(N&&U&&typeof N.stack=="string")return[N.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),_=c[0],b=c[1];if(_&&b){var w=_.split(`
`),I=b.split(`
`);for(o=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;if(l===w.length||o===I.length)for(l=w.length-1,o=I.length-1;1<=l&&0<=o&&w[l]!==I[o];)o--;for(;1<=l&&0<=o;l--,o--)if(w[l]!==I[o]){if(l!==1||o!==1)do if(l--,o--,0>o||w[l]!==I[o]){var L=`
`+w[l].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=l&&0<=o);break}}}finally{di=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ca(r):""}function Mp(e,t){switch(e.tag){case 26:case 27:case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return e.child!==t&&t!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return ca("Activity");default:return""}}function gc(e){try{var t="",r=null;do t+=Mp(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pi=Object.prototype.hasOwnProperty,gi=d.unstable_scheduleCallback,_i=d.unstable_cancelCallback,Op=d.unstable_shouldYield,Bp=d.unstable_requestPaint,St=d.unstable_now,Ip=d.unstable_getCurrentPriorityLevel,_c=d.unstable_ImmediatePriority,yc=d.unstable_UserBlockingPriority,Ms=d.unstable_NormalPriority,Up=d.unstable_LowPriority,bc=d.unstable_IdlePriority,Np=d.log,Lp=d.unstable_setDisableYieldValue,Er=null,Tt=null;function In(e){if(typeof Np=="function"&&Lp(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Er,e)}catch{}}var At=Math.clz32?Math.clz32:qp,Vp=Math.log,Rp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Vp(e)/Rp|0)|0}var Os=256,Bs=262144,Is=4194304;function fa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Us(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var o=0,c=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~c,l!==0?o=fa(l):(_&=b,_!==0?o=fa(_):r||(r=b&~e,r!==0&&(o=fa(r))))):(b=l&~c,b!==0?o=fa(b):_!==0?o=fa(_):r||(r=l&~e,r!==0&&(o=fa(r)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,r=t&-t,c>=r||c===32&&(r&4194048)!==0)?t:o}function Dr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var e=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),e}function yi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gp(e,t,r,l,o,c){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,I=e.hiddenUpdates;for(r=_&~r;0<r;){var L=31-At(r),H=1<<L;b[L]=0,w[L]=-1;var U=I[L];if(U!==null)for(I[L]=null,L=0;L<U.length;L++){var N=U[L];N!==null&&(N.lane&=-536870913)}r&=~H}l!==0&&xc(e,l,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(_&~t))}function xc(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-At(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function wc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-At(r),o=1<<l;o&t|e[l]&t&&(e[l]|=t),r&=~o}}function kc(e,t){var r=t&-t;return r=(r&42)!==0?1:bi(r),(r&(e.suspendedLanes|t))!==0?0:r}function bi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Sc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:cm(e.type))}function Tc(e,t){var r=Q.p;try{return Q.p=e,t()}finally{Q.p=r}}var Un=Math.random().toString(36).slice(2),lt="__reactFiber$"+Un,_t="__reactProps$"+Un,Ua="__reactContainer$"+Un,xi="__reactEvents$"+Un,jp="__reactListeners$"+Un,Yp="__reactHandles$"+Un,Ac="__reactResources$"+Un,zr="__reactMarker$"+Un;function wi(e){delete e[lt],delete e[_t],delete e[xi],delete e[jp],delete e[Yp]}function Na(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ua]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$d(e);e!==null;){if(r=e[lt])return r;e=$d(e)}return t}e=r,r=e.parentNode}return null}function La(e){if(e=e[lt]||e[Ua]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Va(e){var t=e[Ac];return t||(t=e[Ac]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[zr]=!0}var Ec=new Set,Dc={};function ha(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Dc[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var Xp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},zc={};function Qp(e){return pi.call(zc,e)?!0:pi.call(Cc,e)?!1:Xp.test(e)?zc[e]=!0:(Cc[e]=!0,!1)}function Ns(e,t,r){if(Qp(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ls(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zp(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(_){r=""+_,c.call(this,_)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){if(!e._valueTracker){var t=Mc(e)?"checked":"value";e._valueTracker=Zp(e,t,""+e[t])}}function Oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Mc(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $p=/[\n"\\]/g;function Lt(e){return e.replace($p,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Si(e,t,r,l,o,c,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Ti(e,_,Nt(t)):r!=null?Ti(e,_,Nt(r)):l!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Nt(b):e.removeAttribute("name")}function Bc(e,t,r,l,o,c,_,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||r!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){ki(e);return}r=r!=null?""+Nt(r):"",t=t!=null?""+Nt(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ki(e)}function Ti(e,t,r){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function qa(e,t,r,l){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Nt(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ic(e,t,r){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Nt(r):""}function Uc(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Nt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),ki(e)}function Ha(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Kp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||Kp.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Lc(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&r[o]!==l&&Nc(e,o,l)}else for(var c in t)t.hasOwnProperty(c)&&Nc(e,c,t[c])}function Ai(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function dn(){}var Ei=null;function Di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,ja=null;function Vc(e){var t=La(e);if(t&&(e=t.stateNode)){var r=e[_t]||null;e:switch(e=t.stateNode,t.type){case"input":if(Si(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var o=l[_t]||null;if(!o)throw Error(s(90));Si(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Oc(l)}break e;case"textarea":Ic(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&qa(e,!!r.multiple,t,!1)}}}var Ci=!1;function Rc(e,t,r){if(Ci)return e(t,r);Ci=!0;try{var l=e(t);return l}finally{if(Ci=!1,(Ga!==null||ja!==null)&&(Al(),Ga&&(t=Ga,e=ja,ja=Ga=null,Vc(t),e)))for(t=0;t<e.length;t++)Vc(e[t])}}function Or(e,t){var r=e.stateNode;if(r===null)return null;var l=r[_t]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zi=!1;if(mn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){zi=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{zi=!1}var Nn=null,Mi=null,qs=null;function qc(){if(qs)return qs;var e,t=Mi,r=t.length,l,o="value"in Nn?Nn.value:Nn.textContent,c=o.length;for(e=0;e<r&&t[e]===o[e];e++);var _=r-e;for(l=1;l<=_&&t[r-l]===o[c-l];l++);return qs=o.slice(e,1<l?1-l:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Hc(){return!1}function yt(e){function t(r,l,o,c,_){this._reactName=r,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Gs:Hc,this.isPropagationStopped=Hc,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=yt(da),Ir=y({},da,{view:0,detail:0}),Wp=yt(Ir),Oi,Bi,Ur,Ys=y({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Oi=e.screenX-Ur.screenX,Bi=e.screenY-Ur.screenY):Bi=Oi=0,Ur=e),Oi)},movementY:function(e){return"movementY"in e?e.movementY:Bi}}),Gc=yt(Ys),Pp=y({},Ys,{dataTransfer:0}),eg=yt(Pp),tg=y({},Ir,{relatedTarget:0}),Ii=yt(tg),ng=y({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=yt(ng),rg=y({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=yt(rg),lg=y({},da,{data:0}),jc=yt(lg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Ui(){return cg}var fg=y({},Ir,{key:function(e){if(e.key){var t=ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ui,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hg=yt(fg),dg=y({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=yt(dg),mg=y({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ui}),pg=yt(mg),gg=y({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),_g=yt(gg),yg=y({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=yt(yg),vg=y({},da,{newState:0,oldState:0}),xg=yt(vg),wg=[9,13,27,32],Ni=mn&&"CompositionEvent"in window,Nr=null;mn&&"documentMode"in document&&(Nr=document.documentMode);var kg=mn&&"TextEvent"in window&&!Nr,Xc=mn&&(!Ni||Nr&&8<Nr&&11>=Nr),Qc=" ",Zc=!1;function $c(e,t){switch(e){case"keyup":return wg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function Sg(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(Zc=!0,Qc);case"textInput":return e=t.data,e===Qc&&Zc?null:e;default:return null}}function Tg(e,t){if(Ya)return e==="compositionend"||!Ni&&$c(e,t)?(e=qc(),qs=Mi=Nn=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xc&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function Fc(e,t,r,l){Ga?ja?ja.push(l):ja=[l]:Ga=l,t=Bl(t,"onChange"),0<t.length&&(r=new js("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Lr=null,Vr=null;function Eg(e){Id(e,0)}function Xs(e){var t=Mr(e);if(Oc(t))return e}function Wc(e,t){if(e==="change")return t}var Pc=!1;if(mn){var Li;if(mn){var Vi="oninput"in document;if(!Vi){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),Vi=typeof ef.oninput=="function"}Li=Vi}else Li=!1;Pc=Li&&(!document.documentMode||9<document.documentMode)}function tf(){Lr&&(Lr.detachEvent("onpropertychange",nf),Vr=Lr=null)}function nf(e){if(e.propertyName==="value"&&Xs(Vr)){var t=[];Fc(t,Vr,e,Di(e)),Rc(Eg,t)}}function Dg(e,t,r){e==="focusin"?(tf(),Lr=t,Vr=r,Lr.attachEvent("onpropertychange",nf)):e==="focusout"&&tf()}function Cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(Vr)}function zg(e,t){if(e==="click")return Xs(t)}function Mg(e,t){if(e==="input"||e==="change")return Xs(t)}function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Og;function Rr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var o=r[l];if(!pi.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rf(e,t){var r=af(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=af(r)}}function sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vs(e.document)}return t}function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bg=mn&&"documentMode"in document&&11>=document.documentMode,Xa=null,qi=null,qr=null,Hi=!1;function of(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hi||Xa==null||Xa!==Vs(l)||(l=Xa,"selectionStart"in l&&Ri(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qr&&Rr(qr,l)||(qr=l,l=Bl(qi,"onSelect"),0<l.length&&(t=new js("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Xa)))}function ma(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qa={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Gi={},uf={};mn&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function pa(e){if(Gi[e])return Gi[e];if(!Qa[e])return e;var t=Qa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uf)return Gi[e]=t[r];return e}var cf=pa("animationend"),ff=pa("animationiteration"),hf=pa("animationstart"),Ig=pa("transitionrun"),Ug=pa("transitionstart"),Ng=pa("transitioncancel"),df=pa("transitionend"),mf=new Map,ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ji.push("scrollEnd");function Pt(e,t){mf.set(e,t),ha(t,[e])}var Qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],Za=0,Yi=0;function Zs(){for(var e=Za,t=Yi=Za=0;t<e;){var r=Vt[t];Vt[t++]=null;var l=Vt[t];Vt[t++]=null;var o=Vt[t];Vt[t++]=null;var c=Vt[t];if(Vt[t++]=null,l!==null&&o!==null){var _=l.pending;_===null?o.next=o:(o.next=_.next,_.next=o),l.pending=o}c!==0&&pf(r,o,c)}}function $s(e,t,r,l){Vt[Za++]=e,Vt[Za++]=t,Vt[Za++]=r,Vt[Za++]=l,Yi|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xi(e,t,r,l){return $s(e,t,r,l),Ks(e)}function ga(e,t){return $s(e,null,null,t),Ks(e)}function pf(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var o=!1,c=e.return;c!==null;)c.childLanes|=r,l=c.alternate,l!==null&&(l.childLanes|=r),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(r),e=c.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=r|536870912),c):null}function Ks(e){if(50<os)throw os=0,tu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $a={};function Lg(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,r,l){return new Lg(e,t,r,l)}function Qi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var r=e.alternate;return r===null?(r=Dt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function gf(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Js(e,t,r,l,o,c){var _=0;if(l=e,typeof e=="function")Qi(e)&&(_=1);else if(typeof e=="string")_=G_(e,r,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ye:return e=Dt(31,r,t,o),e.elementType=Ye,e.lanes=c,e;case F:return _a(r.children,o,c,t);case K:_=8,o|=24;break;case ae:return e=Dt(12,r,t,o|2),e.elementType=ae,e.lanes=c,e;case Ae:return e=Dt(13,r,t,o),e.elementType=Ae,e.lanes=c,e;case be:return e=Dt(19,r,t,o),e.elementType=be,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:_=10;break e;case se:_=9;break e;case $:_=11;break e;case ue:_=14;break e;case qe:_=16,l=null;break e}_=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Dt(_,r,t,o),t.elementType=e,t.type=l,t.lanes=c,t}function _a(e,t,r,l){return e=Dt(7,e,l,t),e.lanes=r,e}function Zi(e,t,r){return e=Dt(6,e,null,t),e.lanes=r,e}function _f(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function $i(e,t,r){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yf=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var r=yf.get(e);return r!==void 0?r:(t={value:e,source:t,stack:gc(t)},yf.set(e,t),t)}return{value:e,source:t,stack:gc(t)}}var Ka=[],Ja=0,Fs=null,Hr=0,qt=[],Ht=0,Ln=null,sn=1,ln="";function gn(e,t){Ka[Ja++]=Hr,Ka[Ja++]=Fs,Fs=e,Hr=t}function bf(e,t,r){qt[Ht++]=sn,qt[Ht++]=ln,qt[Ht++]=Ln,Ln=e;var l=sn;e=ln;var o=32-At(l)-1;l&=~(1<<o),r+=1;var c=32-At(t)+o;if(30<c){var _=o-o%5;c=(l&(1<<_)-1).toString(32),l>>=_,o-=_,sn=1<<32-At(t)+o|r<<o|l,ln=c+e}else sn=1<<c|r<<o|l,ln=e}function Ki(e){e.return!==null&&(gn(e,1),bf(e,1,0))}function Ji(e){for(;e===Fs;)Fs=Ka[--Ja],Ka[Ja]=null,Hr=Ka[--Ja],Ka[Ja]=null;for(;e===Ln;)Ln=qt[--Ht],qt[Ht]=null,ln=qt[--Ht],qt[Ht]=null,sn=qt[--Ht],qt[Ht]=null}function vf(e,t){qt[Ht++]=sn,qt[Ht++]=ln,qt[Ht++]=Ln,sn=t.id,ln=t.overflow,Ln=e}var it=null,Ue=null,ge=!1,Vn=null,Gt=!1,Fi=Error(s(519));function Rn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gr(Rt(t,e)),Fi}function xf(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[lt]=e,t[_t]=l,r){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(r=0;r<cs.length;r++)de(cs[r],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Bc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Uc(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Vd(t.textContent,r)?(l.popover!=null&&(de("beforetoggle",t),de("toggle",t)),l.onScroll!=null&&de("scroll",t),l.onScrollEnd!=null&&de("scrollend",t),l.onClick!=null&&(t.onclick=dn),t=!0):t=!1,t||Rn(e,!0)}function wf(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:it=it.return}}function Fa(e){if(e!==it)return!1;if(!ge)return wf(e),ge=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||gu(e.type,e.memoizedProps)),r=!r),r&&Ue&&Rn(e),wf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Zd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ue=Zd(e)}else t===27?(t=Ue,Pn(e.type)?(e=xu,xu=null,Ue=e):Ue=t):Ue=it?Yt(e.stateNode.nextSibling):null;return!0}function ya(){Ue=it=null,ge=!1}function Wi(){var e=Vn;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Vn=null),e}function Gr(e){Vn===null?Vn=[e]:Vn.push(e)}var Pi=T(null),ba=null,_n=null;function qn(e,t,r){Z(Pi,t._currentValue),t._currentValue=r}function yn(e){e._currentValue=Pi.current,G(Pi)}function eo(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function to(e,t,r,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var _=o.child;c=c.firstContext;e:for(;c!==null;){var b=c;c=o;for(var w=0;w<t.length;w++)if(b.context===t[w]){c.lanes|=r,b=c.alternate,b!==null&&(b.lanes|=r),eo(c.return,r,e),l||(_=null);break e}c=b.next}}else if(o.tag===18){if(_=o.return,_===null)throw Error(s(341));_.lanes|=r,c=_.alternate,c!==null&&(c.lanes|=r),eo(_,r,e),_=null}else _=o.child;if(_!==null)_.return=o;else for(_=o;_!==null;){if(_===e){_=null;break}if(o=_.sibling,o!==null){o.return=_.return,_=o;break}_=_.return}o=_}}function Wa(e,t,r,l){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var _=o.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=o.type;Et(o.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(o===Se.current){if(_=o.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ps):e=[ps])}o=o.return}e!==null&&to(t,e,r,l),t.flags|=262144}function Ws(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ba=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return kf(ba,e)}function Ps(e,t){return ba===null&&va(e),kf(e,t)}function kf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},_n===null){if(e===null)throw Error(s(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return r}var Vg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Rg=d.unstable_scheduleCallback,qg=d.unstable_NormalPriority,$e={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new Vg,data:new Map,refCount:0}}function jr(e){e.refCount--,e.refCount===0&&Rg(qg,function(){e.controller.abort()})}var Yr=null,ao=0,Pa=0,er=null;function Hg(e,t){if(Yr===null){var r=Yr=[];ao=0,Pa=iu(),er={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ao++,t.then(Sf,Sf),t}function Sf(){if(--ao===0&&Yr!==null){er!==null&&(er.status="fulfilled");var e=Yr;Yr=null,Pa=0,er=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gg(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(o){r.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<r.length;o++)(0,r[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<r.length;o++)(0,r[o])(void 0)}),l}var Tf=V.S;V.S=function(e,t){od=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hg(e,t),Tf!==null&&Tf(e,t)};var xa=T(null);function ro(){var e=xa.current;return e!==null?e:Ie.pooledCache}function el(e,t){t===null?Z(xa,xa.current):Z(xa,t.pool)}function Af(){var e=ro();return e===null?null:{parent:$e._currentValue,pool:e}}var tr=Error(s(460)),so=Error(s(474)),tl=Error(s(542)),nl={then:function(){}};function Ef(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Df(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(dn,dn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zf(e),e;default:if(typeof t.status=="string")t.then(dn,dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zf(e),e}throw ka=t,tr}}function wa(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ka=r,tr):r}}var ka=null;function Cf(){if(ka===null)throw Error(s(459));var e=ka;return ka=null,e}function zf(e){if(e===tr||e===tl)throw Error(s(483))}var nr=null,Xr=0;function al(e){var t=Xr;return Xr+=1,nr===null&&(nr=[]),Df(nr,e,t)}function Qr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function rl(e,t){throw t.$$typeof===k?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mf(e){function t(C,S){if(e){var B=C.deletions;B===null?(C.deletions=[S],C.flags|=16):B.push(S)}}function r(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function l(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function o(C,S){return C=pn(C,S),C.index=0,C.sibling=null,C}function c(C,S,B){return C.index=B,e?(B=C.alternate,B!==null?(B=B.index,B<S?(C.flags|=67108866,S):B):(C.flags|=67108866,S)):(C.flags|=1048576,S)}function _(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,S,B,R){return S===null||S.tag!==6?(S=Zi(B,C.mode,R),S.return=C,S):(S=o(S,B),S.return=C,S)}function w(C,S,B,R){var ee=B.type;return ee===F?L(C,S,B.props.children,R,B.key):S!==null&&(S.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&wa(ee)===S.type)?(S=o(S,B.props),Qr(S,B),S.return=C,S):(S=Js(B.type,B.key,B.props,null,C.mode,R),Qr(S,B),S.return=C,S)}function I(C,S,B,R){return S===null||S.tag!==4||S.stateNode.containerInfo!==B.containerInfo||S.stateNode.implementation!==B.implementation?(S=$i(B,C.mode,R),S.return=C,S):(S=o(S,B.children||[]),S.return=C,S)}function L(C,S,B,R,ee){return S===null||S.tag!==7?(S=_a(B,C.mode,R,ee),S.return=C,S):(S=o(S,B),S.return=C,S)}function H(C,S,B){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Zi(""+S,C.mode,B),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O:return B=Js(S.type,S.key,S.props,null,C.mode,B),Qr(B,S),B.return=C,B;case j:return S=$i(S,C.mode,B),S.return=C,S;case qe:return S=wa(S),H(C,S,B)}if(Wt(S)||st(S))return S=_a(S,C.mode,B,null),S.return=C,S;if(typeof S.then=="function")return H(C,al(S),B);if(S.$$typeof===Y)return H(C,Ps(C,S),B);rl(C,S)}return null}function U(C,S,B,R){var ee=S!==null?S.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ee!==null?null:b(C,S,""+B,R);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===ee?w(C,S,B,R):null;case j:return B.key===ee?I(C,S,B,R):null;case qe:return B=wa(B),U(C,S,B,R)}if(Wt(B)||st(B))return ee!==null?null:L(C,S,B,R,null);if(typeof B.then=="function")return U(C,S,al(B),R);if(B.$$typeof===Y)return U(C,S,Ps(C,B),R);rl(C,B)}return null}function N(C,S,B,R,ee){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return C=C.get(B)||null,b(S,C,""+R,ee);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O:return C=C.get(R.key===null?B:R.key)||null,w(S,C,R,ee);case j:return C=C.get(R.key===null?B:R.key)||null,I(S,C,R,ee);case qe:return R=wa(R),N(C,S,B,R,ee)}if(Wt(R)||st(R))return C=C.get(B)||null,L(S,C,R,ee,null);if(typeof R.then=="function")return N(C,S,B,al(R),ee);if(R.$$typeof===Y)return N(C,S,B,Ps(S,R),ee);rl(S,R)}return null}function J(C,S,B,R){for(var ee=null,ve=null,P=S,ce=S=0,pe=null;P!==null&&ce<B.length;ce++){P.index>ce?(pe=P,P=null):pe=P.sibling;var xe=U(C,P,B[ce],R);if(xe===null){P===null&&(P=pe);break}e&&P&&xe.alternate===null&&t(C,P),S=c(xe,S,ce),ve===null?ee=xe:ve.sibling=xe,ve=xe,P=pe}if(ce===B.length)return r(C,P),ge&&gn(C,ce),ee;if(P===null){for(;ce<B.length;ce++)P=H(C,B[ce],R),P!==null&&(S=c(P,S,ce),ve===null?ee=P:ve.sibling=P,ve=P);return ge&&gn(C,ce),ee}for(P=l(P);ce<B.length;ce++)pe=N(P,C,ce,B[ce],R),pe!==null&&(e&&pe.alternate!==null&&P.delete(pe.key===null?ce:pe.key),S=c(pe,S,ce),ve===null?ee=pe:ve.sibling=pe,ve=pe);return e&&P.forEach(function(ra){return t(C,ra)}),ge&&gn(C,ce),ee}function te(C,S,B,R){if(B==null)throw Error(s(151));for(var ee=null,ve=null,P=S,ce=S=0,pe=null,xe=B.next();P!==null&&!xe.done;ce++,xe=B.next()){P.index>ce?(pe=P,P=null):pe=P.sibling;var ra=U(C,P,xe.value,R);if(ra===null){P===null&&(P=pe);break}e&&P&&ra.alternate===null&&t(C,P),S=c(ra,S,ce),ve===null?ee=ra:ve.sibling=ra,ve=ra,P=pe}if(xe.done)return r(C,P),ge&&gn(C,ce),ee;if(P===null){for(;!xe.done;ce++,xe=B.next())xe=H(C,xe.value,R),xe!==null&&(S=c(xe,S,ce),ve===null?ee=xe:ve.sibling=xe,ve=xe);return ge&&gn(C,ce),ee}for(P=l(P);!xe.done;ce++,xe=B.next())xe=N(P,C,ce,xe.value,R),xe!==null&&(e&&xe.alternate!==null&&P.delete(xe.key===null?ce:xe.key),S=c(xe,S,ce),ve===null?ee=xe:ve.sibling=xe,ve=xe);return e&&P.forEach(function(P_){return t(C,P_)}),ge&&gn(C,ce),ee}function Oe(C,S,B,R){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var ee=B.key;S!==null;){if(S.key===ee){if(ee=B.type,ee===F){if(S.tag===7){r(C,S.sibling),R=o(S,B.props.children),R.return=C,C=R;break e}}else if(S.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&wa(ee)===S.type){r(C,S.sibling),R=o(S,B.props),Qr(R,B),R.return=C,C=R;break e}r(C,S);break}else t(C,S);S=S.sibling}B.type===F?(R=_a(B.props.children,C.mode,R,B.key),R.return=C,C=R):(R=Js(B.type,B.key,B.props,null,C.mode,R),Qr(R,B),R.return=C,C=R)}return _(C);case j:e:{for(ee=B.key;S!==null;){if(S.key===ee)if(S.tag===4&&S.stateNode.containerInfo===B.containerInfo&&S.stateNode.implementation===B.implementation){r(C,S.sibling),R=o(S,B.children||[]),R.return=C,C=R;break e}else{r(C,S);break}else t(C,S);S=S.sibling}R=$i(B,C.mode,R),R.return=C,C=R}return _(C);case qe:return B=wa(B),Oe(C,S,B,R)}if(Wt(B))return J(C,S,B,R);if(st(B)){if(ee=st(B),typeof ee!="function")throw Error(s(150));return B=ee.call(B),te(C,S,B,R)}if(typeof B.then=="function")return Oe(C,S,al(B),R);if(B.$$typeof===Y)return Oe(C,S,Ps(C,B),R);rl(C,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,S!==null&&S.tag===6?(r(C,S.sibling),R=o(S,B),R.return=C,C=R):(r(C,S),R=Zi(B,C.mode,R),R.return=C,C=R),_(C)):r(C,S)}return function(C,S,B,R){try{Xr=0;var ee=Oe(C,S,B,R);return nr=null,ee}catch(P){if(P===tr||P===tl)throw P;var ve=Dt(29,P,null,C.mode);return ve.lanes=R,ve.return=C,ve}finally{}}}var Sa=Mf(!0),Of=Mf(!1),Hn=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=Ks(e),pf(e,null,r),t}return $s(e,l,t,r),Ks(e)}function Zr(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,wc(e,r)}}function oo(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var o=null,c=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};c===null?o=c=_:c=c.next=_,r=r.next}while(r!==null);c===null?o=c=t:c=c.next=t}else o=c=t;r={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var uo=!1;function $r(){if(uo){var e=er;if(e!==null)throw e}}function Kr(e,t,r,l){uo=!1;var o=e.updateQueue;Hn=!1;var c=o.firstBaseUpdate,_=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var w=b,I=w.next;w.next=null,_===null?c=I:_.next=I,_=w;var L=e.alternate;L!==null&&(L=L.updateQueue,b=L.lastBaseUpdate,b!==_&&(b===null?L.firstBaseUpdate=I:b.next=I,L.lastBaseUpdate=w))}if(c!==null){var H=o.baseState;_=0,L=I=w=null,b=c;do{var U=b.lane&-536870913,N=U!==b.lane;if(N?(me&U)===U:(l&U)===U){U!==0&&U===Pa&&(uo=!0),L!==null&&(L=L.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var J=e,te=b;U=t;var Oe=r;switch(te.tag){case 1:if(J=te.payload,typeof J=="function"){H=J.call(Oe,H,U);break e}H=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=te.payload,U=typeof J=="function"?J.call(Oe,H,U):J,U==null)break e;H=y({},H,U);break e;case 2:Hn=!0}}U=b.callback,U!==null&&(e.flags|=64,N&&(e.flags|=8192),N=o.callbacks,N===null?o.callbacks=[U]:N.push(U))}else N={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},L===null?(I=L=N,w=H):L=L.next=N,_|=U;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;N=b,b=N.next,N.next=null,o.lastBaseUpdate=N,o.shared.pending=null}}while(!0);L===null&&(w=H),o.baseState=w,o.firstBaseUpdate=I,o.lastBaseUpdate=L,c===null&&(o.shared.lanes=0),$n|=_,e.lanes=_,e.memoizedState=H}}function Bf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function If(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Bf(r[e],t)}var ar=T(null),sl=T(0);function Uf(e,t){e=En,Z(sl,e),Z(ar,t),En=e|t.baseLanes}function co(){Z(sl,En),Z(ar,ar.current)}function fo(){En=sl.current,G(ar),G(sl)}var Ct=T(null),jt=null;function Yn(e){var t=e.alternate;Z(Qe,Qe.current&1),Z(Ct,e),jt===null&&(t===null||ar.current!==null||t.memoizedState!==null)&&(jt=e)}function ho(e){Z(Qe,Qe.current),Z(Ct,e),jt===null&&(jt=e)}function Nf(e){e.tag===22?(Z(Qe,Qe.current),Z(Ct,e),jt===null&&(jt=e)):Xn()}function Xn(){Z(Qe,Qe.current),Z(Ct,Ct.current)}function zt(e){G(Ct),jt===e&&(jt=null),G(Qe)}var Qe=T(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bu(r)||vu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,oe=null,ze=null,Ke=null,il=!1,rr=!1,Ta=!1,ol=0,Jr=0,sr=null,jg=0;function He(){throw Error(s(321))}function mo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function po(e,t,r,l,o,c){return bn=c,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?bh:zo,Ta=!1,c=r(l,o),Ta=!1,rr&&(c=Vf(t,r,l,o)),Lf(e),c}function Lf(e){V.H=Pr;var t=ze!==null&&ze.next!==null;if(bn=0,Ke=ze=oe=null,il=!1,Jr=0,sr=null,t)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&Ws(e)&&(Je=!0))}function Vf(e,t,r,l){oe=e;var o=0;do{if(rr&&(sr=null),Jr=0,rr=!1,25<=o)throw Error(s(301));if(o+=1,Ke=ze=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}V.H=vh,c=t(r,l)}while(rr);return c}function Yg(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?Fr(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(oe.flags|=1024),t}function go(){var e=ol!==0;return ol=0,e}function _o(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function yo(e){if(il){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}il=!1}bn=0,Ke=ze=oe=null,rr=!1,Jr=ol=0,sr=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?oe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ze(){if(ze===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ke===null?oe.memoizedState:Ke.next;if(t!==null)Ke=t,ze=e;else{if(e===null)throw oe.alternate===null?Error(s(467)):Error(s(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?oe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fr(e){var t=Jr;return Jr+=1,sr===null&&(sr=[]),e=Df(sr,e,t),t=oe,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?bh:zo),e}function cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fr(e);if(e.$$typeof===Y)return ot(e)}throw Error(s(438,String(e)))}function bo(e){var t=null,r=oe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=ul(),oe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=Jt;return t.index++,r}function vn(e,t){return typeof t=="function"?t(e):t}function fl(e){var t=Ze();return vo(t,ze,e)}function vo(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var o=e.baseQueue,c=l.pending;if(c!==null){if(o!==null){var _=o.next;o.next=c.next,c.next=_}t.baseQueue=o=c,l.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var b=_=null,w=null,I=t,L=!1;do{var H=I.lane&-536870913;if(H!==I.lane?(me&H)===H:(bn&H)===H){var U=I.revertLane;if(U===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),H===Pa&&(L=!0);else if((bn&U)===U){I=I.next,U===Pa&&(L=!0);continue}else H={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(b=w=H,_=c):w=w.next=H,oe.lanes|=U,$n|=U;H=I.action,Ta&&r(c,H),c=I.hasEagerState?I.eagerState:r(c,H)}else U={lane:H,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},w===null?(b=w=U,_=c):w=w.next=U,oe.lanes|=H,$n|=H;I=I.next}while(I!==null&&I!==t);if(w===null?_=c:w.next=b,!Et(c,e.memoizedState)&&(Je=!0,L&&(r=er,r!==null)))throw r;e.memoizedState=c,e.baseState=_,e.baseQueue=w,l.lastRenderedState=c}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xo(e){var t=Ze(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,o=r.pending,c=t.memoizedState;if(o!==null){r.pending=null;var _=o=o.next;do c=e(c,_.action),_=_.next;while(_!==o);Et(c,t.memoizedState)||(Je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),r.lastRenderedState=c}return[c,l]}function Rf(e,t,r){var l=oe,o=Ze(),c=ge;if(c){if(r===void 0)throw Error(s(407));r=r()}else r=t();var _=!Et((ze||o).memoizedState,r);if(_&&(o.memoizedState=r,Je=!0),o=o.queue,So(Gf.bind(null,l,o,e),[e]),o.getSnapshot!==t||_||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,lr(9,{destroy:void 0},Hf.bind(null,l,o,r,t),null),Ie===null)throw Error(s(349));c||(bn&127)!==0||qf(l,t,r)}return r}function qf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=oe.updateQueue,t===null?(t=ul(),oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hf(e,t,r,l){t.value=r,t.getSnapshot=l,jf(t)&&Yf(e)}function Gf(e,t,r){return r(function(){jf(t)&&Yf(e)})}function jf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function Yf(e){var t=ga(e,2);t!==null&&kt(t,e,2)}function wo(e){var t=pt();if(typeof e=="function"){var r=e;if(e=r(),Ta){In(!0);try{r()}finally{In(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Xf(e,t,r,l){return e.baseState=r,vo(e,ze,typeof l=="function"?l:vn)}function Xg(e,t,r,l,o){if(ml(e))throw Error(s(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){c.listeners.push(_)}};V.T!==null?r(!0):c.isTransition=!1,l(c),r=t.pending,r===null?(c.next=t.pending=c,Qf(t,c)):(c.next=r.next,t.pending=r.next=c)}}function Qf(e,t){var r=t.action,l=t.payload,o=e.state;if(t.isTransition){var c=V.T,_={};V.T=_;try{var b=r(o,l),w=V.S;w!==null&&w(_,b),Zf(e,t,b)}catch(I){ko(e,t,I)}finally{c!==null&&_.types!==null&&(c.types=_.types),V.T=c}}else try{c=r(o,l),Zf(e,t,c)}catch(I){ko(e,t,I)}}function Zf(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){$f(e,t,l)},function(l){return ko(e,t,l)}):$f(e,t,r)}function $f(e,t,r){t.status="fulfilled",t.value=r,Kf(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Qf(e,r)))}function ko(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,Kf(t),t=t.next;while(t!==l)}e.action=null}function Kf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jf(e,t){return t}function Ff(e,t){if(ge){var r=Ie.formState;if(r!==null){e:{var l=oe;if(ge){if(Ue){t:{for(var o=Ue,c=Gt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Yt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Ue=Yt(o.nextSibling),l=o.data==="F!";break e}}Rn(l)}l=!1}l&&(t=r[0])}}return r=pt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:t},r.queue=l,r=gh.bind(null,oe,l),l.dispatch=r,l=wo(!1),c=Co.bind(null,oe,!1,l.queue),l=pt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,r=Xg.bind(null,oe,o,c,r),o.dispatch=r,l.memoizedState=e,[t,r,!1]}function Wf(e){var t=Ze();return Pf(t,ze,e)}function Pf(e,t,r){if(t=vo(e,t,Jf)[0],e=fl(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Fr(t)}catch(_){throw _===tr?tl:_}else l=t;t=Ze();var o=t.queue,c=o.dispatch;return r!==t.memoizedState&&(oe.flags|=2048,lr(9,{destroy:void 0},Qg.bind(null,o,r),null)),[l,c,e]}function Qg(e,t){e.action=t}function eh(e){var t=Ze(),r=ze;if(r!==null)return Pf(t,r,e);Ze(),t=t.memoizedState,r=Ze();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function lr(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=oe.updateQueue,t===null&&(t=ul(),oe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function th(){return Ze().memoizedState}function hl(e,t,r,l){var o=pt();oe.flags|=e,o.memoizedState=lr(1|t,{destroy:void 0},r,l===void 0?null:l)}function dl(e,t,r,l){var o=Ze();l=l===void 0?null:l;var c=o.memoizedState.inst;ze!==null&&l!==null&&mo(l,ze.memoizedState.deps)?o.memoizedState=lr(t,c,r,l):(oe.flags|=e,o.memoizedState=lr(1|t,c,r,l))}function nh(e,t){hl(8390656,8,e,t)}function So(e,t){dl(2048,8,e,t)}function Zg(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=ul(),oe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function ah(e){var t=Ze().memoizedState;return Zg({ref:t,nextImpl:e}),function(){if((we&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function rh(e,t){return dl(4,2,e,t)}function sh(e,t){return dl(4,4,e,t)}function lh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ih(e,t,r){r=r!=null?r.concat([e]):null,dl(4,4,lh.bind(null,t,e),r)}function To(){}function oh(e,t){var r=Ze();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&mo(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function uh(e,t){var r=Ze();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&mo(t,l[1]))return l[0];if(l=e(),Ta){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[l,t],l}function Ao(e,t,r){return r===void 0||(bn&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=cd(),oe.lanes|=e,$n|=e,r)}function ch(e,t,r,l){return Et(r,t)?r:ar.current!==null?(e=Ao(e,r,l),Et(e,t)||(Je=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(me&261930)===0?(Je=!0,e.memoizedState=r):(e=cd(),oe.lanes|=e,$n|=e,t)}function fh(e,t,r,l,o){var c=Q.p;Q.p=c!==0&&8>c?c:8;var _=V.T,b={};V.T=b,Co(e,!1,t,r);try{var w=o(),I=V.S;if(I!==null&&I(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var L=Gg(w,l);Wr(e,t,L,Bt(e))}else Wr(e,t,l,Bt(e))}catch(H){Wr(e,t,{then:function(){},status:"rejected",reason:H},Bt())}finally{Q.p=c,_!==null&&b.types!==null&&(_.types=b.types),V.T=_}}function $g(){}function Eo(e,t,r,l){if(e.tag!==5)throw Error(s(476));var o=hh(e).queue;fh(e,o,t,re,r===null?$g:function(){return dh(e),r(l)})}function hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:re},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dh(e){var t=hh(e);t.next===null&&(t=e.alternate.memoizedState),Wr(e,t.next.queue,{},Bt())}function Do(){return ot(ps)}function mh(){return Ze().memoizedState}function ph(){return Ze().memoizedState}function Kg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Bt();e=Gn(r);var l=jn(t,e,r);l!==null&&(kt(l,t,r),Zr(l,t,r)),t={cache:no()},e.payload=t;return}t=t.return}}function Jg(e,t,r){var l=Bt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ml(e)?_h(t,r):(r=Xi(e,t,r,l),r!==null&&(kt(r,e,l),yh(r,t,l)))}function gh(e,t,r){var l=Bt();Wr(e,t,r,l)}function Wr(e,t,r,l){var o={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ml(e))_h(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var _=t.lastRenderedState,b=c(_,r);if(o.hasEagerState=!0,o.eagerState=b,Et(b,_))return $s(e,t,o,0),Ie===null&&Zs(),!1}catch{}finally{}if(r=Xi(e,t,o,l),r!==null)return kt(r,e,l),yh(r,t,l),!0}return!1}function Co(e,t,r,l){if(l={lane:2,revertLane:iu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(s(479))}else t=Xi(e,r,l,2),t!==null&&kt(t,e,2)}function ml(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function _h(e,t){rr=il=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yh(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,wc(e,r)}}var Pr={readContext:ot,use:cl,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};Pr.useEffectEvent=He;var bh={readContext:ot,use:cl,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:nh,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,hl(4194308,4,lh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){hl(4,2,e,t)},useMemo:function(e,t){var r=pt();t=t===void 0?null:t;var l=e();if(Ta){In(!0);try{e()}finally{In(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=pt();if(r!==void 0){var o=r(t);if(Ta){In(!0);try{r(t)}finally{In(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Jg.bind(null,oe,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=wo(e);var t=e.queue,r=gh.bind(null,oe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:To,useDeferredValue:function(e,t){var r=pt();return Ao(r,e,t)},useTransition:function(){var e=wo(!1);return e=fh.bind(null,oe,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=oe,o=pt();if(ge){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Ie===null)throw Error(s(349));(me&127)!==0||qf(l,t,r)}o.memoizedState=r;var c={value:r,getSnapshot:t};return o.queue=c,nh(Gf.bind(null,l,c,e),[e]),l.flags|=2048,lr(9,{destroy:void 0},Hf.bind(null,l,c,r,t),null),r},useId:function(){var e=pt(),t=Ie.identifierPrefix;if(ge){var r=ln,l=sn;r=(l&~(1<<32-At(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=ol++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=jg++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:Ff,useActionState:Ff,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Co.bind(null,oe,!0,r),r.dispatch=t,[e,t]},useMemoCache:bo,useCacheRefresh:function(){return pt().memoizedState=Kg.bind(null,oe)},useEffectEvent:function(e){var t=pt(),r={impl:e};return t.memoizedState=r,function(){if((we&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},zo={readContext:ot,use:cl,useCallback:oh,useContext:ot,useEffect:So,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:uh,useReducer:fl,useRef:th,useState:function(){return fl(vn)},useDebugValue:To,useDeferredValue:function(e,t){var r=Ze();return ch(r,ze.memoizedState,e,t)},useTransition:function(){var e=fl(vn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Fr(e),t]},useSyncExternalStore:Rf,useId:mh,useHostTransitionStatus:Do,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,t){var r=Ze();return Xf(r,ze,e,t)},useMemoCache:bo,useCacheRefresh:ph};zo.useEffectEvent=ah;var vh={readContext:ot,use:cl,useCallback:oh,useContext:ot,useEffect:So,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:sh,useMemo:uh,useReducer:xo,useRef:th,useState:function(){return xo(vn)},useDebugValue:To,useDeferredValue:function(e,t){var r=Ze();return ze===null?Ao(r,e,t):ch(r,ze.memoizedState,e,t)},useTransition:function(){var e=xo(vn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Fr(e),t]},useSyncExternalStore:Rf,useId:mh,useHostTransitionStatus:Do,useFormState:eh,useActionState:eh,useOptimistic:function(e,t){var r=Ze();return ze!==null?Xf(r,ze,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:bo,useCacheRefresh:ph};vh.useEffectEvent=ah;function Mo(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oo={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Bt(),o=Gn(l);o.payload=t,r!=null&&(o.callback=r),t=jn(e,o,l),t!==null&&(kt(t,e,l),Zr(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Bt(),o=Gn(l);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=jn(e,o,l),t!==null&&(kt(t,e,l),Zr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Bt(),l=Gn(r);l.tag=2,t!=null&&(l.callback=t),t=jn(e,l,r),t!==null&&(kt(t,e,r),Zr(t,e,r))}};function xh(e,t,r,l,o,c,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,_):t.prototype&&t.prototype.isPureReactComponent?!Rr(r,l)||!Rr(o,c):!0}function wh(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Aa(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=y({},r));for(var o in e)r[o]===void 0&&(r[o]=e[o])}return r}function kh(e){Qs(e)}function Sh(e){console.error(e)}function Th(e){Qs(e)}function pl(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ah(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,r){return r=Gn(r),r.tag=3,r.payload={element:null},r.callback=function(){pl(e,t)},r}function Eh(e){return e=Gn(e),e.tag=3,e}function Dh(e,t,r,l){var o=r.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;e.payload=function(){return o(c)},e.callback=function(){Ah(t,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Ah(t,r,l),typeof o!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Fg(e,t,r,l,o){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&Wa(t,r,o,!0),r=Ct.current,r!==null){switch(r.tag){case 31:case 13:return jt===null?El():r.alternate===null&&Ge===0&&(Ge=3),r.flags&=-257,r.flags|=65536,r.lanes=o,l===nl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),ru(e,l,o)),!1;case 22:return r.flags|=65536,l===nl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),ru(e,l,o)),!1}throw Error(s(435,r.tag))}return ru(e,l,o),El(),!1}if(ge)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Fi&&(e=Error(s(422),{cause:l}),Gr(Rt(e,r)))):(l!==Fi&&(t=Error(s(423),{cause:l}),Gr(Rt(t,r))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Rt(l,r),o=Bo(e.stateNode,l,o),oo(e,o),Ge!==4&&(Ge=2)),!1;var c=Error(s(520),{cause:l});if(c=Rt(c,r),is===null?is=[c]:is.push(c),Ge!==4&&(Ge=2),t===null)return!0;l=Rt(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=o&-o,r.lanes|=e,e=Bo(r.stateNode,l,e),oo(r,e),!1;case 1:if(t=r.type,c=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))))return r.flags|=65536,o&=-o,r.lanes|=o,o=Eh(o),Dh(o,e,r,l),oo(r,o),!1}r=r.return}while(r!==null);return!1}var Io=Error(s(461)),Je=!1;function ut(e,t,r,l){t.child=e===null?Of(t,null,r,l):Sa(t,e.child,r,l)}function Ch(e,t,r,l,o){r=r.render;var c=t.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return va(t),l=po(e,t,r,_,c,o),b=go(),e!==null&&!Je?(_o(e,t,o),xn(e,t,o)):(ge&&b&&Ki(t),t.flags|=1,ut(e,t,l,o),t.child)}function zh(e,t,r,l,o){if(e===null){var c=r.type;return typeof c=="function"&&!Qi(c)&&c.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=c,Mh(e,t,c,l,o)):(e=Js(r.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Go(e,o)){var _=c.memoizedProps;if(r=r.compare,r=r!==null?r:Rr,r(_,l)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=pn(c,l),e.ref=t.ref,e.return=t,t.child=e}function Mh(e,t,r,l,o){if(e!==null){var c=e.memoizedProps;if(Rr(c,l)&&e.ref===t.ref)if(Je=!1,t.pendingProps=l=c,Go(e,o))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,xn(e,t,o)}return Uo(e,t,r,l,o)}function Oh(e,t,r,l){var o=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|r:r,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~c}else l=0,t.child=null;return Bh(e,t,c,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&el(t,c!==null?c.cachePool:null),c!==null?Uf(t,c):co(),Nf(t);else return l=t.lanes=536870912,Bh(e,t,c!==null?c.baseLanes|r:r,r,l)}else c!==null?(el(t,c.cachePool),Uf(t,c),Xn(),t.memoizedState=null):(e!==null&&el(t,null),co(),Xn());return ut(e,t,o,r),t.child}function es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bh(e,t,r,l,o){var c=ro();return c=c===null?null:{parent:$e._currentValue,pool:c},t.memoizedState={baseLanes:r,cachePool:c},e!==null&&el(t,null),co(),Nf(t),e!==null&&Wa(e,t,l,!0),t.childLanes=o,null}function gl(e,t){return t=yl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ih(e,t,r){return Sa(t,e.child,null,r),e=gl(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function Wg(e,t,r){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(l.mode==="hidden")return e=gl(t,l),t.lanes=536870912,es(null,e);if(ho(t),(e=Ue)?(e=Qd(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},r=_f(e),r.return=t,t.child=r,it=t,Ue=null)):e=null,e===null)throw Rn(t);return t.lanes=536870912,null}return gl(t,l)}var c=e.memoizedState;if(c!==null){var _=c.dehydrated;if(ho(t),o)if(t.flags&256)t.flags&=-257,t=Ih(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Je||Wa(e,t,r,!1),o=(r&e.childLanes)!==0,Je||o){if(l=Ie,l!==null&&(_=kc(l,r),_!==0&&_!==c.retryLane))throw c.retryLane=_,ga(e,_),kt(l,e,_),Io;El(),t=Ih(e,t,r)}else e=c.treeContext,Ue=Yt(_.nextSibling),it=t,ge=!0,Vn=null,Gt=!1,e!==null&&vf(t,e),t=gl(t,l),t.flags|=4096;return t}return e=pn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _l(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Uo(e,t,r,l,o){return va(t),r=po(e,t,r,l,void 0,o),l=go(),e!==null&&!Je?(_o(e,t,o),xn(e,t,o)):(ge&&l&&Ki(t),t.flags|=1,ut(e,t,r,o),t.child)}function Uh(e,t,r,l,o,c){return va(t),t.updateQueue=null,r=Vf(t,l,r,o),Lf(e),l=go(),e!==null&&!Je?(_o(e,t,c),xn(e,t,c)):(ge&&l&&Ki(t),t.flags|=1,ut(e,t,r,c),t.child)}function Nh(e,t,r,l,o){if(va(t),t.stateNode===null){var c=$a,_=r.contextType;typeof _=="object"&&_!==null&&(c=ot(_)),c=new r(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Oo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},lo(t),_=r.contextType,c.context=typeof _=="object"&&_!==null?ot(_):$a,c.state=t.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Mo(t,r,_,l),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(_=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),_!==c.state&&Oo.enqueueReplaceState(c,c.state,null),Kr(t,l,c,o),$r(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var b=t.memoizedProps,w=Aa(r,b);c.props=w;var I=c.context,L=r.contextType;_=$a,typeof L=="object"&&L!==null&&(_=ot(L));var H=r.getDerivedStateFromProps;L=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||I!==_)&&wh(t,c,l,_),Hn=!1;var U=t.memoizedState;c.state=U,Kr(t,l,c,o),$r(),I=t.memoizedState,b||U!==I||Hn?(typeof H=="function"&&(Mo(t,r,H,l),I=t.memoizedState),(w=Hn||xh(t,r,w,l,U,I,_))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=I),c.props=l,c.state=I,c.context=_,l=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,io(e,t),_=t.memoizedProps,L=Aa(r,_),c.props=L,H=t.pendingProps,U=c.context,I=r.contextType,w=$a,typeof I=="object"&&I!==null&&(w=ot(I)),b=r.getDerivedStateFromProps,(I=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_!==H||U!==w)&&wh(t,c,l,w),Hn=!1,U=t.memoizedState,c.state=U,Kr(t,l,c,o),$r();var N=t.memoizedState;_!==H||U!==N||Hn||e!==null&&e.dependencies!==null&&Ws(e.dependencies)?(typeof b=="function"&&(Mo(t,r,b,l),N=t.memoizedState),(L=Hn||xh(t,r,L,l,U,N,w)||e!==null&&e.dependencies!==null&&Ws(e.dependencies))?(I||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,N,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,N,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),c.props=l,c.state=N,c.context=w,l=L):(typeof c.componentDidUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,_l(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Sa(t,e.child,null,o),t.child=Sa(t,null,r,o)):ut(e,t,r,o),t.memoizedState=c.state,e=t.child):e=xn(e,t,o),e}function Lh(e,t,r,l){return ya(),t.flags|=256,ut(e,t,r,l),t.child}var No={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lo(e){return{baseLanes:e,cachePool:Af()}}function Vo(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Ot),e}function Vh(e,t,r){var l=t.pendingProps,o=!1,c=(t.flags&128)!==0,_;if((_=c)||(_=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),_&&(o=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(o?Yn(t):Xn(),(e=Ue)?(e=Qd(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},r=_f(e),r.return=t,t.child=r,it=t,Ue=null)):e=null,e===null)throw Rn(t);return vu(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,o?(Xn(),o=t.mode,b=yl({mode:"hidden",children:b},o),l=_a(l,o,r,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Lo(r),l.childLanes=Vo(e,_,r),t.memoizedState=No,es(null,l)):(Yn(t),Ro(t,b))}var w=e.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(c)t.flags&256?(Yn(t),t.flags&=-257,t=qo(e,t,r)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),b=l.fallback,o=t.mode,l=yl({mode:"visible",children:l.children},o),b=_a(b,o,r,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,Sa(t,e.child,null,r),l=t.child,l.memoizedState=Lo(r),l.childLanes=Vo(e,_,r),t.memoizedState=No,t=es(null,l));else if(Yn(t),vu(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var I=_.dgst;_=I,l=Error(s(419)),l.stack="",l.digest=_,Gr({value:l,source:null,stack:null}),t=qo(e,t,r)}else if(Je||Wa(e,t,r,!1),_=(r&e.childLanes)!==0,Je||_){if(_=Ie,_!==null&&(l=kc(_,r),l!==0&&l!==w.retryLane))throw w.retryLane=l,ga(e,l),kt(_,e,l),Io;bu(b)||El(),t=qo(e,t,r)}else bu(b)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ue=Yt(b.nextSibling),it=t,ge=!0,Vn=null,Gt=!1,e!==null&&vf(t,e),t=Ro(t,l.children),t.flags|=4096);return t}return o?(Xn(),b=l.fallback,o=t.mode,w=e.child,I=w.sibling,l=pn(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,I!==null?b=pn(I,b):(b=_a(b,o,r,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,es(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Lo(r):(o=b.cachePool,o!==null?(w=$e._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Af(),b={baseLanes:b.baseLanes|r,cachePool:o}),l.memoizedState=b,l.childLanes=Vo(e,_,r),t.memoizedState=No,es(e.child,l)):(Yn(t),r=e.child,e=r.sibling,r=pn(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=r,t.memoizedState=null,r)}function Ro(e,t){return t=yl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yl(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function qo(e,t,r){return Sa(t,e.child,null,r),e=Ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rh(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),eo(e.return,t,r)}function Ho(e,t,r,l,o,c){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:o,treeForkCount:c}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=o,_.treeForkCount=c)}function qh(e,t,r){var l=t.pendingProps,o=l.revealOrder,c=l.tail;l=l.children;var _=Qe.current,b=(_&2)!==0;if(b?(_=_&1|2,t.flags|=128):_&=1,Z(Qe,_),ut(e,t,l,r),l=ge?Hr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,r,t);else if(e.tag===19)Rh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&ll(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Ho(t,!1,o,r,c,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ll(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ho(t,!0,r,null,c,l);break;case"together":Ho(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Wa(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=pn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ws(e)))}function Pg(e,t,r){switch(t.tag){case 3:mt(t,t.stateNode.containerInfo),qn(t,$e,e.memoizedState.cache),ya();break;case 27:case 5:Ar(t);break;case 4:mt(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Yn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Vh(e,t,r):(Yn(t),e=xn(e,t,r),e!==null?e.sibling:null);Yn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(Wa(e,t,r,!1),l=(r&t.childLanes)!==0),o){if(l)return qh(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Z(Qe,Qe.current),l)break;return null;case 22:return t.lanes=0,Oh(e,t,r,t.pendingProps);case 24:qn(t,$e,e.memoizedState.cache)}return xn(e,t,r)}function Hh(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Go(e,r)&&(t.flags&128)===0)return Je=!1,Pg(e,t,r);Je=(e.flags&131072)!==0}else Je=!1,ge&&(t.flags&1048576)!==0&&bf(t,Hr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=wa(t.elementType),t.type=e,typeof e=="function")Qi(e)?(l=Aa(e,l),t.tag=1,t=Nh(null,t,e,l,r)):(t.tag=0,t=Uo(null,t,e,l,r));else{if(e!=null){var o=e.$$typeof;if(o===$){t.tag=11,t=Ch(null,t,e,l,r);break e}else if(o===ue){t.tag=14,t=zh(null,t,e,l,r);break e}}throw t=Ft(e)||e,Error(s(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,o=Aa(l,t.pendingProps),Nh(e,t,l,o,r);case 3:e:{if(mt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var c=t.memoizedState;o=c.element,io(e,t),Kr(t,l,null,r);var _=t.memoizedState;if(l=_.cache,qn(t,$e,l),l!==c.cache&&to(t,[$e],r,!0),$r(),l=_.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Lh(e,t,l,r);break e}else if(l!==o){o=Rt(Error(s(424)),t),Gr(o),t=Lh(e,t,l,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Yt(e.firstChild),it=t,ge=!0,Vn=null,Gt=!0,r=Of(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ya(),l===o){t=xn(e,t,r);break e}ut(e,t,l,r)}t=t.child}return t;case 26:return _l(e,t),e===null?(r=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=r:ge||(r=t.type,e=t.pendingProps,l=Il(fe.current).createElement(r),l[lt]=t,l[_t]=e,ct(l,r,e),tt(l),t.stateNode=l):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ar(t),e===null&&ge&&(l=t.stateNode=Kd(t.type,t.pendingProps,fe.current),it=t,Gt=!0,o=Ue,Pn(t.type)?(xu=o,Ue=Yt(l.firstChild)):Ue=o),ut(e,t,t.pendingProps.children,r),_l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((o=l=Ue)&&(l=C_(l,t.type,t.pendingProps,Gt),l!==null?(t.stateNode=l,it=t,Ue=Yt(l.firstChild),Gt=!1,o=!0):o=!1),o||Rn(t)),Ar(t),o=t.type,c=t.pendingProps,_=e!==null?e.memoizedProps:null,l=c.children,gu(o,c)?l=null:_!==null&&gu(o,_)&&(t.flags|=32),t.memoizedState!==null&&(o=po(e,t,Yg,null,null,r),ps._currentValue=o),_l(e,t),ut(e,t,l,r),t.child;case 6:return e===null&&ge&&((e=r=Ue)&&(r=z_(r,t.pendingProps,Gt),r!==null?(t.stateNode=r,it=t,Ue=null,e=!0):e=!1),e||Rn(t)),null;case 13:return Vh(e,t,r);case 4:return mt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Sa(t,null,l,r):ut(e,t,l,r),t.child;case 11:return Ch(e,t,t.type,t.pendingProps,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,qn(t,t.type,l.value),ut(e,t,l.children,r),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,va(t),o=ot(o),l=l(o),t.flags|=1,ut(e,t,l,r),t.child;case 14:return zh(e,t,t.type,t.pendingProps,r);case 15:return Mh(e,t,t.type,t.pendingProps,r);case 19:return qh(e,t,r);case 31:return Wg(e,t,r);case 22:return Oh(e,t,r,t.pendingProps);case 24:return va(t),l=ot($e),e===null?(o=ro(),o===null&&(o=Ie,c=no(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=r),o=c),t.memoizedState={parent:l,cache:o},lo(t),qn(t,$e,o)):((e.lanes&r)!==0&&(io(e,t),Kr(t,null,null,r),$r()),o=e.memoizedState,c=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),qn(t,$e,l)):(l=c.cache,qn(t,$e,l),l!==o.cache&&to(t,[$e],r,!0))),ut(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function wn(e){e.flags|=4}function jo(e,t,r,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(md())e.flags|=8192;else throw ka=nl,so}else e.flags&=-16777217}function Gh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!am(t))if(md())e.flags|=8192;else throw ka=nl,so}function bl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vc():536870912,e.lanes|=t,cr|=t)}function ts(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function e_(e,t,r){var l=t.pendingProps;switch(Ji(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),yn($e),Xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wi())),Ne(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(wn(t),c!==null?(Ne(t),Gh(t,c)):(Ne(t),jo(t,o,null,l,r))):c?c!==e.memoizedState?(wn(t),Ne(t),Gh(t,c)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&wn(t),Ne(t),jo(t,o,e,l,r)),null;case 27:if(zs(t),r=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&wn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ne(t),null}e=W.current,Fa(t)?xf(t):(e=Kd(o,l,r),t.stateNode=e,wn(t))}return Ne(t),null;case 5:if(zs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&wn(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ne(t),null}if(c=W.current,Fa(t))xf(t);else{var _=Il(fe.current);switch(c){case 1:c=_.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=_.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=_.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=_.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=_.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?_.createElement(o,{is:l.is}):_.createElement(o)}}c[lt]=t,c[_t]=l;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)c.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=c;e:switch(ct(c,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&wn(t)}}return Ne(t),jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&wn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,Fa(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,o=it,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Vd(e.nodeValue,r)),e||Rn(t,!0)}else e=Il(e).createTextNode(l),e[lt]=t,t.stateNode=e}return Ne(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=Fa(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[lt]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else r=Wi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ne(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Fa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[lt]=t}else ya(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),o=!1}else o=Wi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),bl(t,t.updateQueue),Ne(t),null);case 4:return Xe(),e===null&&fu(t.stateNode.containerInfo),Ne(t),null;case 10:return yn(t.type),Ne(t),null;case 19:if(G(Qe),l=t.memoizedState,l===null)return Ne(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)ts(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ll(e),c!==null){for(t.flags|=128,ts(l,!1),e=c.updateQueue,t.updateQueue=e,bl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)gf(r,e),r=r.sibling;return Z(Qe,Qe.current&1|2),ge&&gn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&St()>Sl&&(t.flags|=128,o=!0,ts(l,!1),t.lanes=4194304)}else{if(!o)if(e=ll(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,bl(t,e),ts(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!ge)return Ne(t),null}else 2*St()-l.renderingStartTime>Sl&&r!==536870912&&(t.flags|=128,o=!0,ts(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=St(),e.sibling=null,r=Qe.current,Z(Qe,o?r&1|2:r&1),ge&&gn(t,l.treeForkCount),e):(Ne(t),null);case 22:case 23:return zt(t),fo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),r=t.updateQueue,r!==null&&bl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&G(xa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),yn($e),Ne(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function t_(e,t){switch(Ji(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn($e),Xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zs(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(s(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Qe),null;case 4:return Xe(),null;case 10:return yn(t.type),null;case 22:case 23:return zt(t),fo(),e!==null&&G(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yn($e),null;case 25:return null;default:return null}}function jh(e,t){switch(Ji(t),t.tag){case 3:yn($e),Xe();break;case 26:case 27:case 5:zs(t);break;case 4:Xe();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:G(Qe);break;case 10:yn(t.type);break;case 22:case 23:zt(t),fo(),e!==null&&G(xa);break;case 24:yn($e)}}function ns(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var o=l.next;r=o;do{if((r.tag&e)===e){l=void 0;var c=r.create,_=r.inst;l=c(),_.destroy=l}r=r.next}while(r!==o)}}catch(b){De(t,t.return,b)}}function Qn(e,t,r){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,o=t;var w=r,I=b;try{I()}catch(L){De(o,w,L)}}}l=l.next}while(l!==c)}}catch(L){De(t,t.return,L)}}function Yh(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{If(t,r)}catch(l){De(e,e.return,l)}}}function Xh(e,t,r){r.props=Aa(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){De(e,t,l)}}function as(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(o){De(e,t,o)}}function on(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(o){De(e,t,o)}else r.current=null}function Qh(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(o){De(e,e.return,o)}}function Yo(e,t,r){try{var l=e.stateNode;k_(l,e.type,r,t),l[_t]=t}catch(o){De(e,e.return,o)}}function Zh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dn));else if(l!==4&&(l===27&&Pn(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Qo(e,t,r),e=e.sibling;e!==null;)Qo(e,t,r),e=e.sibling}function vl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&Pn(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(vl(e,t,r),e=e.sibling;e!==null;)vl(e,t,r),e=e.sibling}function $h(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ct(t,l,r),t[lt]=e,t[_t]=r}catch(c){De(e,e.return,c)}}var kn=!1,Fe=!1,Zo=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,nt=null;function n_(e,t){if(e=e.containerInfo,mu=Hl,e=lf(e),Ri(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{r.nodeType,c.nodeType}catch{r=null;break e}var _=0,b=-1,w=-1,I=0,L=0,H=e,U=null;t:for(;;){for(var N;H!==r||o!==0&&H.nodeType!==3||(b=_+o),H!==c||l!==0&&H.nodeType!==3||(w=_+l),H.nodeType===3&&(_+=H.nodeValue.length),(N=H.firstChild)!==null;)U=H,H=N;for(;;){if(H===e)break t;if(U===r&&++I===o&&(b=_),U===c&&++L===l&&(w=_),(N=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=N}r=b===-1||w===-1?null:{start:b,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:e,selectionRange:r},Hl=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)o=e[r],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,r=t,o=c.memoizedProps,c=c.memoizedState,l=r.stateNode;try{var J=Aa(r.type,o);e=l.getSnapshotBeforeUpdate(J,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(te){De(r,r.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)yu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function Jh(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Tn(e,r),l&4&&ns(5,r);break;case 1:if(Tn(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(_){De(r,r.return,_)}else{var o=Aa(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){De(r,r.return,_)}}l&64&&Yh(r),l&512&&as(r,r.return);break;case 3:if(Tn(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{If(e,t)}catch(_){De(r,r.return,_)}}break;case 27:t===null&&l&4&&$h(r);case 26:case 5:Tn(e,r),t===null&&l&4&&Qh(r),l&512&&as(r,r.return);break;case 12:Tn(e,r);break;case 31:Tn(e,r),l&4&&Ph(e,r);break;case 13:Tn(e,r),l&4&&ed(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=f_.bind(null,r),M_(e,r))));break;case 22:if(l=r.memoizedState!==null||kn,!l){t=t!==null&&t.memoizedState!==null||Fe,o=kn;var c=Fe;kn=l,(Fe=t)&&!c?An(e,r,(r.subtreeFlags&8772)!==0):Tn(e,r),kn=o,Fe=c}break;case 30:break;default:Tn(e,r)}}function Fh(e){var t=e.alternate;t!==null&&(e.alternate=null,Fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,bt=!1;function Sn(e,t,r){for(r=r.child;r!==null;)Wh(e,t,r),r=r.sibling}function Wh(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Er,r)}catch{}switch(r.tag){case 26:Fe||on(r,t),Sn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Fe||on(r,t);var l=Ve,o=bt;Pn(r.type)&&(Ve=r.stateNode,bt=!1),Sn(e,t,r),hs(r.stateNode),Ve=l,bt=o;break;case 5:Fe||on(r,t);case 6:if(l=Ve,o=bt,Ve=null,Sn(e,t,r),Ve=l,bt=o,Ve!==null)if(bt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(c){De(r,t,c)}else try{Ve.removeChild(r.stateNode)}catch(c){De(r,t,c)}break;case 18:Ve!==null&&(bt?(e=Ve,Yd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),yr(e)):Yd(Ve,r.stateNode));break;case 4:l=Ve,o=bt,Ve=r.stateNode.containerInfo,bt=!0,Sn(e,t,r),Ve=l,bt=o;break;case 0:case 11:case 14:case 15:Qn(2,r,t),Fe||Qn(4,r,t),Sn(e,t,r);break;case 1:Fe||(on(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Xh(r,t,l)),Sn(e,t,r);break;case 21:Sn(e,t,r);break;case 22:Fe=(l=Fe)||r.memoizedState!==null,Sn(e,t,r),Fe=l;break;default:Sn(e,t,r)}}function Ph(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yr(e)}catch(r){De(t,t.return,r)}}}function ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yr(e)}catch(r){De(t,t.return,r)}}function a_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(s(435,e.tag))}}function xl(e,t){var r=a_(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var o=h_.bind(null,e,l);l.then(o,o)}})}function vt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var o=r[l],c=e,_=t,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Pn(b.type)){Ve=b.stateNode,bt=!1;break e}break;case 5:Ve=b.stateNode,bt=!1;break e;case 3:case 4:Ve=b.stateNode.containerInfo,bt=!0;break e}b=b.return}if(Ve===null)throw Error(s(160));Wh(c,_,o),Ve=null,bt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)td(t,e),t=t.sibling}var en=null;function td(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),xt(e),l&4&&(Qn(3,e,e.return),ns(3,e),Qn(5,e,e.return));break;case 1:vt(t,e),xt(e),l&512&&(Fe||r===null||on(r,r.return)),l&64&&kn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var o=en;if(vt(t,e),xt(e),l&512&&(Fe||r===null||on(r,r.return)),l&4){var c=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[zr]||c[lt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),ct(c,l,r),c[lt]=e,tt(c),l=c;break e;case"link":var _=tm("link","href",o).get(l+(r.href||""));if(_){for(var b=0;b<_.length;b++)if(c=_[b],c.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&c.getAttribute("rel")===(r.rel==null?null:r.rel)&&c.getAttribute("title")===(r.title==null?null:r.title)&&c.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(b,1);break t}}c=o.createElement(l),ct(c,l,r),o.head.appendChild(c);break;case"meta":if(_=tm("meta","content",o).get(l+(r.content||""))){for(b=0;b<_.length;b++)if(c=_[b],c.getAttribute("content")===(r.content==null?null:""+r.content)&&c.getAttribute("name")===(r.name==null?null:r.name)&&c.getAttribute("property")===(r.property==null?null:r.property)&&c.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&c.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(b,1);break t}}c=o.createElement(l),ct(c,l,r),o.head.appendChild(c);break;default:throw Error(s(468,l))}c[lt]=e,tt(c),l=c}e.stateNode=l}else nm(o,e.type,e.stateNode);else e.stateNode=em(o,l,e.memoizedProps);else c!==l?(c===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):c.count--,l===null?nm(o,e.type,e.stateNode):em(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Yo(e,e.memoizedProps,r.memoizedProps)}break;case 27:vt(t,e),xt(e),l&512&&(Fe||r===null||on(r,r.return)),r!==null&&l&4&&Yo(e,e.memoizedProps,r.memoizedProps);break;case 5:if(vt(t,e),xt(e),l&512&&(Fe||r===null||on(r,r.return)),e.flags&32){o=e.stateNode;try{Ha(o,"")}catch(J){De(e,e.return,J)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Yo(e,o,r!==null?r.memoizedProps:o)),l&1024&&(Zo=!0);break;case 6:if(vt(t,e),xt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(J){De(e,e.return,J)}}break;case 3:if(Ll=null,o=en,en=Ul(t.containerInfo),vt(t,e),en=o,xt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{yr(t.containerInfo)}catch(J){De(e,e.return,J)}Zo&&(Zo=!1,nd(e));break;case 4:l=en,en=Ul(e.stateNode.containerInfo),vt(t,e),xt(e),en=l;break;case 12:vt(t,e),xt(e);break;case 31:vt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 13:vt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(kl=St()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 22:o=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,I=kn,L=Fe;if(kn=I||o,Fe=L||w,vt(t,e),Fe=L,kn=I,xt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(r===null||w||kn||Fe||Ea(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){w=r=t;try{if(c=w.stateNode,o)_=c.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=w.stateNode;var H=w.memoizedProps.style,U=H!=null&&H.hasOwnProperty("display")?H.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(J){De(w,w.return,J)}}}else if(t.tag===6){if(r===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(J){De(w,w.return,J)}}}else if(t.tag===18){if(r===null){w=t;try{var N=w.stateNode;o?Xd(N,!0):Xd(w.stateNode,!1)}catch(J){De(w,w.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,xl(e,r))));break;case 19:vt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xl(e,l)));break;case 30:break;case 21:break;default:vt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(Zh(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var o=r.stateNode,c=Xo(e);vl(e,c,o);break;case 5:var _=r.stateNode;r.flags&32&&(Ha(_,""),r.flags&=-33);var b=Xo(e);vl(e,b,_);break;case 3:case 4:var w=r.stateNode.containerInfo,I=Xo(e);Qo(e,I,w);break;default:throw Error(s(161))}}catch(L){De(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Jh(e,t.alternate,t),t=t.sibling}function Ea(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),Ea(t);break;case 1:on(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Xh(t,t.return,r),Ea(t);break;case 27:hs(t.stateNode);case 26:case 5:on(t,t.return),Ea(t);break;case 22:t.memoizedState===null&&Ea(t);break;case 30:Ea(t);break;default:Ea(t)}e=e.sibling}}function An(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,c=t,_=c.flags;switch(c.tag){case 0:case 11:case 15:An(o,c,r),ns(4,c);break;case 1:if(An(o,c,r),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(I){De(l,l.return,I)}if(l=c,o=l.updateQueue,o!==null){var b=l.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Bf(w[o],b)}catch(I){De(l,l.return,I)}}r&&_&64&&Yh(c),as(c,c.return);break;case 27:$h(c);case 26:case 5:An(o,c,r),r&&l===null&&_&4&&Qh(c),as(c,c.return);break;case 12:An(o,c,r);break;case 31:An(o,c,r),r&&_&4&&Ph(o,c);break;case 13:An(o,c,r),r&&_&4&&ed(o,c);break;case 22:c.memoizedState===null&&An(o,c,r),as(c,c.return);break;case 30:break;default:An(o,c,r)}t=t.sibling}}function $o(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&jr(r))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jr(e))}function tn(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ad(e,t,r,l),t=t.sibling}function ad(e,t,r,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,r,l),o&2048&&ns(9,t);break;case 1:tn(e,t,r,l);break;case 3:tn(e,t,r,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jr(e)));break;case 12:if(o&2048){tn(e,t,r,l),e=t.stateNode;try{var c=t.memoizedProps,_=c.id,b=c.onPostCommit;typeof b=="function"&&b(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){De(t,t.return,w)}}else tn(e,t,r,l);break;case 31:tn(e,t,r,l);break;case 13:tn(e,t,r,l);break;case 23:break;case 22:c=t.stateNode,_=t.alternate,t.memoizedState!==null?c._visibility&2?tn(e,t,r,l):rs(e,t):c._visibility&2?tn(e,t,r,l):(c._visibility|=2,ir(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$o(_,t);break;case 24:tn(e,t,r,l),o&2048&&Ko(t.alternate,t);break;default:tn(e,t,r,l)}}function ir(e,t,r,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,_=t,b=r,w=l,I=_.flags;switch(_.tag){case 0:case 11:case 15:ir(c,_,b,w,o),ns(8,_);break;case 23:break;case 22:var L=_.stateNode;_.memoizedState!==null?L._visibility&2?ir(c,_,b,w,o):rs(c,_):(L._visibility|=2,ir(c,_,b,w,o)),o&&I&2048&&$o(_.alternate,_);break;case 24:ir(c,_,b,w,o),o&&I&2048&&Ko(_.alternate,_);break;default:ir(c,_,b,w,o)}t=t.sibling}}function rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,o=l.flags;switch(l.tag){case 22:rs(r,l),o&2048&&$o(l.alternate,l);break;case 24:rs(r,l),o&2048&&Ko(l.alternate,l);break;default:rs(r,l)}t=t.sibling}}var ss=8192;function or(e,t,r){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)rd(e,t,r),e=e.sibling}function rd(e,t,r){switch(e.tag){case 26:or(e,t,r),e.flags&ss&&e.memoizedState!==null&&j_(r,en,e.memoizedState,e.memoizedProps);break;case 5:or(e,t,r);break;case 3:case 4:var l=en;en=Ul(e.stateNode.containerInfo),or(e,t,r),en=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ss,ss=16777216,or(e,t,r),ss=l):or(e,t,r));break;default:or(e,t,r)}}function sd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];nt=l,id(l,e)}sd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ld(e),e=e.sibling}function ld(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,wl(e)):ls(e);break;default:ls(e)}}function wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];nt=l,id(l,e)}sd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),wl(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,wl(t));break;default:wl(t)}e=e.sibling}}function id(e,t){for(;nt!==null;){var r=nt;switch(r.tag){case 0:case 11:case 15:Qn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nt=l;else e:for(r=e;nt!==null;){l=nt;var o=l.sibling,c=l.return;if(Fh(l),l===r){nt=null;break e}if(o!==null){o.return=c,nt=o;break e}nt=c}}}var r_={getCacheForType:function(e){var t=ot($e),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return ot($e).controller.signal}},s_=typeof WeakMap=="function"?WeakMap:Map,we=0,Ie=null,he=null,me=0,Ee=0,Mt=null,Zn=!1,ur=!1,Jo=!1,En=0,Ge=0,$n=0,Da=0,Fo=0,Ot=0,cr=0,is=null,wt=null,Wo=!1,kl=0,od=0,Sl=1/0,Tl=null,Kn=null,Pe=0,Jn=null,fr=null,Dn=0,Po=0,eu=null,ud=null,os=0,tu=null;function Bt(){return(we&2)!==0&&me!==0?me&-me:V.T!==null?iu():Sc()}function cd(){if(Ot===0)if((me&536870912)===0||ge){var e=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),Ot=e}else Ot=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Ot}function kt(e,t,r){(e===Ie&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(hr(e,0),Fn(e,me,Ot,!1)),Cr(e,r),((we&2)===0||e!==Ie)&&(e===Ie&&((we&2)===0&&(Da|=r),Ge===4&&Fn(e,me,Ot,!1)),un(e))}function fd(e,t,r){if((we&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Dr(e,t),o=l?o_(e,t):au(e,t,!0),c=l;do{if(o===0){ur&&!l&&Fn(e,t,0,!1);break}else{if(r=e.current.alternate,c&&!l_(r)){o=au(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var b=e;o=is;var w=b.current.memoizedState.isDehydrated;if(w&&(hr(b,_).flags|=256),_=au(b,_,!1),_!==2){if(Jo&&!w){b.errorRecoveryDisabledLanes|=c,Da|=c,o=4;break e}c=wt,wt=o,c!==null&&(wt===null?wt=c:wt.push.apply(wt,c))}o=_}if(c=!1,o!==2)continue}}if(o===1){hr(e,0),Fn(e,t,0,!0);break}e:{switch(l=e,c=o,c){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Fn(l,t,Ot,!Zn);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=kl+300-St(),10<o)){if(Fn(l,t,Ot,!Zn),Us(l,0,!0)!==0)break e;Dn=t,l.timeoutHandle=Gd(hd.bind(null,l,r,wt,Tl,Wo,t,Ot,Da,cr,Zn,c,"Throttled",-0,0),o);break e}hd(l,r,wt,Tl,Wo,t,Ot,Da,cr,Zn,c,null,-0,0)}}break}while(!0);un(e)}function hd(e,t,r,l,o,c,_,b,w,I,L,H,U,N){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},rd(t,c,H);var J=(c&62914560)===c?kl-St():(c&4194048)===c?od-St():0;if(J=Y_(H,J),J!==null){Dn=c,e.cancelPendingCommit=J(vd.bind(null,e,t,c,r,l,o,_,b,w,L,H,null,U,N)),Fn(e,c,_,!I);return}}vd(e,t,c,r,l,o,_,b,w)}function l_(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var o=r[l],c=o.getSnapshot;o=o.value;try{if(!Et(c(),o))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t,r,l){t&=~Fo,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),_=1<<c;l[c]=-1,o&=~_}r!==0&&xc(e,r,t)}function Al(){return(we&6)===0?(us(0),!1):!0}function nu(){if(he!==null){if(Ee===0)var e=he.return;else e=he,_n=ba=null,yo(e),nr=null,Xr=0,e=he;for(;e!==null;)jh(e.alternate,e),e=e.return;he=null}}function hr(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,A_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Dn=0,nu(),Ie=e,he=r=pn(e.current,null),me=t,Ee=0,Mt=null,Zn=!1,ur=Dr(e,t),Jo=!1,cr=Ot=Fo=Da=$n=Ge=0,wt=is=null,Wo=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-At(l),c=1<<o;t|=e[o],l&=~c}return En=t,Zs(),r}function dd(e,t){oe=null,V.H=Pr,t===tr||t===tl?(t=Cf(),Ee=3):t===so?(t=Cf(),Ee=4):Ee=t===Io?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,he===null&&(Ge=1,pl(e,Rt(t,e.current)))}function md(){var e=Ct.current;return e===null?!0:(me&4194048)===me?jt===null:(me&62914560)===me||(me&536870912)!==0?e===jt:!1}function pd(){var e=V.H;return V.H=Pr,e===null?Pr:e}function gd(){var e=V.A;return V.A=r_,e}function El(){Ge=4,Zn||(me&4194048)!==me&&Ct.current!==null||(ur=!0),($n&134217727)===0&&(Da&134217727)===0||Ie===null||Fn(Ie,me,Ot,!1)}function au(e,t,r){var l=we;we|=2;var o=pd(),c=gd();(Ie!==e||me!==t)&&(Tl=null,hr(e,t)),t=!1;var _=Ge;e:do try{if(Ee!==0&&he!==null){var b=he,w=Mt;switch(Ee){case 8:nu(),_=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var I=Ee;if(Ee=0,Mt=null,dr(e,b,w,I),r&&ur){_=0;break e}break;default:I=Ee,Ee=0,Mt=null,dr(e,b,w,I)}}i_(),_=Ge;break}catch(L){dd(e,L)}while(!0);return t&&e.shellSuspendCounter++,_n=ba=null,we=l,V.H=o,V.A=c,he===null&&(Ie=null,me=0,Zs()),_}function i_(){for(;he!==null;)_d(he)}function o_(e,t){var r=we;we|=2;var l=pd(),o=gd();Ie!==e||me!==t?(Tl=null,Sl=St()+500,hr(e,t)):ur=Dr(e,t);e:do try{if(Ee!==0&&he!==null){t=he;var c=Mt;t:switch(Ee){case 1:Ee=0,Mt=null,dr(e,t,c,1);break;case 2:case 9:if(Ef(c)){Ee=0,Mt=null,yd(t);break}t=function(){Ee!==2&&Ee!==9||Ie!==e||(Ee=7),un(e)},c.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Ef(c)?(Ee=0,Mt=null,yd(t)):(Ee=0,Mt=null,dr(e,t,c,7));break;case 5:var _=null;switch(he.tag){case 26:_=he.memoizedState;case 5:case 27:var b=he;if(_?am(_):b.stateNode.complete){Ee=0,Mt=null;var w=b.sibling;if(w!==null)he=w;else{var I=b.return;I!==null?(he=I,Dl(I)):he=null}break t}}Ee=0,Mt=null,dr(e,t,c,5);break;case 6:Ee=0,Mt=null,dr(e,t,c,6);break;case 8:nu(),Ge=6;break e;default:throw Error(s(462))}}u_();break}catch(L){dd(e,L)}while(!0);return _n=ba=null,V.H=l,V.A=o,we=r,he!==null?0:(Ie=null,me=0,Zs(),Ge)}function u_(){for(;he!==null&&!Op();)_d(he)}function _d(e){var t=Hh(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?Dl(e):he=t}function yd(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Uh(r,t,t.pendingProps,t.type,void 0,me);break;case 11:t=Uh(r,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:yo(t);default:jh(r,t),t=he=gf(t,En),t=Hh(r,t,En)}e.memoizedProps=e.pendingProps,t===null?Dl(e):he=t}function dr(e,t,r,l){_n=ba=null,yo(t),nr=null,Xr=0;var o=t.return;try{if(Fg(e,o,t,r,me)){Ge=1,pl(e,Rt(r,e.current)),he=null;return}}catch(c){if(o!==null)throw he=o,c;Ge=1,pl(e,Rt(r,e.current)),he=null;return}t.flags&32768?(ge||l===1?e=!0:ur||(me&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),bd(t,e)):Dl(t)}function Dl(e){var t=e;do{if((t.flags&32768)!==0){bd(t,Zn);return}e=t.return;var r=e_(t.alternate,t,En);if(r!==null){he=r;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Ge===0&&(Ge=5)}function bd(e,t){do{var r=t_(e.alternate,e);if(r!==null){r.flags&=32767,he=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=r}while(e!==null);Ge=6,he=null}function vd(e,t,r,l,o,c,_,b,w){e.cancelPendingCommit=null;do Cl();while(Pe!==0);if((we&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(c=t.lanes|t.childLanes,c|=Yi,Gp(e,r,c,_,b,w),e===Ie&&(he=Ie=null,me=0),fr=t,Jn=e,Dn=r,Po=c,eu=o,ud=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d_(Ms,function(){return Td(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,o=Q.p,Q.p=2,_=we,we|=4;try{n_(e,t,r)}finally{we=_,Q.p=o,V.T=l}}Pe=1,xd(),wd(),kd()}}function xd(){if(Pe===1){Pe=0;var e=Jn,t=fr,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=V.T,V.T=null;var l=Q.p;Q.p=2;var o=we;we|=4;try{td(t,e);var c=pu,_=lf(e.containerInfo),b=c.focusedElem,w=c.selectionRange;if(_!==b&&b&&b.ownerDocument&&sf(b.ownerDocument.documentElement,b)){if(w!==null&&Ri(b)){var I=w.start,L=w.end;if(L===void 0&&(L=I),"selectionStart"in b)b.selectionStart=I,b.selectionEnd=Math.min(L,b.value.length);else{var H=b.ownerDocument||document,U=H&&H.defaultView||window;if(U.getSelection){var N=U.getSelection(),J=b.textContent.length,te=Math.min(w.start,J),Oe=w.end===void 0?te:Math.min(w.end,J);!N.extend&&te>Oe&&(_=Oe,Oe=te,te=_);var C=rf(b,te),S=rf(b,Oe);if(C&&S&&(N.rangeCount!==1||N.anchorNode!==C.node||N.anchorOffset!==C.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var B=H.createRange();B.setStart(C.node,C.offset),N.removeAllRanges(),te>Oe?(N.addRange(B),N.extend(S.node,S.offset)):(B.setEnd(S.node,S.offset),N.addRange(B))}}}}for(H=[],N=b;N=N.parentNode;)N.nodeType===1&&H.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<H.length;b++){var R=H[b];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Hl=!!mu,pu=mu=null}finally{we=o,Q.p=l,V.T=r}}e.current=t,Pe=2}}function wd(){if(Pe===2){Pe=0;var e=Jn,t=fr,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=V.T,V.T=null;var l=Q.p;Q.p=2;var o=we;we|=4;try{Jh(e,t.alternate,t)}finally{we=o,Q.p=l,V.T=r}}Pe=3}}function kd(){if(Pe===4||Pe===3){Pe=0,Bp();var e=Jn,t=fr,r=Dn,l=ud;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Pe=5:(Pe=0,fr=Jn=null,Sd(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Kn=null),vi(r),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Er,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=V.T,o=Q.p,Q.p=2,V.T=null;try{for(var c=e.onRecoverableError,_=0;_<l.length;_++){var b=l[_];c(b.value,{componentStack:b.stack})}}finally{V.T=t,Q.p=o}}(Dn&3)!==0&&Cl(),un(e),o=e.pendingLanes,(r&261930)!==0&&(o&42)!==0?e===tu?os++:(os=0,tu=e):os=0,us(0)}}function Sd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jr(t)))}function Cl(){return xd(),wd(),kd(),Td()}function Td(){if(Pe!==5)return!1;var e=Jn,t=Po;Po=0;var r=vi(Dn),l=V.T,o=Q.p;try{Q.p=32>r?32:r,V.T=null,r=eu,eu=null;var c=Jn,_=Dn;if(Pe=0,fr=Jn=null,Dn=0,(we&6)!==0)throw Error(s(331));var b=we;if(we|=4,ld(c.current),ad(c,c.current,_,r),we=b,us(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Er,c)}catch{}return!0}finally{Q.p=o,V.T=l,Sd(e,t)}}function Ad(e,t,r){t=Rt(r,t),t=Bo(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(Cr(e,2),un(e))}function De(e,t,r){if(e.tag===3)Ad(e,e,r);else for(;t!==null;){if(t.tag===3){Ad(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kn===null||!Kn.has(l))){e=Rt(r,e),r=Eh(2),l=jn(t,r,2),l!==null&&(Dh(r,l,t,e),Cr(l,2),un(l));break}}t=t.return}}function ru(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new s_;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(r)||(Jo=!0,o.add(r),e=c_.bind(null,e,t,r),t.then(e,e))}function c_(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ie===e&&(me&r)===r&&(Ge===4||Ge===3&&(me&62914560)===me&&300>St()-kl?(we&2)===0&&hr(e,0):Fo|=r,cr===me&&(cr=0)),un(e)}function Ed(e,t){t===0&&(t=vc()),e=ga(e,t),e!==null&&(Cr(e,t),un(e))}function f_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ed(e,r)}function h_(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Ed(e,r)}function d_(e,t){return gi(e,t)}var zl=null,mr=null,su=!1,Ml=!1,lu=!1,Wn=0;function un(e){e!==mr&&e.next===null&&(mr===null?zl=mr=e:mr=mr.next=e),Ml=!0,su||(su=!0,p_())}function us(e,t){if(!lu&&Ml){lu=!0;do for(var r=!1,l=zl;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var _=l.suspendedLanes,b=l.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(_&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(r=!0,Md(l,c))}else c=me,c=Us(l,l===Ie?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Dr(l,c)||(r=!0,Md(l,c));l=l.next}while(r);lu=!1}}function m_(){Dd()}function Dd(){Ml=su=!1;var e=0;Wn!==0&&T_()&&(e=Wn);for(var t=St(),r=null,l=zl;l!==null;){var o=l.next,c=Cd(l,t);c===0?(l.next=null,r===null?zl=o:r.next=o,o===null&&(mr=r)):(r=l,(e!==0||(c&3)!==0)&&(Ml=!0)),l=o}Pe!==0&&Pe!==5||us(e),Wn!==0&&(Wn=0)}function Cd(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var _=31-At(c),b=1<<_,w=o[_];w===-1?((b&r)===0||(b&l)!==0)&&(o[_]=Hp(b,t)):w<=t&&(e.expiredLanes|=b),c&=~b}if(t=Ie,r=me,r=Us(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_i(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Dr(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&_i(l),vi(r)){case 2:case 8:r=yc;break;case 32:r=Ms;break;case 268435456:r=bc;break;default:r=Ms}return l=zd.bind(null,e),r=gi(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&_i(l),e.callbackPriority=2,e.callbackNode=null,2}function zd(e,t){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Cl()&&e.callbackNode!==r)return null;var l=me;return l=Us(e,e===Ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fd(e,l,t),Cd(e,St()),e.callbackNode!=null&&e.callbackNode===r?zd.bind(null,e):null)}function Md(e,t){if(Cl())return null;fd(e,t,!0)}function p_(){E_(function(){(we&6)!==0?gi(_c,m_):Dd()})}function iu(){if(Wn===0){var e=Pa;e===0&&(e=Os,Os<<=1,(Os&261888)===0&&(Os=256)),Wn=e}return Wn}function Od(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function Bd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function g_(e,t,r,l,o){if(t==="submit"&&r&&r.stateNode===o){var c=Od((o[_t]||null).action),_=l.submitter;_&&(t=(t=_[_t]||null)?Od(t.formAction):_.getAttribute("formAction"),t!==null&&(c=t,_=null));var b=new js("action","action",null,l,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wn!==0){var w=_?Bd(o,_):new FormData(o);Eo(r,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(b.preventDefault(),w=_?Bd(o,_):new FormData(o),Eo(r,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var ou=0;ou<ji.length;ou++){var uu=ji[ou],__=uu.toLowerCase(),y_=uu[0].toUpperCase()+uu.slice(1);Pt(__,"on"+y_)}Pt(cf,"onAnimationEnd"),Pt(ff,"onAnimationIteration"),Pt(hf,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Ig,"onTransitionRun"),Pt(Ug,"onTransitionStart"),Pt(Ng,"onTransitionCancel"),Pt(df,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Id(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],o=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var _=l.length-1;0<=_;_--){var b=l[_],w=b.instance,I=b.currentTarget;if(b=b.listener,w!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=I;try{c(o)}catch(L){Qs(L)}o.currentTarget=null,c=w}else for(_=0;_<l.length;_++){if(b=l[_],w=b.instance,I=b.currentTarget,b=b.listener,w!==c&&o.isPropagationStopped())break e;c=b,o.currentTarget=I;try{c(o)}catch(L){Qs(L)}o.currentTarget=null,c=w}}}}function de(e,t){var r=t[xi];r===void 0&&(r=t[xi]=new Set);var l=e+"__bubble";r.has(l)||(Ud(t,e,2,!1),r.add(l))}function cu(e,t,r){var l=0;t&&(l|=4),Ud(r,e,l,t)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[Ol]){e[Ol]=!0,Ec.forEach(function(r){r!=="selectionchange"&&(b_.has(r)||cu(r,!1,e),cu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ol]||(t[Ol]=!0,cu("selectionchange",!1,t))}}function Ud(e,t,r,l){switch(cm(t)){case 2:var o=Z_;break;case 8:o=$_;break;default:o=Au}r=o.bind(null,t,r,e),o=void 0,!zi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function hu(e,t,r,l,o){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===o)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===o)return;_=_.return}for(;b!==null;){if(_=Na(b),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=c=_;continue e}b=b.parentNode}}l=l.return}Rc(function(){var I=c,L=Di(r),H=[];e:{var U=mf.get(e);if(U!==void 0){var N=js,J=e;switch(e){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":N=hg;break;case"focusin":J="focus",N=Ii;break;case"focusout":J="blur",N=Ii;break;case"beforeblur":case"afterblur":N=Ii;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=pg;break;case cf:case ff:case hf:N=ag;break;case df:N=_g;break;case"scroll":case"scrollend":N=Wp;break;case"wheel":N=bg;break;case"copy":case"cut":case"paste":N=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Yc;break;case"toggle":case"beforetoggle":N=xg}var te=(t&4)!==0,Oe=!te&&(e==="scroll"||e==="scrollend"),C=te?U!==null?U+"Capture":null:U;te=[];for(var S=I,B;S!==null;){var R=S;if(B=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||B===null||C===null||(R=Or(S,C),R!=null&&te.push(fs(S,R,B))),Oe)break;S=S.return}0<te.length&&(U=new N(U,J,null,r,L),H.push({event:U,listeners:te}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",U&&r!==Ei&&(J=r.relatedTarget||r.fromElement)&&(Na(J)||J[Ua]))break e;if((N||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,N?(J=r.relatedTarget||r.toElement,N=I,J=J?Na(J):null,J!==null&&(Oe=u(J),te=J.tag,J!==Oe||te!==5&&te!==27&&te!==6)&&(J=null)):(N=null,J=I),N!==J)){if(te=Gc,R="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(te=Yc,R="onPointerLeave",C="onPointerEnter",S="pointer"),Oe=N==null?U:Mr(N),B=J==null?U:Mr(J),U=new te(R,S+"leave",N,r,L),U.target=Oe,U.relatedTarget=B,R=null,Na(L)===I&&(te=new te(C,S+"enter",J,r,L),te.target=B,te.relatedTarget=Oe,R=te),Oe=R,N&&J)t:{for(te=v_,C=N,S=J,B=0,R=C;R;R=te(R))B++;R=0;for(var ee=S;ee;ee=te(ee))R++;for(;0<B-R;)C=te(C),B--;for(;0<R-B;)S=te(S),R--;for(;B--;){if(C===S||S!==null&&C===S.alternate){te=C;break t}C=te(C),S=te(S)}te=null}else te=null;N!==null&&Nd(H,U,N,te,!1),J!==null&&Oe!==null&&Nd(H,Oe,J,te,!0)}}e:{if(U=I?Mr(I):window,N=U.nodeName&&U.nodeName.toLowerCase(),N==="select"||N==="input"&&U.type==="file")var ve=Wc;else if(Jc(U))if(Pc)ve=Mg;else{ve=Cg;var P=Dg}else N=U.nodeName,!N||N.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?I&&Ai(I.elementType)&&(ve=Wc):ve=zg;if(ve&&(ve=ve(e,I))){Fc(H,ve,r,L);break e}P&&P(e,U,I),e==="focusout"&&I&&U.type==="number"&&I.memoizedProps.value!=null&&Ti(U,"number",U.value)}switch(P=I?Mr(I):window,e){case"focusin":(Jc(P)||P.contentEditable==="true")&&(Xa=P,qi=I,qr=null);break;case"focusout":qr=qi=Xa=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,of(H,r,L);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":of(H,r,L)}var ce;if(Ni)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ya?$c(e,r)&&(pe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(pe="onCompositionStart");pe&&(Xc&&r.locale!=="ko"&&(Ya||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ya&&(ce=qc()):(Nn=L,Mi="value"in Nn?Nn.value:Nn.textContent,Ya=!0)),P=Bl(I,pe),0<P.length&&(pe=new jc(pe,e,null,r,L),H.push({event:pe,listeners:P}),ce?pe.data=ce:(ce=Kc(r),ce!==null&&(pe.data=ce)))),(ce=kg?Sg(e,r):Tg(e,r))&&(pe=Bl(I,"onBeforeInput"),0<pe.length&&(P=new jc("onBeforeInput","beforeinput",null,r,L),H.push({event:P,listeners:pe}),P.data=ce)),g_(H,e,I,r,L)}Id(H,t)})}function fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bl(e,t){for(var r=t+"Capture",l=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Or(e,r),o!=null&&l.unshift(fs(e,o,c)),o=Or(e,t),o!=null&&l.push(fs(e,o,c))),e.tag===3)return l;e=e.return}return[]}function v_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Nd(e,t,r,l,o){for(var c=t._reactName,_=[];r!==null&&r!==l;){var b=r,w=b.alternate,I=b.stateNode;if(b=b.tag,w!==null&&w===l)break;b!==5&&b!==26&&b!==27||I===null||(w=I,o?(I=Or(r,c),I!=null&&_.unshift(fs(r,I,w))):o||(I=Or(r,c),I!=null&&_.push(fs(r,I,w)))),r=r.return}_.length!==0&&e.push({event:t,listeners:_})}var x_=/\r\n?/g,w_=/\u0000|\uFFFD/g;function Ld(e){return(typeof e=="string"?e:""+e).replace(x_,`
`).replace(w_,"")}function Vd(e,t){return t=Ld(t),Ld(e)===t}function Me(e,t,r,l,o,c){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ha(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ha(e,""+l);break;case"className":Ls(e,"class",l);break;case"tabIndex":Ls(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(e,r,l);break;case"style":Lc(e,l,c);break;case"data":if(t!=="object"){Ls(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Rs(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(r==="formAction"?(t!=="input"&&Me(e,t,"name",o.name,o,null),Me(e,t,"formEncType",o.formEncType,o,null),Me(e,t,"formMethod",o.formMethod,o,null),Me(e,t,"formTarget",o.formTarget,o,null)):(Me(e,t,"encType",o.encType,o,null),Me(e,t,"method",o.method,o,null),Me(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Rs(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=dn);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Rs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":de("beforetoggle",e),de("toggle",e),Ns(e,"popover",l);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Jp.get(r)||r,Ns(e,r,l))}}function du(e,t,r,l,o,c){switch(r){case"style":Lc(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Ha(e,l):(typeof l=="number"||typeof l=="bigint")&&Ha(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dc.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(o=r.endsWith("Capture"),t=r.slice(2,o?r.length-7:void 0),c=e[_t]||null,c=c!=null?c[r]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,o);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Ns(e,r,l)}}}function ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,o=!1,c;for(c in r)if(r.hasOwnProperty(c)){var _=r[c];if(_!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,c,_,r,null)}}o&&Me(e,t,"srcSet",r.srcSet,r,null),l&&Me(e,t,"src",r.src,r,null);return;case"input":de("invalid",e);var b=c=_=o=null,w=null,I=null;for(l in r)if(r.hasOwnProperty(l)){var L=r[l];if(L!=null)switch(l){case"name":o=L;break;case"type":_=L;break;case"checked":w=L;break;case"defaultChecked":I=L;break;case"value":c=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:Me(e,t,l,L,r,null)}}Bc(e,c,b,w,I,_,o,!1);return;case"select":de("invalid",e),l=_=c=null;for(o in r)if(r.hasOwnProperty(o)&&(b=r[o],b!=null))switch(o){case"value":c=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Me(e,t,o,b,r,null)}t=c,r=_,e.multiple=!!l,t!=null?qa(e,!!l,t,!1):r!=null&&qa(e,!!l,r,!0);return;case"textarea":de("invalid",e),c=o=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(b=r[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":o=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Me(e,t,_,b,r,null)}Uc(e,l,o,c);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,w,l,r,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<cs.length;l++)de(cs[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Me(e,t,I,l,r,null)}return;default:if(Ai(t)){for(L in r)r.hasOwnProperty(L)&&(l=r[L],l!==void 0&&du(e,t,L,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&Me(e,t,b,l,r,null))}function k_(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,_=null,b=null,w=null,I=null,L=null;for(N in r){var H=r[N];if(r.hasOwnProperty(N)&&H!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":w=H;default:l.hasOwnProperty(N)||Me(e,t,N,null,l,H)}}for(var U in l){var N=l[U];if(H=r[U],l.hasOwnProperty(U)&&(N!=null||H!=null))switch(U){case"type":c=N;break;case"name":o=N;break;case"checked":I=N;break;case"defaultChecked":L=N;break;case"value":_=N;break;case"defaultValue":b=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,t));break;default:N!==H&&Me(e,t,U,N,l,H)}}Si(e,_,b,w,I,L,c,o);return;case"select":N=_=b=U=null;for(c in r)if(w=r[c],r.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":N=w;default:l.hasOwnProperty(c)||Me(e,t,c,null,l,w)}for(o in l)if(c=l[o],w=r[o],l.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":U=c;break;case"defaultValue":b=c;break;case"multiple":_=c;default:c!==w&&Me(e,t,o,c,l,w)}t=b,r=_,l=N,U!=null?qa(e,!!r,U,!1):!!l!=!!r&&(t!=null?qa(e,!!r,t,!0):qa(e,!!r,r?[]:"",!1));return;case"textarea":N=U=null;for(b in r)if(o=r[b],r.hasOwnProperty(b)&&o!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Me(e,t,b,null,l,o)}for(_ in l)if(o=l[_],c=r[_],l.hasOwnProperty(_)&&(o!=null||c!=null))switch(_){case"value":U=o;break;case"defaultValue":N=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==c&&Me(e,t,_,o,l,c)}Ic(e,U,N);return;case"option":for(var J in r)if(U=r[J],r.hasOwnProperty(J)&&U!=null&&!l.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Me(e,t,J,null,l,U)}for(w in l)if(U=l[w],N=r[w],l.hasOwnProperty(w)&&U!==N&&(U!=null||N!=null))switch(w){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Me(e,t,w,U,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in r)U=r[te],r.hasOwnProperty(te)&&U!=null&&!l.hasOwnProperty(te)&&Me(e,t,te,null,l,U);for(I in l)if(U=l[I],N=r[I],l.hasOwnProperty(I)&&U!==N&&(U!=null||N!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:Me(e,t,I,U,l,N)}return;default:if(Ai(t)){for(var Oe in r)U=r[Oe],r.hasOwnProperty(Oe)&&U!==void 0&&!l.hasOwnProperty(Oe)&&du(e,t,Oe,void 0,l,U);for(L in l)U=l[L],N=r[L],!l.hasOwnProperty(L)||U===N||U===void 0&&N===void 0||du(e,t,L,U,l,N);return}}for(var C in r)U=r[C],r.hasOwnProperty(C)&&U!=null&&!l.hasOwnProperty(C)&&Me(e,t,C,null,l,U);for(H in l)U=l[H],N=r[H],!l.hasOwnProperty(H)||U===N||U==null&&N==null||Me(e,t,H,U,l,N)}function Rd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var o=r[l],c=o.transferSize,_=o.initiatorType,b=o.duration;if(c&&b&&Rd(_)){for(_=0,b=o.responseEnd,l+=1;l<r.length;l++){var w=r[l],I=w.startTime;if(I>b)break;var L=w.transferSize,H=w.initiatorType;L&&Rd(H)&&(w=w.responseEnd,_+=L*(w<b?1:(b-I)/(w-I)))}if(--l,t+=8*(c+_)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mu=null,pu=null;function Il(e){return e.nodeType===9?e:e.ownerDocument}function qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _u=null;function T_(){var e=window.event;return e&&e.type==="popstate"?e===_u?!1:(_u=e,!0):(_u=null,!1)}var Gd=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(D_)}:Gd;function D_(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function Yd(e,t){var r=t,l=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(o),yr(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")hs(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,hs(r);for(var c=r.firstChild;c;){var _=c.nextSibling,b=c.nodeName;c[zr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&c.rel.toLowerCase()==="stylesheet"||r.removeChild(c),c=_}}else r==="body"&&hs(e.ownerDocument.body);r=o}while(r);yr(t)}function Xd(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yu(r),wi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function C_(e,t,r,l){for(;e.nodeType===1;){var o=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[zr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function z_(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yt(e.nextSibling),e===null))return null;return e}function Qd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function M_(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xu=null;function Zd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Yt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function $d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Kd(e,t,r){switch(t=Il(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wi(e)}var Xt=new Map,Jd=new Set;function Ul(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=Q.d;Q.d={f:O_,r:B_,D:I_,C:U_,L:N_,m:L_,X:R_,S:V_,M:q_};function O_(){var e=Cn.f(),t=Al();return e||t}function B_(e){var t=La(e);t!==null&&t.tag===5&&t.type==="form"?dh(t):Cn.r(e)}var pr=typeof document>"u"?null:document;function Fd(e,t,r){var l=pr;if(l&&typeof t=="string"&&t){var o=Lt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof r=="string"&&(o+='[crossorigin="'+r+'"]'),Jd.has(o)||(Jd.add(o),e={rel:e,crossOrigin:r,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function I_(e){Cn.D(e),Fd("dns-prefetch",e,null)}function U_(e,t){Cn.C(e,t),Fd("preconnect",e,t)}function N_(e,t,r){Cn.L(e,t,r);var l=pr;if(l&&e&&t){var o='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(o+='[imagesrcset="'+Lt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(o+='[imagesizes="'+Lt(r.imageSizes)+'"]')):o+='[href="'+Lt(e)+'"]';var c=o;switch(t){case"style":c=gr(e);break;case"script":c=_r(e)}Xt.has(c)||(e=y({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Xt.set(c,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(ds(c))||t==="script"&&l.querySelector(ms(c))||(t=l.createElement("link"),ct(t,"link",e),tt(t),l.head.appendChild(t)))}}function L_(e,t){Cn.m(e,t);var r=pr;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(e)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=_r(e)}if(!Xt.has(c)&&(e=y({rel:"modulepreload",href:e},t),Xt.set(c,e),r.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ms(c)))return}l=r.createElement("link"),ct(l,"link",e),tt(l),r.head.appendChild(l)}}}function V_(e,t,r){Cn.S(e,t,r);var l=pr;if(l&&e){var o=Va(l).hoistableStyles,c=gr(e);t=t||"default";var _=o.get(c);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(ds(c)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Xt.get(c))&&wu(e,r);var w=_=l.createElement("link");tt(w),ct(w,"link",e),w._p=new Promise(function(I,L){w.onload=I,w.onerror=L}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nl(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:b},o.set(c,_)}}}function R_(e,t){Cn.X(e,t);var r=pr;if(r&&e){var l=Va(r).hoistableScripts,o=_r(e),c=l.get(o);c||(c=r.querySelector(ms(o)),c||(e=y({src:e,async:!0},t),(t=Xt.get(o))&&ku(e,t),c=r.createElement("script"),tt(c),ct(c,"link",e),r.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function q_(e,t){Cn.M(e,t);var r=pr;if(r&&e){var l=Va(r).hoistableScripts,o=_r(e),c=l.get(o);c||(c=r.querySelector(ms(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=Xt.get(o))&&ku(e,t),c=r.createElement("script"),tt(c),ct(c,"link",e),r.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Wd(e,t,r,l){var o=(o=fe.current)?Ul(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=gr(r.href),r=Va(o).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=gr(r.href);var c=Va(o).hoistableStyles,_=c.get(e);if(_||(o=o.ownerDocument||o,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,_),(c=o.querySelector(ds(e)))&&!c._p&&(_.instance=c,_.state.loading=5),Xt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xt.set(e,r),c||H_(o,e,r,_.state))),t&&l===null)throw Error(s(528,""));return _}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_r(r),r=Va(o).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function gr(e){return'href="'+Lt(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function H_(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ct(t,"link",r),tt(t),e.head.appendChild(t))}function _r(e){return'[src="'+Lt(e)+'"]'}function ms(e){return"script[async]"+e}function em(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Lt(r.href)+'"]');if(l)return t.instance=l,tt(l),l;var o=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),ct(l,"style",o),Nl(l,r.precedence,e),t.instance=l;case"stylesheet":o=gr(r.href);var c=e.querySelector(ds(o));if(c)return t.state.loading|=4,t.instance=c,tt(c),c;l=Pd(r),(o=Xt.get(o))&&wu(l,o),c=(e.ownerDocument||e).createElement("link"),tt(c);var _=c;return _._p=new Promise(function(b,w){_.onload=b,_.onerror=w}),ct(c,"link",l),t.state.loading|=4,Nl(c,r.precedence,e),t.instance=c;case"script":return c=_r(r.src),(o=e.querySelector(ms(c)))?(t.instance=o,tt(o),o):(l=r,(o=Xt.get(c))&&(l=y({},r),ku(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),ct(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Nl(l,r.precedence,e));return t.instance}function Nl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===t)c=b;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ll=null;function tm(e,t,r){if(Ll===null){var l=new Map,o=Ll=new Map;o.set(r,l)}else o=Ll,l=o.get(r),l||(l=new Map,o.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),o=0;o<r.length;o++){var c=r[o];if(!(c[zr]||c[lt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var _=c.getAttribute(t)||"";_=e+_;var b=l.get(_);b?b.push(c):l.set(_,[c])}}return l}function nm(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function G_(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function am(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function j_(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var o=gr(l.href),c=t.querySelector(ds(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=c,tt(c);return}c=t.ownerDocument||t,l=Pd(l),(o=Xt.get(o))&&wu(l,o),c=c.createElement("link"),tt(c);var _=c;_._p=new Promise(function(b,w){_.onload=b,_.onerror=w}),ct(c,"link",l),r.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Vl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Su=0;function Y_(e,t){return e.stylesheets&&e.count===0&&ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Su===0&&(Su=62500*S_());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Su?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function ql(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,t.forEach(X_,e),Rl=null,Vl.call(e))}function X_(e,t){if(!(t.state.loading&4)){var r=Rl.get(e);if(r)var l=r.get(null);else{r=new Map,Rl.set(e,r);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var _=o[c];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}o=t.instance,_=o.getAttribute("data-precedence"),c=r.get(_)||l,c===l&&r.set(null,o),r.set(_,o),this.count++,l=Vl.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ps={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Q_(e,t,r,l,o,c,_,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rm(e,t,r,l,o,c,_,b,w,I,L,H){return e=new Q_(e,t,r,_,w,I,L,H,b),t=1,c===!0&&(t|=24),c=Dt(3,null,null,t),e.current=c,c.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:r,cache:t},lo(c),e}function sm(e){return e?(e=$a,e):$a}function lm(e,t,r,l,o,c){o=sm(o),l.context===null?l.context=o:l.pendingContext=o,l=Gn(t),l.payload={element:r},c=c===void 0?null:c,c!==null&&(l.callback=c),r=jn(e,l,t),r!==null&&(kt(r,e,t),Zr(r,e,t))}function im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tu(e,t){im(e,t),(e=e.alternate)&&im(e,t)}function om(e){if(e.tag===13||e.tag===31){var t=ga(e,67108864);t!==null&&kt(t,e,67108864),Tu(e,67108864)}}function um(e){if(e.tag===13||e.tag===31){var t=Bt();t=bi(t);var r=ga(e,t);r!==null&&kt(r,e,t),Tu(e,t)}}var Hl=!0;function Z_(e,t,r,l){var o=V.T;V.T=null;var c=Q.p;try{Q.p=2,Au(e,t,r,l)}finally{Q.p=c,V.T=o}}function $_(e,t,r,l){var o=V.T;V.T=null;var c=Q.p;try{Q.p=8,Au(e,t,r,l)}finally{Q.p=c,V.T=o}}function Au(e,t,r,l){if(Hl){var o=Eu(l);if(o===null)hu(e,t,l,Gl,r),fm(e,l);else if(J_(o,e,t,r,l))l.stopPropagation();else if(fm(e,l),t&4&&-1<K_.indexOf(e)){for(;o!==null;){var c=La(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var _=fa(c.pendingLanes);if(_!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var w=1<<31-At(_);b.entanglements[1]|=w,_&=~w}un(c),(we&6)===0&&(Sl=St()+500,us(0))}}break;case 31:case 13:b=ga(c,2),b!==null&&kt(b,c,2),Al(),Tu(c,2)}if(c=Eu(l),c===null&&hu(e,t,l,Gl,r),c===o)break;o=c}o!==null&&l.stopPropagation()}else hu(e,t,l,null,r)}}function Eu(e){return e=Di(e),Du(e)}var Gl=null;function Du(e){if(Gl=null,e=Na(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=h(t),e!==null)return e;e=null}else if(r===31){if(e=f(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gl=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ip()){case _c:return 2;case yc:return 8;case Ms:case Up:return 32;case bc:return 268435456;default:return 32}default:return 32}}var Cu=!1,ea=null,ta=null,na=null,gs=new Map,_s=new Map,aa=[],K_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function ys(e,t,r,l,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},t!==null&&(t=La(t),t!==null&&om(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function J_(e,t,r,l,o){switch(t){case"focusin":return ea=ys(ea,e,t,r,l,o),!0;case"dragenter":return ta=ys(ta,e,t,r,l,o),!0;case"mouseover":return na=ys(na,e,t,r,l,o),!0;case"pointerover":var c=o.pointerId;return gs.set(c,ys(gs.get(c)||null,e,t,r,l,o)),!0;case"gotpointercapture":return c=o.pointerId,_s.set(c,ys(_s.get(c)||null,e,t,r,l,o)),!0}return!1}function hm(e){var t=Na(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=h(r),t!==null){e.blockedOn=t,Tc(e.priority,function(){um(r)});return}}else if(t===31){if(t=f(r),t!==null){e.blockedOn=t,Tc(e.priority,function(){um(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eu(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ei=l,r.target.dispatchEvent(l),Ei=null}else return t=La(r),t!==null&&om(t),e.blockedOn=r,!1;t.shift()}return!0}function dm(e,t,r){jl(e)&&r.delete(t)}function F_(){Cu=!1,ea!==null&&jl(ea)&&(ea=null),ta!==null&&jl(ta)&&(ta=null),na!==null&&jl(na)&&(na=null),gs.forEach(dm),_s.forEach(dm)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,F_)))}var Xl=null;function mm(e){Xl!==e&&(Xl=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Du(l||r)===null)continue;break}var c=La(r);c!==null&&(e.splice(t,3),t-=3,Eo(c,{pending:!0,data:o,method:r.method,action:l},l,o))}}))}function yr(e){function t(w){return Yl(w,e)}ea!==null&&Yl(ea,e),ta!==null&&Yl(ta,e),na!==null&&Yl(na,e),gs.forEach(t),_s.forEach(t);for(var r=0;r<aa.length;r++){var l=aa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<aa.length&&(r=aa[0],r.blockedOn===null);)hm(r),r.blockedOn===null&&aa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var o=r[l],c=r[l+1],_=o[_t]||null;if(typeof c=="function")_||mm(r);else if(_){var b=null;if(c&&c.hasAttribute("formAction")){if(o=c,_=c[_t]||null)b=_.formAction;else if(Du(o)!==null)continue}else b=_.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),mm(r)}}}function pm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(_){return o=_})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function zu(e){this._internalRoot=e}Ql.prototype.render=zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=Bt();lm(r,l,e,t,null,null)},Ql.prototype.unmount=zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lm(e.current,2,null,e,null,null),Al(),t[Ua]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<aa.length&&t!==0&&t<aa[r].priority;r++);aa.splice(r,0,e),r===0&&hm(e)}};var gm=n.version;if(gm!=="19.2.0")throw Error(s(527,gm,"19.2.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var W_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Er=Zl.inject(W_),Tt=Zl}catch{}}return vs.createRoot=function(e,t){if(!i(e))throw Error(s(299));var r=!1,l="",o=kh,c=Sh,_=Th;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=rm(e,1,!1,null,null,r,l,null,o,c,_,pm),e[Ua]=t.current,fu(e),new zu(t)},vs.hydrateRoot=function(e,t,r){if(!i(e))throw Error(s(299));var l=!1,o="",c=kh,_=Sh,b=Th,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onUncaughtError!==void 0&&(c=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),t=rm(e,1,!0,t,r??null,l,o,w,c,_,b,pm),t.context=sm(null),r=t.current,l=Bt(),l=bi(l),o=Gn(l),o.callback=null,jn(r,o,l),r=l,t.current.lanes=r,Cr(t,r),un(t),e[Ua]=t.current,fu(e),new Ql(t)},vs.version="19.2.0",vs}var Am;function oy(){if(Am)return Ou.exports;Am=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(n){console.error(n)}}return d(),Ou.exports=iy(),Ou.exports}var uy=oy(),Ma=Wu();class Cs{static instance;static get(){return this.instance||(this.instance=new this),this.instance}}class Hm{view;GetRender(){return this.view?this.view.GetRender():null}InitializeView(n){if(this.view!==void 0){console.warn("view");return}this.view=new n}NotifyToPostRender(){}controller=null}class It{observers=[];Subscribe(n){this.observers.push(n)}notify(...n){this.observers.forEach(a=>a(...n))}}class Pu{requestsRenderUpdate;postRender;constructor(){this.requestsRenderUpdate=new It,this.postRender=new It}GetRender(){return this.updateTitle("hogehoge"),_e.jsx(_e.Fragment,{})}CreateView(n,...a){let s;return s=new n(...a),s.requestsRenderUpdate.Subscribe(()=>{this.requestsRenderUpdate.notify()}),this.postRender.Subscribe(()=>{s.postRender.notify()}),s}updateTitle(n){document.title=n}}class Sr extends Pu{constructor(n){super(),this.id=n,this.onComponentChange=new It}get id(){return this._id}set id(n){this._id=n}_id="";onComponentChange;OnComponentChange(n){this.onComponentChange.notify(n)}GetMyRender(){return document.getElementById(this._id)}}function cy(d){return Object.values(d).map(n=>({value:n,label:n}))}class fy extends Sr{constructor(n="",a=[]){super(n),this.options=a}_options=[];set options(n){this._options=n,this.requestsRenderUpdate.notify()}IsValidValue(n){let a=!1;return this._options.forEach(s=>{if(s.value==n){a=!0;return}}),a}SetIndex(n){if(n>=this._options.length){console.error(`Index is out of range
 ${n} / dropdownLength: ${this._options.length}`);return}const a=this._options[n].value;this.SetValue(a)}SetValue(n){if(!this.IsValidValue(n)){console.error(`there has no value for ${n}`);return}const a=this.GetMyRender();if(!a){console.error("dropdown are not created yet");return}a.value=n,this.requestsRenderUpdate.notify(),this.OnComponentChange(n)}GetRender(){return _e.jsx("div",{className:this.id,children:_e.jsx("select",{id:this.id,onChange:n=>this.OnComponentChange(n.target.value),children:this._options.map(n=>_e.jsx("option",{value:n.value,children:n.label},n.value))})})}}class ci extends Sr{constructor(n){super(n)}type=void 0;accept=void 0;OnInputChange(n){n.target.files&&n.target.files[0]?this.OnComponentChange(n.target.files[0]):this.OnComponentChange(n.target.value)}GetRender(){return _e.jsx("div",{className:this.id,children:_e.jsx("input",{id:this.id,type:this.type,accept:this.accept,onChange:n=>{this.OnInputChange(n)}})})}}class hy extends ci{constructor(n){super(n),this.type="file",this.accept="image/*"}}function dy(d,n){const a=d.getContext("2d");return a?(d.width=n.width,d.height=n.height,a.putImageData(n,0,0),d.toDataURL()):null}function my(d,n){if(!n.complete||n.naturalWidth===0||n.naturalHeight===0)return console.error("Image not loaded or has zero size."),null;const a=d.getContext("2d",{willReadFrequently:!0});return d.width=n.width,d.height=n.height,a?(a.drawImage(n,0,0,n.naturalWidth,n.naturalHeight),a.getImageData(0,0,n.width,n.height)):null}class py extends Sr{canvas;img=null;imgSize=1;SetImage(n){this.img=n,this.UpdateImage()}SetSize(n){this.imgSize=n,this.UpdateImage()}SetHeight(n){if(!this.img)return;const a=this.img.height,s=n/a;this.SetSize(s)}SetWidth(n){if(!this.img)return;const a=this.img.width,s=n/a;this.SetSize(s)}ClearImage(){this.img=null,this.requestsRenderUpdate.notify()}UpdateImage(){const n=this.GetMyRender();if(!n||!this.img)return;if(!this.img){n.src="",n.style.display="none";return}const a=dy(this.canvas,this.img);if(!a)return;n.src=a,n.style.display="block";const s=this.img.width,i=this.img.height;n.style.width=`${s*this.imgSize}px`,n.style.height=`${i*this.imgSize}px`}constructor(n){super(n),this.canvas=document.createElement("canvas"),this.requestsRenderUpdate.Subscribe(()=>{this.UpdateImage()})}GetRender(){return _e.jsx("div",{className:this.id,children:_e.jsx("img",{id:this.id,alt:this.id})})}}class Yu extends Sr{displayText;constructor(n,a){super(n),this.displayText=a}GetRender(){return _e.jsx("div",{className:this.id,children:_e.jsx("button",{type:"button",className:this.id+"button",onClick:n=>{this.OnComponentChange(n)},children:this.displayText})})}}const Ts={RawDither:"RawDither",BayerMatrixOrderedDither:"BayerMatrixOrderedDither",DynamicBayerMatrixOrderedDither:"DynamicBayerMatrixOrderedDither"};var Gm=(d=>(d[d.Flat=0]="Flat",d[d.Shape=1]="Shape",d))(Gm||{});function gy(d){return d?1:0}class Le{r=0;g=0;b=0;constructor(n=0,a=0,s=0){this.r=n,this.g=a,this.b=s}ToString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}static ColorCodeToRGB(n){const a=new Le(255,0,255),s=/^#*([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})$/;if(!s.test(n))return console.error(`INVALID VALUE(${n})`),a;const i=n.match(s);if(i==null||i.length<4)return console.error(`INVALID VALUE(${n})`),a;const u=parseInt(i[1],16),h=parseInt(i[2],16),f=parseInt(i[3],16);return new Le(u,h,f)}static CreateColorId(n){return n.r*65536+n.g*256+n.b}Tof32Vec4(){return[this.r/256,this.g/256,this.b/256,1]}static Tou32Vec3(n){return[n.r,n.g,n.b]}}class Oa{dimensionalMode=Gm.Flat;width=0;height=0;map=[];dimensionalMap=[];mapToColor=new Map;mapToBlock=new Map}class jm extends Sr{mapData=new Oa;constructor(n){super(n),this.postRender.Subscribe(()=>{this.UpdateCanvas()})}SetMapData(n){this.mapData=n,this.UpdateCanvas()}UpdateCanvas(){if(!this.mapData)return;const n=this.GetMyRender();if(!n)return;const a=n.getContext("2d");if(!a)return;a.clearRect(0,0,n.width,n.height);const s=this.mapData.width,i=this.mapData.height;if(n.width=s,n.height=i,this.mapData.width<=0||this.mapData.height<=0)return;const u=a.createImageData(s,i),h=u.data;for(let f=0;f<i;f++)for(let m=0;m<s;m++){const p=this.mapData.map[f][m],g=(f*s+m)*4;let y;this.mapData.mapToColor&&this.mapData.mapToColor.has(p)&&(y=this.mapData.mapToColor.get(p)),y||(y=new Le),h[g]=y.r,h[g+1]=y.g,h[g+2]=y.b,h[g+3]=255}a.putImageData(u,0,0)}GetRender(){return _e.jsx("canvas",{id:this.id,width:"200%",height:"200%"})}}class _y extends Sr{get maxProgress(){return this._maxProgress}set maxProgress(n){this._maxProgress=n,this.requestsRenderUpdate.notify()}get currentProgress(){return this._currentProgress}set currentProgress(n){this._currentProgress=n,this.requestsRenderUpdate.notify()}_currentProgress=0;_maxProgress=1;percentage=0;constructor(n){super(n)}GetRender(){let n=0;if(this._maxProgress>0){const a=this._currentProgress/this._maxProgress*1e4;n=Math.trunc(a)/100,n>100&&(n=100)}else n=100;return this.percentage=n,_e.jsxs("p",{children:[this.percentage,"%"]})}}class yy extends ci{constructor(n){super(n),this.type="file",this.accept=".txt"}}class by extends ci{title;value;displayPreInput;displayPostInput;constructor(n,a=0,s="",i="",u=""){super(n),this.type="number",this.value=a,this.title=s,this.displayPreInput=i,this.displayPostInput=u,this.onComponentChange.Subscribe(h=>{this.value=h})}OnInputChange(n){const a=Number(n.target.value);this.OnComponentChange(a)}GetRender(){return _e.jsxs("div",{id:this.id,children:[_e.jsx("p",{children:this.title}),_e.jsx("span",{children:this.displayPreInput}),_e.jsx("input",{id:"numberInput",type:this.type,accept:this.accept,defaultValue:this.value,onChange:n=>{this.OnInputChange(n)}}),_e.jsx("span",{children:this.displayPostInput})]})}}class vy extends ci{name;constructor(n,a=""){super(n),this.type="checkbox",this.name=a}OnInputChange(n){n.target&&this.OnComponentChange(n.target.checked)}GetRender(){return _e.jsxs("div",{children:[_e.jsx("input",{id:this.id,type:this.type,name:this.name,onChange:n=>{this.OnInputChange(n)}}),_e.jsx("label",{children:this.name})]})}}var Qt;(d=>{d.convertModeDropdownId="convertModeDropdown",d.selectBaseImageId="selectBaseImageId",d.baseImagePreviewId="baseImagePreview",d.usingBlockItemComponentId="usingBlockItem",d.isDimensionalModeCheckboxId="isDimensionalModeCheckbox",d.magnificationInputComponentId="magnificationInputComponent",d.convertButtonId="convertButton",d.progressBarId="progressBar",d.resultImagePreviewId="resultImagePreview",d.selectMapdataId="selectMapdataId",d.imporButtonId="importButton"})(Qt||(Qt={}));class xy extends Pu{convertModeDropdown;selectBaseImage;baseImagePreview;isDimensionalModeCheckbox;magnificationInputComponent;convertButtonComponent;progressBarComponent;resultImagePreview;selectMapdata;importButtonComponent;constructor(){super(),this.convertModeDropdown=this.CreateView(fy,Qt.convertModeDropdownId),this.selectBaseImage=this.CreateView(hy,Qt.selectBaseImageId),this.baseImagePreview=this.CreateView(py,Qt.baseImagePreviewId),this.isDimensionalModeCheckbox=this.CreateView(vy,Qt.isDimensionalModeCheckboxId,""),this.selectMapdata=this.CreateView(yy,Qt.selectMapdataId),this.importButtonComponent=this.CreateView(Yu,Qt.imporButtonId,""),this.magnificationInputComponent=this.CreateView(by,Qt.magnificationInputComponentId,100,"[]",": ","%"),this.convertButtonComponent=this.CreateView(Yu,Qt.convertButtonId,""),this.progressBarComponent=this.CreateView(_y,Qt.progressBarId),this.resultImagePreview=this.CreateView(jm,Qt.resultImagePreviewId),this.baseImagePreview.SetSize(.2)}GetRender(){return super.GetRender(),_e.jsxs(_e.Fragment,{children:[this.convertModeDropdown.GetRender(),this.selectBaseImage.GetRender(),this.baseImagePreview.GetRender(),this.isDimensionalModeCheckbox.GetRender(),this.selectMapdata.GetRender(),this.importButtonComponent.GetRender(),this.magnificationInputComponent.GetRender(),this.convertButtonComponent.GetRender(),this.progressBarComponent.GetRender(),this.resultImagePreview.GetRender()]})}}class Ym{onVCAppended(){}constructor(){}}class wy{baseImage=new ImageData(1,1);magnification=1;convertMode=Ts.RawDither;bIsDimensionalMode=!1;usingColors=[];usingBlocks=[];params=1}class la extends Cs{optionData=new wy;SetImage(n){this.optionData.baseImage=n,console.debug("Set image"),this.onImageChange.notify(this.optionData.baseImage),this.onOptionChange.notify(this.optionData)}onImageChange=new It;SetMagnification(n){this.optionData.magnification=n,console.debug("Set ratio: ",n),this.onMagnificationChange.notify(this.optionData.magnification),this.onOptionChange.notify(this.optionData)}onMagnificationChange=new It;SetConvertMode(n){this.optionData.convertMode=n,console.debug("Set convert mode to "+n),this.onConvertModeChange.notify(this.optionData.convertMode),this.onOptionChange.notify(this.optionData)}onConvertModeChange=new It;SetIsDimensionalMode(n){this.optionData.bIsDimensionalMode=n,console.debug('Set "Is Dimensional Mode" to '+n),this.onIsDemensionalModeChange.notify(this.optionData.bIsDimensionalMode),this.onOptionChange.notify(this.optionData)}onIsDemensionalModeChange=new It;SetUsingColors(n){this.optionData.usingColors=n,console.debug("Updated color list"),this.onUsingColorChange.notify(this.optionData.usingColors),this.onOptionChange.notify(this.optionData)}onUsingColorChange=new It;onOptionChange=new It}class ec extends Cs{get mapData(){return this._mapData}_mapData=new Oa;constructor(){super(),this.onMapDataChange=new It}SetMapData(n){this._mapData=n,this.onMapDataChange.notify(this._mapData)}onMapDataChange}class ky{}const Xm=Symbol("Comlink.proxy"),Sy=Symbol("Comlink.endpoint"),Ty=Symbol("Comlink.releaseProxy"),Lu=Symbol("Comlink.finalizer"),Fl=Symbol("Comlink.thrown"),Qm=d=>typeof d=="object"&&d!==null||typeof d=="function",Ay={canHandle:d=>Qm(d)&&d[Xm],serialize(d){const{port1:n,port2:a}=new MessageChannel;return $m(d,n),[a,[a]]},deserialize(d){return d.start(),Jm(d)}},Ey={canHandle:d=>Qm(d)&&Fl in d,serialize({value:d}){let n;return d instanceof Error?n={isError:!0,value:{message:d.message,name:d.name,stack:d.stack}}:n={isError:!1,value:d},[n,[]]},deserialize(d){throw d.isError?Object.assign(new Error(d.value.message),d.value):d.value}},Zm=new Map([["proxy",Ay],["throw",Ey]]);function Dy(d,n){for(const a of d)if(n===a||a==="*"||a instanceof RegExp&&a.test(n))return!0;return!1}function $m(d,n=globalThis,a=["*"]){n.addEventListener("message",function s(i){if(!i||!i.data)return;if(!Dy(a,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:u,type:h,path:f}=Object.assign({path:[]},i.data),m=(i.data.argumentList||[]).map(za);let p;try{const g=f.slice(0,-1).reduce((k,O)=>k[O],d),y=f.reduce((k,O)=>k[O],d);switch(h){case"GET":p=y;break;case"SET":g[f.slice(-1)[0]]=za(i.data.value),p=!0;break;case"APPLY":p=y.apply(g,m);break;case"CONSTRUCT":{const k=new y(...m);p=Qu(k)}break;case"ENDPOINT":{const{port1:k,port2:O}=new MessageChannel;$m(d,O),p=By(k,[k])}break;case"RELEASE":p=void 0;break;default:return}}catch(g){p={value:g,[Fl]:0}}Promise.resolve(p).catch(g=>({value:g,[Fl]:0})).then(g=>{const[y,k]=ai(g);n.postMessage(Object.assign(Object.assign({},y),{id:u}),k),h==="RELEASE"&&(n.removeEventListener("message",s),Km(n),Lu in d&&typeof d[Lu]=="function"&&d[Lu]())}).catch(g=>{const[y,k]=ai({value:new TypeError("Unserializable return value"),[Fl]:0});n.postMessage(Object.assign(Object.assign({},y),{id:u}),k)})}),n.start&&n.start()}function Cy(d){return d.constructor.name==="MessagePort"}function Km(d){Cy(d)&&d.close()}function Jm(d,n){const a=new Map;return d.addEventListener("message",function(i){const{data:u}=i;if(!u||!u.id)return;const h=a.get(u.id);if(h)try{h(u)}finally{a.delete(u.id)}}),Xu(d,a,[],n)}function $l(d){if(d)throw new Error("Proxy has been released and is not useable")}function Fm(d){return xr(d,new Map,{type:"RELEASE"}).then(()=>{Km(d)})}const ti=new WeakMap,ni="FinalizationRegistry"in globalThis&&new FinalizationRegistry(d=>{const n=(ti.get(d)||0)-1;ti.set(d,n),n===0&&Fm(d)});function zy(d,n){const a=(ti.get(n)||0)+1;ti.set(n,a),ni&&ni.register(d,n,d)}function My(d){ni&&ni.unregister(d)}function Xu(d,n,a=[],s=function(){}){let i=!1;const u=new Proxy(s,{get(h,f){if($l(i),f===Ty)return()=>{My(u),Fm(d),n.clear(),i=!0};if(f==="then"){if(a.length===0)return{then:()=>u};const m=xr(d,n,{type:"GET",path:a.map(p=>p.toString())}).then(za);return m.then.bind(m)}return Xu(d,n,[...a,f])},set(h,f,m){$l(i);const[p,g]=ai(m);return xr(d,n,{type:"SET",path:[...a,f].map(y=>y.toString()),value:p},g).then(za)},apply(h,f,m){$l(i);const p=a[a.length-1];if(p===Sy)return xr(d,n,{type:"ENDPOINT"}).then(za);if(p==="bind")return Xu(d,n,a.slice(0,-1));const[g,y]=Em(m);return xr(d,n,{type:"APPLY",path:a.map(k=>k.toString()),argumentList:g},y).then(za)},construct(h,f){$l(i);const[m,p]=Em(f);return xr(d,n,{type:"CONSTRUCT",path:a.map(g=>g.toString()),argumentList:m},p).then(za)}});return zy(u,d),u}function Oy(d){return Array.prototype.concat.apply([],d)}function Em(d){const n=d.map(ai);return[n.map(a=>a[0]),Oy(n.map(a=>a[1]))]}const Wm=new WeakMap;function By(d,n){return Wm.set(d,n),d}function Qu(d){return Object.assign(d,{[Xm]:!0})}function ai(d){for(const[n,a]of Zm)if(a.canHandle(d)){const[s,i]=a.serialize(d);return[{type:"HANDLER",name:n,value:s},i]}return[{type:"RAW",value:d},Wm.get(d)||[]]}function za(d){switch(d.type){case"HANDLER":return Zm.get(d.name).deserialize(d.value);case"RAW":return d.value}}function xr(d,n,a,s){return new Promise(i=>{const u=Iy();n.set(u,i),d.start&&d.start(),d.postMessage(Object.assign({id:u},a),s)})}function Iy(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Pm{offCanvas=document.createElement("canvas");get canvas(){return this._canvas}GetActualImageData(n,a=1){if(!n)return null;const s=n.width*a,i=n.height*a,u=this.canvas.getContext("2d"),h=this.offCanvas.getContext("2d");return!u||!h?null:(h.canvas.width=n.width,h.canvas.height=n.height,h.putImageData(n,0,0),u.canvas.width=s,u.canvas.height=i,u.clearRect(0,0,u.canvas.width,u.canvas.height),u.imageSmoothingEnabled=!1,u.drawImage(this.offCanvas,0,0,n.width,n.height,0,0,s,i),u.getImageData(0,0,u.canvas.width,u.canvas.height))}_canvas;async Convert(n){return new Oa}constructor(){this.onProgressChange=new It,this._canvas=document.createElement("canvas")}SetCurrentProgress(n,a){this.onProgressChange.notify([n,a])}onProgressChange}class Uy extends Pm{async Convert(n){return this.ConvertImgToMCMapData(n.baseImage,n.magnification)}ConvertImgToMCMapData(n,a){let s=new Oa;const i=this.GetActualImageData(n,a);if(!i)return s;const u=i?.data;if(!u)return s;const h=i.width,f=i.height;let m=[],p=new Map;for(let g=0;g<f;++g){let y=[];for(let k=0;k<h;++k){const O=(g*h+k)*4,j=u[O],F=u[O+1],K=u[O+2],ae=new Le(j,F,K),se=Le.CreateColorId(ae);p.get(se)||p.set(se,ae),y.push(se)}m.push(y)}return s.map=m,s.width=h,s.height=f,s.mapToColor=p,s}}class Ny extends Pm{constructor(){super()}async Convert(n){const a=n.baseImage,s=n.magnification,i=this.GetActualImageData(a,s);if(!i)return new Oa;const u=i.data;if(!u)return new Oa;const h=i.width,f=i.height;return await this.ConvertWithWebWorker(n,h,f,u)}async ConvertWithWebWorker(n,a,s,i){const u=Jm(new Worker(new URL("/re_mcart_bp_generator/assets/ThresholdDithererWorker-B6OvJwNM.js",import.meta.url),{type:"module"}));return await(await new u).Convert(n,a,s,i,Qu(this.GetNearestColorId.bind(this)),Qu(this.SetCurrentProgress.bind(this)))}async GetNearestColorId(n,a,s){let i=0,u=-1;for(let h=0;h<s.length;h++){const f=s[h],m=(a.r-f.r)*(a.r-f.r)+(a.g-f.g)*(a.g-f.g)+(a.b-f.b)*(a.b-f.b);(u===-1||m<u)&&(u=m,i=h)}return i}}function sa(d){let[n,a,s]=[d.r,d.g,d.b];n/=255,a/=255,s/=255,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;const i=(n*.4124+a*.3576+s*.1805)/.95047,u=n*.2126+a*.7152+s*.0722,h=(n*.0193+a*.1192+s*.9505)/1.08883,f=j=>j>.008856?Math.cbrt(j):(j*903.3+16)/116,m=f(i),p=f(u),g=f(h),y=116*p-16,k=500*(m-p),O=200*(p-g);return[y,k,O]}function xs(d,n){return d[0]*n[0]+d[1]*n[1]+d[2]*n[2]}function ws(d,n){return[d[0]-n[0],d[1]-n[1],d[2]-n[2]]}function Dm(d,n,a){return[a*d[0]+(1-a)*n[0],a*d[1]+(1-a)*n[1],a*d[2]+(1-a)*n[2]]}function ep(d){return xs(d,d)}function zn(d,n){return ep(ws(d,n))}const tc=(d,n)=>((d+n-1)/n|0)*n;function Ly(d){return Object.keys(d)}function Vy(d,n){return new Array(d).fill(0).map((a,s)=>n(s))}const tp=d=>d!==null&&typeof d[Symbol.iterator]=="function";function Ry(d){if(!d)return[1,1,1];if(tp(d)){const[i,u=1,h=1]=[...d];return[i,u,h]}const{width:n=1,height:a=1,depthOrArrayLayers:s=1}=d;return[n,a,s]}function Cm(d){if(!d)return[0,0,0];if(tp(d)){const[i,u=0,h=0]=[...d];return[i,u,h]}const{x:n=0,y:a=0,z:s=0}=d;return[n,a,s]}function qy(d,n){const a=Cm(d),s=Cm(n);return a.map((i,u)=>i+s[u])}const ua=d=>ArrayBuffer.isView(d)&&!(d instanceof DataView),np=d=>d,ye=np({i32:{numElements:1,align:4,size:4,type:"i32",View:Int32Array},u32:{numElements:1,align:4,size:4,type:"u32",View:Uint32Array},f32:{numElements:1,align:4,size:4,type:"f32",View:Float32Array},f16:{numElements:1,align:2,size:2,type:"u16",View:Uint16Array},vec2f:{numElements:2,align:8,size:8,type:"f32",View:Float32Array},vec2i:{numElements:2,align:8,size:8,type:"i32",View:Int32Array},vec2u:{numElements:2,align:8,size:8,type:"u32",View:Uint32Array},vec2h:{numElements:2,align:4,size:4,type:"u16",View:Uint16Array},vec3i:{numElements:3,align:16,size:12,type:"i32",View:Int32Array},vec3u:{numElements:3,align:16,size:12,type:"u32",View:Uint32Array},vec3f:{numElements:3,align:16,size:12,type:"f32",View:Float32Array},vec3h:{numElements:3,align:8,size:6,type:"u16",View:Uint16Array},vec4i:{numElements:4,align:16,size:16,type:"i32",View:Int32Array},vec4u:{numElements:4,align:16,size:16,type:"u32",View:Uint32Array},vec4f:{numElements:4,align:16,size:16,type:"f32",View:Float32Array},vec4h:{numElements:4,align:8,size:8,type:"u16",View:Uint16Array},mat2x2f:{numElements:4,align:8,size:16,type:"f32",View:Float32Array},mat2x2h:{numElements:4,align:4,size:8,type:"u16",View:Uint16Array},mat3x2f:{numElements:6,align:8,size:24,type:"f32",View:Float32Array},mat3x2h:{numElements:6,align:4,size:12,type:"u16",View:Uint16Array},mat4x2f:{numElements:8,align:8,size:32,type:"f32",View:Float32Array},mat4x2h:{numElements:8,align:4,size:16,type:"u16",View:Uint16Array},mat2x3f:{numElements:8,align:16,size:32,pad:[3,1],type:"f32",View:Float32Array},mat2x3h:{numElements:8,align:8,size:16,pad:[3,1],type:"u16",View:Uint16Array},mat3x3f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x3h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x3f:{numElements:16,align:16,size:64,pad:[3,1],type:"f32",View:Float32Array},mat4x3h:{numElements:16,align:8,size:32,pad:[3,1],type:"u16",View:Uint16Array},mat2x4f:{numElements:8,align:16,size:32,type:"f32",View:Float32Array},mat2x4h:{numElements:8,align:8,size:16,type:"u16",View:Uint16Array},mat3x4f:{numElements:12,align:16,size:48,pad:[3,1],type:"f32",View:Float32Array},mat3x4h:{numElements:12,align:8,size:24,pad:[3,1],type:"u16",View:Uint16Array},mat4x4f:{numElements:16,align:16,size:64,type:"f32",View:Float32Array},mat4x4h:{numElements:16,align:8,size:32,type:"u16",View:Uint16Array},bool:{numElements:0,align:1,size:0,type:"bool",View:Uint32Array}}),Tr=np({...ye,"atomic<i32>":ye.i32,"atomic<u32>":ye.u32,"vec2<i32>":ye.vec2i,"vec2<u32>":ye.vec2u,"vec2<f32>":ye.vec2f,"vec2<f16>":ye.vec2h,"vec3<i32>":ye.vec3i,"vec3<u32>":ye.vec3u,"vec3<f32>":ye.vec3f,"vec3<f16>":ye.vec3h,"vec4<i32>":ye.vec4i,"vec4<u32>":ye.vec4u,"vec4<f32>":ye.vec4f,"vec4<f16>":ye.vec4h,"mat2x2<f32>":ye.mat2x2f,"mat2x2<f16>":ye.mat2x2h,"mat3x2<f32>":ye.mat3x2f,"mat3x2<f16>":ye.mat3x2h,"mat4x2<f32>":ye.mat4x2f,"mat4x2<f16>":ye.mat4x2h,"mat2x3<f32>":ye.mat2x3f,"mat2x3<f16>":ye.mat2x3h,"mat3x3<f32>":ye.mat3x3f,"mat3x3<f16>":ye.mat3x3h,"mat4x3<f32>":ye.mat4x3f,"mat4x3<f16>":ye.mat4x3h,"mat2x4<f32>":ye.mat2x4f,"mat2x4<f16>":ye.mat2x4h,"mat3x4<f32>":ye.mat3x4f,"mat3x4<f16>":ye.mat3x4h,"mat4x4<f32>":ye.mat4x4f,"mat4x4<f16>":ye.mat4x4h}),Hy=Ly(Tr);function Gy(d=[],n){const a=new Set;for(const s of Hy){const i=Tr[s];a.has(i)||(a.add(i),i.flatten=d.includes(s)?n:!n)}}Gy();function jy(d){const n=d;if(n.elementType)return n.size;{const s=d,i=n.numElements||1;if(s.fields)return d.size*i;{const u=d,{align:h}=Tr[u.type];return i>1?tc(d.size,h)*i:d.size}}}function zm(d,n,a,s){const{size:i,type:u}=d;try{const{View:h,align:f,size:m}=Tr[u],p=s!==void 0,g=p?tc(i,f):m,y=g/h.BYTES_PER_ELEMENT,k=p?s===0?(n.byteLength-a)/g:s:1;return new h(n,a,y*k)}catch{throw new Error(`unknown type: ${u}`)}}function Yy(d){return!d.fields&&!d.elementType}function Xy(d,n,a){const s=a||0,i=n||new ArrayBuffer(jy(d)),u=(h,f)=>{const m=h,p=m.elementType;if(p){if(Yy(p)&&Tr[p.type].flatten)return zm(p,i,f,m.numElements);{const{size:g}=ap(h),y=m.numElements===0?(i.byteLength-f)/g:m.numElements;return Vy(y,k=>u(p,f+g*k))}}else{if(typeof h=="string")throw Error("unreachable");{const g=h.fields;if(g){const y={};for(const[k,{type:O,offset:j}]of Object.entries(g))y[k]=u(O,f+j);return y}else return zm(h,i,f)}}};return{views:u(d,s),arrayBuffer:i}}function Zu(d,n){if(d!==void 0)if(ua(n)){const a=n;if(a.length===1&&typeof d=="number")a[0]=d;else if(Array.isArray(d[0])||ua(d[0])){const s=d[0].length,i=s===3?4:s;for(let u=0;u<d.length;++u){const h=u*i;a.set(d[u],h)}}else a.set(d)}else if(Array.isArray(n)){const a=n;d.forEach((s,i)=>{Zu(s,a[i])})}else{const a=n;for(const[s,i]of Object.entries(d)){const u=a[s];u&&Zu(i,u)}}}function Ca(d,n,a=0){const s=d,i=s.group===void 0?d:s.typeDefinition,u=Xy(i,n,a);return{...u,set(h){Zu(h,u.views)}}}function $u(d){const a=d.elementType;if(a)return $u(a);const i=d.fields;if(i)return Object.values(i).reduce((f,{type:m})=>Math.max(f,$u(m)),0);const{type:u}=d,{align:h}=Tr[u];return h}function ap(d){const a=d.elementType;if(a){const u=a.size,h=$u(a);return{unalignedSize:u,align:h,size:tc(u,h)}}const i=d.fields;if(i){const u=Object.values(i).pop();if(u.type.size===0)return ap(u.type)}return{size:0,unalignedSize:0,align:1}}class Zt{constructor(n,a){this.name=n,this.attributes=a,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class Mm{constructor(n,a,s){this.name=n,this.type=a,this.attributes=s,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class ia extends Zt{constructor(n,a){super(n,a),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class oa extends Zt{constructor(n,a){super(n,a),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}}class Ku extends Zt{constructor(n,a,s){super(n,s),this.format=a}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}class Ba extends Zt{constructor(n,a,s,i){super(n,s),this.format=a,this.access=i}get isTemplate(){return!0}getTypeName(){let n=this.name;if(this.format!==null){if(n==="vec2"||n==="vec3"||n==="vec4"||n==="mat2x2"||n==="mat2x3"||n==="mat2x4"||n==="mat3x2"||n==="mat3x3"||n==="mat3x4"||n==="mat4x2"||n==="mat4x3"||n==="mat4x4"){if(this.format.name==="f32")return n+="f",n;if(this.format.name==="i32")return n+="i",n;if(this.format.name==="u32")return n+="u",n;if(this.format.name==="bool")return n+="b",n;if(this.format.name==="f16")return n+="h",n}n+=`<${this.format.name}>`}else if(n==="vec2"||n==="vec3"||n==="vec4")return n;return n}}var at;(d=>{d[d.Uniform=0]="Uniform",d[d.Storage=1]="Storage",d[d.Texture=2]="Texture",d[d.Sampler=3]="Sampler",d[d.StorageTexture=4]="StorageTexture"})(at||(at={}));class Kl{constructor(n,a,s,i,u,h,f){this.name=n,this.type=a,this.group=s,this.binding=i,this.attributes=u,this.resourceType=h,this.access=f}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Qy{constructor(n,a){this.name=n,this.type=a}}class Zy{constructor(n,a,s,i){this.name=n,this.type=a,this.locationType=s,this.location=i,this.interpolation=null}}class Om{constructor(n,a,s,i){this.name=n,this.type=a,this.locationType=s,this.location=i}}class $y{constructor(n,a,s,i){this.name=n,this.type=a,this.attributes=s,this.id=i}}class Ky{constructor(n,a,s){this.name=n,this.type=a,this.attributes=s}}class Jy{constructor(n,a=null,s){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=n,this.stage=a,this.attributes=s}}class Fy{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}const rp=new Float32Array(1),Wy=new Int32Array(rp.buffer),ht=new Uint16Array(1);function Py(d){rp[0]=d;const n=Wy[0],a=n>>31&1;let s=n>>23&255,i=8388607&n;if(s===255)return ht[0]=a<<15|31744|(i!==0?512:0),ht[0];if(s===0){if(i===0)return ht[0]=a<<15,ht[0];i|=8388608;let u=113;for(;!(8388608&i);)i<<=1,u--;return s=127-u,i&=8388607,s>0?(i=(i>>126-s)+(i>>127-s&1),ht[0]=a<<15|s<<10|i>>13,ht[0]):(ht[0]=a<<15,ht[0])}return s=s-127+15,s>=31?(ht[0]=a<<15|31744,ht[0]):s<=0?s<-10?(ht[0]=a<<15,ht[0]):(i=(8388608|i)>>1-s,ht[0]=a<<15|i>>13,ht[0]):(i>>=13,ht[0]=a<<15|s<<10|i,ht[0])}const nc=new Uint32Array(1),sp=new Float32Array(nc.buffer,0,1);function Bm(d){const n=112+(d>>6&31)<<23|(63&d)<<17;return nc[0]=n,sp[0]}function eb(d,n,a,s,i,u,h,f,m){const p=s*(h>>=i)*(u>>=i)+a*h+n*f;switch(m){case"r8unorm":return[ke(d,p,"8unorm",1)[0]];case"r8snorm":return[ke(d,p,"8snorm",1)[0]];case"r8uint":return[ke(d,p,"8uint",1)[0]];case"r8sint":return[ke(d,p,"8sint",1)[0]];case"rg8unorm":{const g=ke(d,p,"8unorm",2);return[g[0],g[1]]}case"rg8snorm":{const g=ke(d,p,"8snorm",2);return[g[0],g[1]]}case"rg8uint":{const g=ke(d,p,"8uint",2);return[g[0],g[1]]}case"rg8sint":{const g=ke(d,p,"8sint",2);return[g[0],g[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const g=ke(d,p,"8unorm",4);return[g[0],g[1],g[2],g[3]]}case"rgba8snorm":{const g=ke(d,p,"8snorm",4);return[g[0],g[1],g[2],g[3]]}case"rgba8uint":{const g=ke(d,p,"8uint",4);return[g[0],g[1],g[2],g[3]]}case"rgba8sint":{const g=ke(d,p,"8sint",4);return[g[0],g[1],g[2],g[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const g=ke(d,p,"8unorm",4);return[g[2],g[1],g[0],g[3]]}case"r16uint":return[ke(d,p,"16uint",1)[0]];case"r16sint":return[ke(d,p,"16sint",1)[0]];case"r16float":return[ke(d,p,"16float",1)[0]];case"rg16uint":{const g=ke(d,p,"16uint",2);return[g[0],g[1]]}case"rg16sint":{const g=ke(d,p,"16sint",2);return[g[0],g[1]]}case"rg16float":{const g=ke(d,p,"16float",2);return[g[0],g[1]]}case"rgba16uint":{const g=ke(d,p,"16uint",4);return[g[0],g[1],g[2],g[3]]}case"rgba16sint":{const g=ke(d,p,"16sint",4);return[g[0],g[1],g[2],g[3]]}case"rgba16float":{const g=ke(d,p,"16float",4);return[g[0],g[1],g[2],g[3]]}case"r32uint":return[ke(d,p,"32uint",1)[0]];case"r32sint":return[ke(d,p,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[ke(d,p,"32float",1)[0]];case"rg32uint":{const g=ke(d,p,"32uint",2);return[g[0],g[1]]}case"rg32sint":{const g=ke(d,p,"32sint",2);return[g[0],g[1]]}case"rg32float":{const g=ke(d,p,"32float",2);return[g[0],g[1]]}case"rgba32uint":{const g=ke(d,p,"32uint",4);return[g[0],g[1],g[2],g[3]]}case"rgba32sint":{const g=ke(d,p,"32sint",4);return[g[0],g[1],g[2],g[3]]}case"rgba32float":{const g=ke(d,p,"32float",4);return[g[0],g[1],g[2],g[3]]}case"rg11b10ufloat":{const g=new Uint32Array(d.buffer,p,1)[0],y=(4192256&g)>>11,k=(4290772992&g)>>22;return[Bm(2047&g),Bm(y),(function(O){const j=112+(O>>5&31)<<23|(31&O)<<18;return nc[0]=j,sp[0]})(k),1]}}return null}function ke(d,n,a,s){const i=[0,0,0,0];for(let p=0;p<s;++p)switch(a){case"8unorm":i[p]=d[n]/255,n++;break;case"8snorm":i[p]=d[n]/255*2-1,n++;break;case"8uint":i[p]=d[n],n++;break;case"8sint":i[p]=d[n]-127,n++;break;case"16uint":i[p]=d[n]|d[n+1]<<8,n+=2;break;case"16sint":i[p]=(d[n]|d[n+1]<<8)-32768,n+=2;break;case"16float":i[p]=(u=d[n]|d[n+1]<<8,h=void 0,f=void 0,m=void 0,h=(32768&u)>>15,m=1023&u,(f=(31744&u)>>10)==0?(h?-1:1)*Math.pow(2,-14)*(m/Math.pow(2,10)):f==31?m?NaN:1/0*(h?-1:1):(h?-1:1)*Math.pow(2,f-15)*(1+m/Math.pow(2,10))),n+=2;break;case"32uint":case"32sint":i[p]=d[n]|d[n+1]<<8|d[n+2]<<16|d[n+3]<<24,n+=4;break;case"32float":i[p]=new Float32Array(d.buffer,n,1)[0],n+=4}var u,h,f,m;return i}function Te(d,n,a,s,i){for(let u=0;u<s;++u)switch(a){case"8unorm":d[n]=255*i[u],n++;break;case"8snorm":d[n]=.5*(i[u]+1)*255,n++;break;case"8uint":d[n]=i[u],n++;break;case"8sint":d[n]=i[u]+127,n++;break;case"16uint":new Uint16Array(d.buffer,n,1)[0]=i[u],n+=2;break;case"16sint":new Int16Array(d.buffer,n,1)[0]=i[u],n+=2;break;case"16float":{const h=Py(i[u]);new Uint16Array(d.buffer,n,1)[0]=h,n+=2;break}case"32uint":new Uint32Array(d.buffer,n,1)[0]=i[u],n+=4;break;case"32sint":new Int32Array(d.buffer,n,1)[0]=i[u],n+=4;break;case"32float":new Float32Array(d.buffer,n,1)[0]=i[u],n+=4}return i}const Vu={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};class Kt{constructor(){this.id=Kt._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(n){n(this)}searchBlock(n,a){if(n){a(ri.instance);for(const s of n)s instanceof Array?this.searchBlock(s,a):s.search(a);a(si.instance)}}constEvaluate(n,a){throw new Error("Cannot evaluate node")}constEvaluateString(n){return this.constEvaluate(n).toString()}}Kt._id=0;class ri extends Kt{}ri.instance=new ri;class si extends Kt{}si.instance=new si;const lp=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);class Re extends Kt{constructor(){super()}}class Ds extends Re{constructor(n,a,s,i,u,h){super(),this.calls=new Set,this.name=n,this.args=a,this.returnType=s,this.body=i,this.startLine=u,this.endLine=h}get astNodeType(){return"function"}search(n){if(this.attributes)for(const a of this.attributes)n(a);n(this);for(const a of this.args)n(a);this.searchBlock(this.body,n)}}class tb extends Re{constructor(n){super(),this.expression=n}get astNodeType(){return"staticAssert"}search(n){this.expression.search(n)}}class ip extends Re{constructor(n,a){super(),this.condition=n,this.body=a}get astNodeType(){return"while"}search(n){this.condition.search(n),this.searchBlock(this.body,n)}}class Ju extends Re{constructor(n,a){super(),this.body=n,this.loopId=a}get astNodeType(){return"continuing"}search(n){this.searchBlock(this.body,n)}}class op extends Re{constructor(n,a,s,i){super(),this.init=n,this.condition=a,this.increment=s,this.body=i}get astNodeType(){return"for"}search(n){var a,s,i;(a=this.init)===null||a===void 0||a.search(n),(s=this.condition)===null||s===void 0||s.search(n),(i=this.increment)===null||i===void 0||i.search(n),this.searchBlock(this.body,n)}}class Bn extends Re{constructor(n,a,s,i,u){super(),this.attributes=null,this.name=n,this.type=a,this.storage=s,this.access=i,this.value=u}get astNodeType(){return"var"}search(n){var a;n(this),(a=this.value)===null||a===void 0||a.search(n)}}class ac extends Re{constructor(n,a,s){super(),this.attributes=null,this.name=n,this.type=a,this.value=s}get astNodeType(){return"override"}search(n){var a;(a=this.value)===null||a===void 0||a.search(n)}}class As extends Re{constructor(n,a,s,i,u){super(),this.attributes=null,this.name=n,this.type=a,this.storage=s,this.access=i,this.value=u}get astNodeType(){return"let"}search(n){var a;n(this),(a=this.value)===null||a===void 0||a.search(n)}}class Wl extends Re{constructor(n,a,s,i,u){super(),this.attributes=null,this.name=n,this.type=a,this.storage=s,this.access=i,this.value=u}get astNodeType(){return"const"}constEvaluate(n,a){return this.value.constEvaluate(n,a)}search(n){var a;n(this),(a=this.value)===null||a===void 0||a.search(n)}}var wr,ks,M,E;(d=>{d.increment="++",d.decrement="--"})(wr||(wr={})),(d=>{d.parse=function(n){const a=n;if(a=="parse")throw new Error("Invalid value for IncrementOperator");return d[a]}})(wr||(wr={}));class up extends Re{constructor(n,a){super(),this.operator=n,this.variable=a}get astNodeType(){return"increment"}search(n){this.variable.search(n)}}(d=>{d.assign="=",d.addAssign="+=",d.subtractAssin="-=",d.multiplyAssign="*=",d.divideAssign="/=",d.moduloAssign="%=",d.andAssign="&=",d.orAssign="|=",d.xorAssign="^=",d.shiftLeftAssign="<<=",d.shiftRightAssign=">>="})(ks||(ks={})),(d=>{d.parse=function(n){const a=n;if(a=="parse")throw new Error("Invalid value for AssignOperator");return a}})(ks||(ks={}));class cp extends Re{constructor(n,a,s){super(),this.operator=n,this.variable=a,this.value=s}get astNodeType(){return"assign"}search(n){this.variable.search(n),this.value.search(n)}}class rc extends Re{constructor(n,a){super(),this.name=n,this.args=a}get astNodeType(){return"call"}isBuiltin(){return lp.has(this.name)}search(n){for(const a of this.args)a.search(n);n(this)}}class fp extends Re{constructor(n,a){super(),this.body=n,this.continuing=a}get astNodeType(){return"loop"}}class hp extends Re{constructor(n,a){super(),this.condition=n,this.cases=a}get astNodeType(){return"switch"}}class dp extends Re{constructor(n,a,s,i){super(),this.condition=n,this.body=a,this.elseif=s,this.else=i}get astNodeType(){return"if"}search(n){this.condition.search(n),this.searchBlock(this.body,n),this.searchBlock(this.elseif,n),this.searchBlock(this.else,n)}}class mp extends Re{constructor(n){super(),this.value=n}get astNodeType(){return"return"}search(n){var a;(a=this.value)===null||a===void 0||a.search(n)}}class nb extends Re{constructor(n){super(),this.name=n}get astNodeType(){return"enable"}}class ab extends Re{constructor(n){super(),this.extensions=n}get astNodeType(){return"requires"}}class pp extends Re{constructor(n,a){super(),this.severity=n,this.rule=a}get astNodeType(){return"diagnostic"}}class sc extends Re{constructor(n,a){super(),this.name=n,this.type=a}get astNodeType(){return"alias"}}class rb extends Re{constructor(){super()}get astNodeType(){return"discard"}}class gp extends Re{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}}class _p extends Re{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}}class q extends Re{constructor(n){super(),this.attributes=null,this.name=n}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(n){let a=n[0];if(a.name==="f32")return a;for(let s=1;s<n.length;++s){const i=q._priority.get(a.name);q._priority.get(n[s].name)<i&&(a=n[s])}return a.name==="x32"?q.i32:a}getTypeName(){return this.name}}q.x32=new q("x32"),q.f32=new q("f32"),q.i32=new q("i32"),q.u32=new q("u32"),q.f16=new q("f16"),q.bool=new q("bool"),q.void=new q("void"),q._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class Im extends q{constructor(n){super(n)}}class Mn extends q{constructor(n,a,s,i){super(n),this.members=a,this.startLine=s,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(n){for(let a=0;a<this.members.length;a++)if(this.members[a].name==n)return a;return-1}search(n){for(const a of this.members)n(a)}}class z extends q{constructor(n,a,s){super(n),this.format=a,this.access=s}get astNodeType(){return"template"}getTypeName(){let n=this.name;if(this.format!==null){if(n==="vec2"||n==="vec3"||n==="vec4"||n==="mat2x2"||n==="mat2x3"||n==="mat2x4"||n==="mat3x2"||n==="mat3x3"||n==="mat3x4"||n==="mat4x2"||n==="mat4x3"||n==="mat4x4"){if(this.format.name==="f32")return n+="f",n;if(this.format.name==="i32")return n+="i",n;if(this.format.name==="u32")return n+="u",n;if(this.format.name==="bool")return n+="b",n;if(this.format.name==="f16")return n+="h",n}n+=`<${this.format.name}>`}else if(n==="vec2"||n==="vec3"||n==="vec4")return n;return n}}z.vec2f=new z("vec2",q.f32,null),z.vec3f=new z("vec3",q.f32,null),z.vec4f=new z("vec4",q.f32,null),z.vec2i=new z("vec2",q.i32,null),z.vec3i=new z("vec3",q.i32,null),z.vec4i=new z("vec4",q.i32,null),z.vec2u=new z("vec2",q.u32,null),z.vec3u=new z("vec3",q.u32,null),z.vec4u=new z("vec4",q.u32,null),z.vec2h=new z("vec2",q.f16,null),z.vec3h=new z("vec3",q.f16,null),z.vec4h=new z("vec4",q.f16,null),z.vec2b=new z("vec2",q.bool,null),z.vec3b=new z("vec3",q.bool,null),z.vec4b=new z("vec4",q.bool,null),z.mat2x2f=new z("mat2x2",q.f32,null),z.mat2x3f=new z("mat2x3",q.f32,null),z.mat2x4f=new z("mat2x4",q.f32,null),z.mat3x2f=new z("mat3x2",q.f32,null),z.mat3x3f=new z("mat3x3",q.f32,null),z.mat3x4f=new z("mat3x4",q.f32,null),z.mat4x2f=new z("mat4x2",q.f32,null),z.mat4x3f=new z("mat4x3",q.f32,null),z.mat4x4f=new z("mat4x4",q.f32,null),z.mat2x2h=new z("mat2x2",q.f16,null),z.mat2x3h=new z("mat2x3",q.f16,null),z.mat2x4h=new z("mat2x4",q.f16,null),z.mat3x2h=new z("mat3x2",q.f16,null),z.mat3x3h=new z("mat3x3",q.f16,null),z.mat3x4h=new z("mat3x4",q.f16,null),z.mat4x2h=new z("mat4x2",q.f16,null),z.mat4x3h=new z("mat4x3",q.f16,null),z.mat4x4h=new z("mat4x4",q.f16,null),z.mat2x2i=new z("mat2x2",q.i32,null),z.mat2x3i=new z("mat2x3",q.i32,null),z.mat2x4i=new z("mat2x4",q.i32,null),z.mat3x2i=new z("mat3x2",q.i32,null),z.mat3x3i=new z("mat3x3",q.i32,null),z.mat3x4i=new z("mat3x4",q.i32,null),z.mat4x2i=new z("mat4x2",q.i32,null),z.mat4x3i=new z("mat4x3",q.i32,null),z.mat4x4i=new z("mat4x4",q.i32,null),z.mat2x2u=new z("mat2x2",q.u32,null),z.mat2x3u=new z("mat2x3",q.u32,null),z.mat2x4u=new z("mat2x4",q.u32,null),z.mat3x2u=new z("mat3x2",q.u32,null),z.mat3x3u=new z("mat3x3",q.u32,null),z.mat3x4u=new z("mat3x4",q.u32,null),z.mat4x2u=new z("mat4x2",q.u32,null),z.mat4x3u=new z("mat4x3",q.u32,null),z.mat4x4u=new z("mat4x4",q.u32,null);class Pl extends q{constructor(n,a,s,i){super(n),this.storage=a,this.type=s,this.access=i}get astNodeType(){return"pointer"}}class Es extends q{constructor(n,a,s,i){super(n),this.attributes=a,this.format=s,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class Ss extends q{constructor(n,a,s){super(n),this.format=a,this.access=s}get astNodeType(){return"sampler"}}class an extends Kt{constructor(){super(),this.postfix=null}}class Ia extends an{constructor(n){super(),this.value=n}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}}class cn extends an{constructor(n,a){super(),this.type=n,this.args=a}get astNodeType(){return"createExpr"}search(n){if(n(this),this.args)for(const a of this.args)a.search(n)}constEvaluate(n,a){return a&&(a[0]=this.type),n.evalExpression(this,n.context)}}class lc extends an{constructor(n,a){super(),this.cachedReturnValue=null,this.name=n,this.args=a}get astNodeType(){return"callExpr"}setCachedReturnValue(n){this.cachedReturnValue=n}get isBuiltin(){return lp.has(this.name)}constEvaluate(n,a){return n.evalExpression(this,n.context)}search(n){for(const a of this.args)a.search(n);n(this)}}class Ut extends an{constructor(n){super(),this.name=n}get astNodeType(){return"varExpr"}search(n){n(this),this.postfix&&this.postfix.search(n)}constEvaluate(n,a){return n.evalExpression(this,n.context)}}class yp extends an{constructor(n,a){super(),this.name=n,this.initializer=a}get astNodeType(){return"constExpr"}constEvaluate(n,a){if(this.initializer){const s=n.evalExpression(this.initializer,n.context);return s!==null&&this.postfix?s.getSubData(n,this.postfix,n.context):s}return null}search(n){this.initializer.search(n)}}class et extends an{constructor(n,a){super(),this.value=n,this.type=a}get astNodeType(){return"literalExpr"}constEvaluate(n,a){return a!==void 0&&(a[0]=this.type),this.value}get isScalar(){return this.value instanceof A}get isVector(){return this.value instanceof x||this.value instanceof ne}get scalarValue(){return this.value instanceof A?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof x||this.value instanceof ne?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}}class bp extends an{constructor(n,a){super(),this.type=n,this.value=a}get astNodeType(){return"bitcastExpr"}search(n){this.value.search(n)}}class kr extends an{constructor(n){super(),this.index=n}search(n){this.index.search(n)}}class vp extends an{constructor(){super()}}class We extends vp{constructor(n,a){super(),this.operator=n,this.right=a}get astNodeType(){return"unaryOp"}constEvaluate(n,a){return n.evalExpression(this,n.context)}search(n){this.right.search(n)}}class nn extends vp{constructor(n,a,s){super(),this.operator=n,this.left=a,this.right=s}get astNodeType(){return"binaryOp"}_getPromotedType(n,a){return n.name===a.name?n:n.name==="f32"||a.name==="f32"?q.f32:n.name==="u32"||a.name==="u32"?q.u32:q.i32}constEvaluate(n,a){return n.evalExpression(this,n.context)}search(n){this.left.search(n),this.right.search(n)}}class xp extends Kt{constructor(n){super(),this.body=n}}class ei extends an{constructor(){super()}get astNodeType(){return"default"}}class wp extends xp{constructor(n,a){super(a),this.selectors=n}get astNodeType(){return"case"}search(n){this.searchBlock(this.body,n)}}class kp extends xp{constructor(n){super(n)}get astNodeType(){return"default"}search(n){this.searchBlock(this.body,n)}}class Um extends Kt{constructor(n,a,s){super(),this.name=n,this.type=a,this.attributes=s}get astNodeType(){return"argument"}}class sb extends Kt{constructor(n,a){super(),this.condition=n,this.body=a}get astNodeType(){return"elseif"}search(n){this.condition.search(n),this.searchBlock(this.body,n)}}class Nm extends Kt{constructor(n,a,s){super(),this.name=n,this.type=a,this.attributes=s}get astNodeType(){return"member"}}class Sp extends Kt{constructor(n,a){super(),this.name=n,this.value=a}get astNodeType(){return"attribute"}}class $t{constructor(n,a){this.parent=null,this.typeInfo=n,this.parent=a,this.id=$t._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(n,a,s,i){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(n,a,s){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}}$t._id=0;class Fu extends $t{constructor(){super(new Zt("void",null),null)}toString(){return"void"}}Fu.void=new Fu;class br extends $t{constructor(n){super(new Ku("pointer",n.typeInfo,null),null),this.reference=n}clone(){return this}setDataValue(n,a,s,i){this.reference.setDataValue(n,a,s,i)}getSubData(n,a,s){return a?this.reference.getSubData(n,a,s):this}toString(){return`&${this.reference.toString()}`}}class A extends $t{constructor(n,a,s=null){super(a,s),n instanceof Int32Array||n instanceof Uint32Array||n instanceof Float32Array?this.data=n:this.typeInfo.name==="x32"?n-Math.floor(n)!=0?this.data=new Float32Array([n]):this.data=n>=0?new Uint32Array([n]):new Int32Array([n]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([n]):this.typeInfo.name==="u32"?this.data=new Uint32Array([n]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([n]):console.error("ScalarData2: Invalid type",a)}clone(){if(this.data instanceof Float32Array)return new A(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new A(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new A(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(n){this.data[0]=n}setDataValue(n,a,s,i){if(s)return void console.error("SetDataValue: Scalar data does not support postfix",s);if(!(a instanceof A))return void console.error("SetDataValue: Invalid value",a);let u=a.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?u=Math.floor(u):this.typeInfo.name==="bool"&&(u=u?1:0),this.data[0]=u}getSubData(n,a,s){return a?(console.error("getSubData: Scalar data does not support postfix",a),null):this}toString(){return`${this.value}`}}function lb(d,n,a){const s=n.length;return s===2?a==="f32"?new x(new Float32Array(n),d.getTypeInfo("vec2f")):a==="i32"||a==="bool"?new x(new Int32Array(n),d.getTypeInfo("vec2i")):a==="u32"?new x(new Uint32Array(n),d.getTypeInfo("vec2u")):a==="f16"?new x(new Float32Array(n),d.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${a}`),null):s===3?a==="f32"?new x(new Float32Array(n),d.getTypeInfo("vec3f")):a==="i32"||a==="bool"?new x(new Int32Array(n),d.getTypeInfo("vec3i")):a==="u32"?new x(new Uint32Array(n),d.getTypeInfo("vec3u")):a==="f16"?new x(new Float32Array(n),d.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${a}`),null):s===4?a==="f32"?new x(new Float32Array(n),d.getTypeInfo("vec4f")):a==="i32"||a==="bool"?new x(new Int32Array(n),d.getTypeInfo("vec4i")):a==="u32"?new x(new Uint32Array(n),d.getTypeInfo("vec4u")):a==="f16"?new x(new Float32Array(n),d.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${a}`),null):(console.error(`getSubData: Invalid vector size ${n.length}`),null)}class x extends $t{constructor(n,a,s=null){if(super(a,s),n instanceof Float32Array||n instanceof Uint32Array||n instanceof Int32Array)this.data=n;else{const i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?this.data=new Float32Array(n):i==="vec2i"||i==="vec3i"||i==="vec4i"?this.data=new Int32Array(n):i==="vec2u"||i==="vec3u"||i==="vec4u"?this.data=new Uint32Array(n):i==="vec2h"||i==="vec3h"||i==="vec4h"?this.data=new Float32Array(n):i==="vec2b"||i==="vec3b"||i==="vec4b"?this.data=new Int32Array(n):i==="vec2"||i==="vec3"||i==="vec4"?this.data=new Float32Array(n):console.error(`VectorData: Invalid type ${i}`)}}clone(){if(this.data instanceof Float32Array)return new x(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new x(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new x(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(n,a,s,i){s instanceof Ia?console.error("TODO: Set vector postfix"):a instanceof x?this.data=a.data:console.error("SetDataValue: Invalid value",a)}getSubData(n,a,s){if(a===null)return this;let i=n.getTypeInfo("f32");if(this.typeInfo instanceof Ba)i=this.typeInfo.format||i;else{const h=this.typeInfo.name;h==="vec2f"||h==="vec3f"||h==="vec4f"?i=n.getTypeInfo("f32"):h==="vec2i"||h==="vec3i"||h==="vec4i"?i=n.getTypeInfo("i32"):h==="vec2b"||h==="vec3b"||h==="vec4b"?i=n.getTypeInfo("bool"):h==="vec2u"||h==="vec3u"||h==="vec4u"?i=n.getTypeInfo("u32"):h==="vec2h"||h==="vec3h"||h==="vec4h"?i=n.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${h}`)}let u=this;for(;a!==null&&u!==null;){if(a instanceof kr){const h=a.index;let f=-1;if(h instanceof et){if(!(h.value instanceof A))return console.error(`GetSubData: Invalid array index ${h.value}`),null;f=h.value.value}else{const m=n.evalExpression(h,s);if(!(m instanceof A))return console.error("GetSubData: Unknown index type",h),null;f=m.value}if(f<0||f>=u.data.length)return console.error("GetSubData: Index out of range",f),null;if(u.data instanceof Float32Array){const m=new Float32Array(u.data.buffer,u.data.byteOffset+4*f,1);return new A(m,i)}if(u.data instanceof Int32Array){const m=new Int32Array(u.data.buffer,u.data.byteOffset+4*f,1);return new A(m,i)}if(u.data instanceof Uint32Array){const m=new Uint32Array(u.data.buffer,u.data.byteOffset+4*f,1);return new A(m,i)}throw"GetSubData: Invalid data type"}if(!(a instanceof Ia))return console.error("GetSubData: Unknown postfix",a),null;{const h=a.value.toLowerCase();if(h.length===1){let m=0;if(h==="x"||h==="r")m=0;else if(h==="y"||h==="g")m=1;else if(h==="z"||h==="b")m=2;else{if(h!=="w"&&h!=="a")return console.error(`GetSubData: Unknown member ${h}`),null;m=3}if(this.data instanceof Float32Array){let p=new Float32Array(this.data.buffer,this.data.byteOffset+4*m,1);return new A(p,i,this)}if(this.data instanceof Int32Array){let p=new Int32Array(this.data.buffer,this.data.byteOffset+4*m,1);return new A(p,i,this)}if(this.data instanceof Uint32Array){let p=new Uint32Array(this.data.buffer,this.data.byteOffset+4*m,1);return new A(p,i,this)}}const f=[];for(const m of h)m==="x"||m==="r"?f.push(this.data[0]):m==="y"||m==="g"?f.push(this.data[1]):m==="z"||m==="b"?f.push(this.data[2]):m==="w"||m==="a"?f.push(this.data[3]):console.error(`GetDataValue: Unknown member ${m}`);u=lb(n,f,i.name)}a=a.postfix}return u}toString(){let n=`${this.data[0]}`;for(let a=1;a<this.data.length;++a)n+=`, ${this.data[a]}`;return n}}class ne extends $t{constructor(n,a,s=null){super(a,s),n instanceof Float32Array?this.data=n:this.data=new Float32Array(n)}clone(){return new ne(new Float32Array(this.data),this.typeInfo,null)}setDataValue(n,a,s,i){s instanceof Ia?console.error("TODO: Set matrix postfix"):a instanceof ne?this.data=a.data:console.error("SetDataValue: Invalid value",a)}getSubData(n,a,s){if(a===null)return this;const i=this.typeInfo.name;if(n.getTypeInfo("f32"),this.typeInfo instanceof Ba)this.typeInfo.format;else if(i.endsWith("f"))n.getTypeInfo("f32");else if(i.endsWith("i"))n.getTypeInfo("i32");else if(i.endsWith("u"))n.getTypeInfo("u32");else{if(!i.endsWith("h"))return console.error(`GetDataValue: Unknown type ${i}`),null;n.getTypeInfo("f16")}if(a instanceof kr){const u=a.index;let h=-1;if(u instanceof et){if(!(u.value instanceof A))return console.error(`GetDataValue: Invalid array index ${u.value}`),null;h=u.value.value}else{const p=n.evalExpression(u,s);if(!(p instanceof A))return console.error("GetDataValue: Unknown index type",u),null;h=p.value}if(h<0||h>=this.data.length)return console.error("GetDataValue: Index out of range",h),null;const f=i.endsWith("h")?"h":"f";let m;if(i==="mat2x2"||i==="mat2x2f"||i==="mat2x2h"||i==="mat3x2"||i==="mat3x2f"||i==="mat3x2h"||i==="mat4x2"||i==="mat4x2f"||i==="mat4x2h")m=new x(new Float32Array(this.data.buffer,this.data.byteOffset+2*h*4,2),n.getTypeInfo(`vec2${f}`));else if(i==="mat2x3"||i==="mat2x3f"||i==="mat2x3h"||i==="mat3x3"||i==="mat3x3f"||i==="mat3x3h"||i==="mat4x3"||i==="mat4x3f"||i==="mat4x3h")m=new x(new Float32Array(this.data.buffer,this.data.byteOffset+3*h*4,3),n.getTypeInfo(`vec3${f}`));else{if(i!=="mat2x4"&&i!=="mat2x4f"&&i!=="mat2x4h"&&i!=="mat3x4"&&i!=="mat3x4f"&&i!=="mat3x4h"&&i!=="mat4x4"&&i!=="mat4x4f"&&i!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${i}`),null;m=new x(new Float32Array(this.data.buffer,this.data.byteOffset+4*h*4,4),n.getTypeInfo(`vec4${f}`))}return a.postfix?m.getSubData(n,a.postfix,s):m}return console.error("GetDataValue: Invalid postfix",a),null}toString(){let n=`${this.data[0]}`;for(let a=1;a<this.data.length;++a)n+=`, ${this.data[a]}`;return n}}class je extends $t{constructor(n,a,s=0,i=null){super(a,i),this.buffer=n instanceof ArrayBuffer?n:n.buffer,this.offset=s}clone(){const n=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new je(n.buffer,this.typeInfo,0,null)}setDataValue(n,a,s,i){if(a===null)return void console.log("setDataValue: NULL data.");let u=this.offset,h=this.typeInfo;for(;s;){if(s instanceof kr)if(h instanceof oa){const f=s.index;if(f instanceof et){if(!(f.value instanceof A))return void console.error(`SetDataValue: Invalid index type ${f.value}`);u+=f.value.value*h.stride}else{const m=n.evalExpression(f,i);if(!(m instanceof A))return void console.error("SetDataValue: Unknown index type",f);u+=m.value*h.stride}h=h.format}else console.error(`SetDataValue: Type ${h.getTypeName()} is not an array`);else{if(!(s instanceof Ia))return void console.error("SetDataValue: Unknown postfix type",s);{const f=s.value;if(h instanceof ia){let m=!1;for(const p of h.members)if(p.name===f){u+=p.offset,h=p.type,m=!0;break}if(!m)return void console.error(`SetDataValue: Member ${f} not found`)}else if(h instanceof Zt){const m=h.getTypeName();let p=0;if(f==="x"||f==="r")p=0;else if(f==="y"||f==="g")p=1;else if(f==="z"||f==="b")p=2;else{if(f!=="w"&&f!=="a")return void console.error(`SetDataValue: Unknown member ${f}`);p=3}if(!(a instanceof A))return void console.error("SetDataValue: Invalid value",a);const g=a.value;return m==="vec2f"?void(new Float32Array(this.buffer,u,2)[p]=g):m==="vec3f"?void(new Float32Array(this.buffer,u,3)[p]=g):m==="vec4f"?void(new Float32Array(this.buffer,u,4)[p]=g):m==="vec2i"?void(new Int32Array(this.buffer,u,2)[p]=g):m==="vec3i"?void(new Int32Array(this.buffer,u,3)[p]=g):m==="vec4i"?void(new Int32Array(this.buffer,u,4)[p]=g):m==="vec2u"?void(new Uint32Array(this.buffer,u,2)[p]=g):m==="vec3u"?void(new Uint32Array(this.buffer,u,3)[p]=g):m==="vec4u"?void(new Uint32Array(this.buffer,u,4)[p]=g):void console.error(`SetDataValue: Type ${m} is not a struct`)}}}s=s.postfix}this.setData(n,a,h,u,i)}setData(n,a,s,i,u){const h=s.getTypeName();if(h!=="f32"&&h!=="f16")if(h!=="i32"&&h!=="atomic<i32>"&&h!=="x32")if(h!=="u32"&&h!=="atomic<u32>")if(h!=="bool")if(h!=="vec2f"&&h!=="vec2h")if(h!=="vec3f"&&h!=="vec3h")if(h!=="vec4f"&&h!=="vec4h")if(h!=="vec2i")if(h!=="vec3i")if(h!=="vec4i")if(h!=="vec2u")if(h!=="vec3u")if(h!=="vec4u")if(h!=="vec2b")if(h!=="vec3b")if(h!=="vec4b")if(h!=="mat2x2f"&&h!=="mat2x2h")if(h!=="mat2x3f"&&h!=="mat2x3h")if(h!=="mat2x4f"&&h!=="mat2x4h")if(h!=="mat3x2f"&&h!=="mat3x2h")if(h!=="mat3x3f"&&h!=="mat3x3h")if(h!=="mat3x4f"&&h!=="mat3x4h")if(h!=="mat4x2f"&&h!=="mat4x2h")if(h!=="mat4x3f"&&h!=="mat4x3h")if(h!=="mat4x4f"&&h!=="mat4x4h")if(a instanceof je){if(s===a.typeInfo)return void new Uint8Array(this.buffer,i,a.buffer.byteLength).set(new Uint8Array(a.buffer));console.error("SetDataValue: Type mismatch",h,a.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${h}`);else{const f=new Float32Array(this.buffer,i,16);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7],f[8]=a.data[8],f[9]=a.data[9],f[10]=a.data[10],f[11]=a.data[11],f[12]=a.data[12],f[13]=a.data[13],f[14]=a.data[14],f[15]=a.data[15]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7],f[8]=a[8],f[9]=a[9],f[10]=a[10],f[11]=a[11],f[12]=a[12],f[13]=a[13],f[14]=a[14],f[15]=a[15])}else{const f=new Float32Array(this.buffer,i,12);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7],f[8]=a.data[8],f[9]=a.data[9],f[10]=a.data[10],f[11]=a.data[11]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7],f[8]=a[8],f[9]=a[9],f[10]=a[10],f[11]=a[11])}else{const f=new Float32Array(this.buffer,i,8);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7])}else{const f=new Float32Array(this.buffer,i,12);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7],f[8]=a.data[8],f[9]=a.data[9],f[10]=a.data[10],f[11]=a.data[11]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7],f[8]=a[8],f[9]=a[9],f[10]=a[10],f[11]=a[11])}else{const f=new Float32Array(this.buffer,i,9);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7],f[8]=a.data[8]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7],f[8]=a[8])}else{const f=new Float32Array(this.buffer,i,6);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5])}else{const f=new Float32Array(this.buffer,i,8);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5],f[6]=a.data[6],f[7]=a.data[7]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5],f[6]=a[6],f[7]=a[7])}else{const f=new Float32Array(this.buffer,i,6);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3],f[4]=a.data[4],f[5]=a.data[5]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3],f[4]=a[4],f[5]=a[5])}else{const f=new Float32Array(this.buffer,i,4);a instanceof ne?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3])}else{const f=new Uint32Array(this.buffer,i,4);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3])}else{const f=new Uint32Array(this.buffer,i,3);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2]):(f[0]=a[0],f[1]=a[1],f[2]=a[2])}else{const f=new Uint32Array(this.buffer,i,2);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1]):(f[0]=a[0],f[1]=a[1])}else{const f=new Uint32Array(this.buffer,i,4);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3])}else{const f=new Uint32Array(this.buffer,i,3);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2]):(f[0]=a[0],f[1]=a[1],f[2]=a[2])}else{const f=new Uint32Array(this.buffer,i,2);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1]):(f[0]=a[0],f[1]=a[1])}else{const f=new Int32Array(this.buffer,i,4);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3])}else{const f=new Int32Array(this.buffer,i,3);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2]):(f[0]=a[0],f[1]=a[1],f[2]=a[2])}else{const f=new Int32Array(this.buffer,i,2);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1]):(f[0]=a[0],f[1]=a[1])}else{const f=new Float32Array(this.buffer,i,4);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2],f[3]=a.data[3]):(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3])}else{const f=new Float32Array(this.buffer,i,3);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1],f[2]=a.data[2]):(f[0]=a[0],f[1]=a[1],f[2]=a[2])}else{const f=new Float32Array(this.buffer,i,2);a instanceof x?(f[0]=a.data[0],f[1]=a.data[1]):(f[0]=a[0],f[1]=a[1])}else a instanceof A&&(new Int32Array(this.buffer,i,1)[0]=a.value);else a instanceof A&&(new Uint32Array(this.buffer,i,1)[0]=a.value);else a instanceof A&&(new Int32Array(this.buffer,i,1)[0]=a.value);else a instanceof A&&(new Float32Array(this.buffer,i,1)[0]=a.value)}getSubData(n,a,s){var i,u,h;if(a===null)return this;let f=this.offset,m=this.typeInfo;for(;a;){if(a instanceof kr){const g=a.index,y=g instanceof an?n.evalExpression(g,s):g;let k=0;if(y instanceof A?k=y.value:typeof y=="number"?k=y:console.error("GetDataValue: Invalid index type",g),m instanceof oa)f+=k*m.stride,m=m.format;else{const O=m.getTypeName();O==="mat4x4"||O==="mat4x4f"||O==="mat4x4h"?(f+=16*k,m=n.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${m.getTypeName()} is not an array`)}}else{if(!(a instanceof Ia))return console.error("GetDataValue: Unknown postfix type",a),null;{const g=a.value;if(m instanceof ia){let y=!1;for(const k of m.members)if(k.name===g){f+=k.offset,m=k.type,y=!0;break}if(!y)return console.error(`GetDataValue: Member ${g} not found`),null}else if(m instanceof Zt){const y=m.getTypeName();if(y==="vec2f"||y==="vec3f"||y==="vec4f"||y==="vec2i"||y==="vec3i"||y==="vec4i"||y==="vec2u"||y==="vec3u"||y==="vec4u"||y==="vec2b"||y==="vec3b"||y==="vec4b"||y==="vec2h"||y==="vec3h"||y==="vec4h"||y==="vec2"||y==="vec3"||y==="vec4"){if(g.length>0&&g.length<5){let k="f";const O=[];for(let j=0;j<g.length;++j){const F=g[j].toLowerCase();let K=0;if(F==="x"||F==="r")K=0;else if(F==="y"||F==="g")K=1;else if(F==="z"||F==="b")K=2;else{if(F!=="w"&&F!=="a")return console.error(`Unknown member ${g}`),null;K=3}if(g.length===1){if(y.endsWith("f"))return this.buffer.byteLength<f+4*K+4?(console.log("Insufficient buffer data"),null):new A(new Float32Array(this.buffer,f+4*K,1),n.getTypeInfo("f32"),this);if(y.endsWith("h"))return new A(new Float32Array(this.buffer,f+4*K,1),n.getTypeInfo("f16"),this);if(y.endsWith("i"))return new A(new Int32Array(this.buffer,f+4*K,1),n.getTypeInfo("i32"),this);if(y.endsWith("b"))return new A(new Int32Array(this.buffer,f+4*K,1),n.getTypeInfo("bool"),this);if(y.endsWith("u"))return new A(new Uint32Array(this.buffer,f+4*K,1),n.getTypeInfo("i32"),this)}if(y==="vec2f")O.push(new Float32Array(this.buffer,f,2)[K]);else if(y==="vec3f"){if(f+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const ae=new Float32Array(this.buffer,f,3);O.push(ae[K])}else if(y==="vec4f")O.push(new Float32Array(this.buffer,f,4)[K]);else if(y==="vec2i")k="i",O.push(new Int32Array(this.buffer,f,2)[K]);else if(y==="vec3i")k="i",O.push(new Int32Array(this.buffer,f,3)[K]);else if(y==="vec4i")k="i",O.push(new Int32Array(this.buffer,f,4)[K]);else if(y==="vec2u"){k="u";const ae=new Uint32Array(this.buffer,f,2);O.push(ae[K])}else y==="vec3u"?(k="u",O.push(new Uint32Array(this.buffer,f,3)[K])):y==="vec4u"&&(k="u",O.push(new Uint32Array(this.buffer,f,4)[K]))}return O.length===2?m=n.getTypeInfo(`vec2${k}`):O.length===3?m=n.getTypeInfo(`vec3${k}`):O.length===4?m=n.getTypeInfo(`vec4${k}`):console.error(`GetDataValue: Invalid vector length ${O.length}`),new x(O,m,null)}return console.error(`GetDataValue: Unknown member ${g}`),null}return console.error(`GetDataValue: Type ${y} is not a struct`),null}}}a=a.postfix}const p=m.getTypeName();return p==="f32"?new A(new Float32Array(this.buffer,f,1),m,this):p==="i32"?new A(new Int32Array(this.buffer,f,1),m,this):p==="u32"?new A(new Uint32Array(this.buffer,f,1),m,this):p==="vec2f"?new x(new Float32Array(this.buffer,f,2),m,this):p==="vec3f"?new x(new Float32Array(this.buffer,f,3),m,this):p==="vec4f"?new x(new Float32Array(this.buffer,f,4),m,this):p==="vec2i"?new x(new Int32Array(this.buffer,f,2),m,this):p==="vec3i"?new x(new Int32Array(this.buffer,f,3),m,this):p==="vec4i"?new x(new Int32Array(this.buffer,f,4),m,this):p==="vec2u"?new x(new Uint32Array(this.buffer,f,2),m,this):p==="vec3u"?new x(new Uint32Array(this.buffer,f,3),m,this):p==="vec4u"?new x(new Uint32Array(this.buffer,f,4),m,this):m instanceof Ba&&m.name==="atomic"?((i=m.format)===null||i===void 0?void 0:i.name)==="u32"?new A(new Uint32Array(this.buffer,f,1)[0],m.format,this):((u=m.format)===null||u===void 0?void 0:u.name)==="i32"?new A(new Int32Array(this.buffer,f,1)[0],m.format,this):(console.error(`GetDataValue: Invalid atomic format ${(h=m.format)===null||h===void 0?void 0:h.name}`),null):new je(this.buffer,m,f,this)}toString(){let n="";if(this.typeInfo instanceof oa)if(this.typeInfo.format.name==="f32"){const a=new Float32Array(this.buffer,this.offset);n=`[${a[0]}`;for(let s=1;s<a.length;++s)n+=`, ${a[s]}`}else if(this.typeInfo.format.name==="i32"){const a=new Int32Array(this.buffer,this.offset);n=`[${a[0]}`;for(let s=1;s<a.length;++s)n+=`, ${a[s]}`}else if(this.typeInfo.format.name==="u32"){const a=new Uint32Array(this.buffer,this.offset);n=`[${a[0]}`;for(let s=1;s<a.length;++s)n+=`, ${a[s]}`}else if(this.typeInfo.format.name==="vec2f"){const a=new Float32Array(this.buffer,this.offset);n=`[${a[0]}, ${a[1]}]`;for(let s=1;s<a.length/2;++s)n+=`, [${a[2*s]}, ${a[2*s+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const a=new Float32Array(this.buffer,this.offset);n=`[${a[0]}, ${a[1]}, ${a[2]}]`;for(let s=4;s<a.length;s+=4)n+=`, [${a[s]}, ${a[s+1]}, ${a[s+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const a=new Float32Array(this.buffer,this.offset);n=`[${a[0]}, ${a[1]}, ${a[2]}, ${a[3]}]`;for(let s=4;s<a.length;s+=4)n+=`, [${a[s]}, ${a[s+1]}, ${a[s+2]}, ${a[s+3]}]`}else n="[...]";else this.typeInfo instanceof ia?n+="{...}":n="[...]";return n}}class On extends $t{constructor(n,a,s,i){super(a,null),this.data=n,this.descriptor=s,this.view=i}clone(){return new On(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var n,a;const s=this.descriptor.size;return s instanceof Array&&s.length>0?(n=s[0])!==null&&n!==void 0?n:0:s instanceof Object&&(a=s.width)!==null&&a!==void 0?a:0}get height(){var n,a;const s=this.descriptor.size;return s instanceof Array&&s.length>1?(n=s[1])!==null&&n!==void 0?n:0:s instanceof Object&&(a=s.height)!==null&&a!==void 0?a:0}get depthOrArrayLayers(){var n,a;const s=this.descriptor.size;return s instanceof Array&&s.length>2?(n=s[2])!==null&&n!==void 0?n:0:s instanceof Object&&(a=s.depthOrArrayLayers)!==null&&a!==void 0?a:0}get format(){var n;return this.descriptor&&(n=this.descriptor.format)!==null&&n!==void 0?n:"rgba8unorm"}get sampleCount(){var n;return this.descriptor&&(n=this.descriptor.sampleCount)!==null&&n!==void 0?n:1}get mipLevelCount(){var n;return this.descriptor&&(n=this.descriptor.mipLevelCount)!==null&&n!==void 0?n:1}get dimension(){var n;return this.descriptor&&(n=this.descriptor.dimension)!==null&&n!==void 0?n:"2d"}getMipLevelSize(n){if(n>=this.mipLevelCount)return[0,0,0];const a=[this.width,this.height,this.depthOrArrayLayers];for(let s=0;s<a.length;++s)a[s]=Math.max(1,a[s]>>n);return a}get texelByteSize(){const n=this.format,a=Vu[n];return a?a.isDepthStencil?4:a.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const n=this.format,a=Vu[n];return!!a&&a.isDepthStencil}getGpuSize(){const n=this.format,a=Vu[n],s=this.width;if(!n||s<=0||!a)return-1;const i=this.height,u=this.depthOrArrayLayers,h=this.dimension;return s/a.blockWidth*(h==="1d"?1:i/a.blockHeight)*a.bytesPerBlock*u}getPixel(n,a,s=0,i=0){const u=this.texelByteSize,h=this.bytesPerRow,f=this.height,m=this.data[i];return eb(new Uint8Array(m),n,a,s,i,f,h,u,this.format)}setPixel(n,a,s,i,u){const h=this.texelByteSize,f=this.bytesPerRow,m=this.height,p=this.data[i];(function(g,y,k,O,j,F,K,ae,se,Y){const $=O*(K>>=j)*(F>>=j)+k*K+y*ae;switch(se){case"r8unorm":return void Te(g,$,"8unorm",1,Y);case"r8snorm":return void Te(g,$,"8snorm",1,Y);case"r8uint":return void Te(g,$,"8uint",1,Y);case"r8sint":return void Te(g,$,"8sint",1,Y);case"rg8unorm":return void Te(g,$,"8unorm",2,Y);case"rg8snorm":return void Te(g,$,"8snorm",2,Y);case"rg8uint":return void Te(g,$,"8uint",2,Y);case"rg8sint":return void Te(g,$,"8sint",2,Y);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void Te(g,$,"8unorm",4,Y);case"rgba8snorm":return void Te(g,$,"8snorm",4,Y);case"rgba8uint":return void Te(g,$,"8uint",4,Y);case"rgba8sint":return void Te(g,$,"8sint",4,Y);case"r16uint":return void Te(g,$,"16uint",1,Y);case"r16sint":return void Te(g,$,"16sint",1,Y);case"r16float":return void Te(g,$,"16float",1,Y);case"rg16uint":return void Te(g,$,"16uint",2,Y);case"rg16sint":return void Te(g,$,"16sint",2,Y);case"rg16float":return void Te(g,$,"16float",2,Y);case"rgba16uint":return void Te(g,$,"16uint",4,Y);case"rgba16sint":return void Te(g,$,"16sint",4,Y);case"rgba16float":return void Te(g,$,"16float",4,Y);case"r32uint":return void Te(g,$,"32uint",1,Y);case"r32sint":return void Te(g,$,"32sint",1,Y);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void Te(g,$,"32float",1,Y);case"rg32uint":return void Te(g,$,"32uint",2,Y);case"rg32sint":return void Te(g,$,"32sint",2,Y);case"rg32float":return void Te(g,$,"32float",2,Y);case"rgba32uint":return void Te(g,$,"32uint",4,Y);case"rgba32sint":return void Te(g,$,"32sint",4,Y);case"rgba32float":return void Te(g,$,"32float",4,Y);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(p),n,a,s,i,m,f,h,this.format,u)}}(d=>{d[d.token=0]="token",d[d.keyword=1]="keyword",d[d.reserved=2]="reserved"})(E||(E={}));class D{constructor(n,a,s){this.name=n,this.type=a,this.rule=s}toString(){return this.name}}class v{}M=v,v.none=new D("",E.reserved,""),v.eof=new D("EOF",E.token,""),v.reserved={asm:new D("asm",E.reserved,"asm"),bf16:new D("bf16",E.reserved,"bf16"),do:new D("do",E.reserved,"do"),enum:new D("enum",E.reserved,"enum"),f16:new D("f16",E.reserved,"f16"),f64:new D("f64",E.reserved,"f64"),handle:new D("handle",E.reserved,"handle"),i8:new D("i8",E.reserved,"i8"),i16:new D("i16",E.reserved,"i16"),i64:new D("i64",E.reserved,"i64"),mat:new D("mat",E.reserved,"mat"),premerge:new D("premerge",E.reserved,"premerge"),regardless:new D("regardless",E.reserved,"regardless"),typedef:new D("typedef",E.reserved,"typedef"),u8:new D("u8",E.reserved,"u8"),u16:new D("u16",E.reserved,"u16"),u64:new D("u64",E.reserved,"u64"),unless:new D("unless",E.reserved,"unless"),using:new D("using",E.reserved,"using"),vec:new D("vec",E.reserved,"vec"),void:new D("void",E.reserved,"void")},v.keywords={array:new D("array",E.keyword,"array"),atomic:new D("atomic",E.keyword,"atomic"),bool:new D("bool",E.keyword,"bool"),f32:new D("f32",E.keyword,"f32"),i32:new D("i32",E.keyword,"i32"),mat2x2:new D("mat2x2",E.keyword,"mat2x2"),mat2x3:new D("mat2x3",E.keyword,"mat2x3"),mat2x4:new D("mat2x4",E.keyword,"mat2x4"),mat3x2:new D("mat3x2",E.keyword,"mat3x2"),mat3x3:new D("mat3x3",E.keyword,"mat3x3"),mat3x4:new D("mat3x4",E.keyword,"mat3x4"),mat4x2:new D("mat4x2",E.keyword,"mat4x2"),mat4x3:new D("mat4x3",E.keyword,"mat4x3"),mat4x4:new D("mat4x4",E.keyword,"mat4x4"),ptr:new D("ptr",E.keyword,"ptr"),sampler:new D("sampler",E.keyword,"sampler"),sampler_comparison:new D("sampler_comparison",E.keyword,"sampler_comparison"),struct:new D("struct",E.keyword,"struct"),texture_1d:new D("texture_1d",E.keyword,"texture_1d"),texture_2d:new D("texture_2d",E.keyword,"texture_2d"),texture_2d_array:new D("texture_2d_array",E.keyword,"texture_2d_array"),texture_3d:new D("texture_3d",E.keyword,"texture_3d"),texture_cube:new D("texture_cube",E.keyword,"texture_cube"),texture_cube_array:new D("texture_cube_array",E.keyword,"texture_cube_array"),texture_multisampled_2d:new D("texture_multisampled_2d",E.keyword,"texture_multisampled_2d"),texture_storage_1d:new D("texture_storage_1d",E.keyword,"texture_storage_1d"),texture_storage_2d:new D("texture_storage_2d",E.keyword,"texture_storage_2d"),texture_storage_2d_array:new D("texture_storage_2d_array",E.keyword,"texture_storage_2d_array"),texture_storage_3d:new D("texture_storage_3d",E.keyword,"texture_storage_3d"),texture_depth_2d:new D("texture_depth_2d",E.keyword,"texture_depth_2d"),texture_depth_2d_array:new D("texture_depth_2d_array",E.keyword,"texture_depth_2d_array"),texture_depth_cube:new D("texture_depth_cube",E.keyword,"texture_depth_cube"),texture_depth_cube_array:new D("texture_depth_cube_array",E.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new D("texture_depth_multisampled_2d",E.keyword,"texture_depth_multisampled_2d"),texture_external:new D("texture_external",E.keyword,"texture_external"),u32:new D("u32",E.keyword,"u32"),vec2:new D("vec2",E.keyword,"vec2"),vec3:new D("vec3",E.keyword,"vec3"),vec4:new D("vec4",E.keyword,"vec4"),bitcast:new D("bitcast",E.keyword,"bitcast"),block:new D("block",E.keyword,"block"),break:new D("break",E.keyword,"break"),case:new D("case",E.keyword,"case"),continue:new D("continue",E.keyword,"continue"),continuing:new D("continuing",E.keyword,"continuing"),default:new D("default",E.keyword,"default"),diagnostic:new D("diagnostic",E.keyword,"diagnostic"),discard:new D("discard",E.keyword,"discard"),else:new D("else",E.keyword,"else"),enable:new D("enable",E.keyword,"enable"),fallthrough:new D("fallthrough",E.keyword,"fallthrough"),false:new D("false",E.keyword,"false"),fn:new D("fn",E.keyword,"fn"),for:new D("for",E.keyword,"for"),function:new D("function",E.keyword,"function"),if:new D("if",E.keyword,"if"),let:new D("let",E.keyword,"let"),const:new D("const",E.keyword,"const"),loop:new D("loop",E.keyword,"loop"),while:new D("while",E.keyword,"while"),private:new D("private",E.keyword,"private"),read:new D("read",E.keyword,"read"),read_write:new D("read_write",E.keyword,"read_write"),return:new D("return",E.keyword,"return"),requires:new D("requires",E.keyword,"requires"),storage:new D("storage",E.keyword,"storage"),switch:new D("switch",E.keyword,"switch"),true:new D("true",E.keyword,"true"),alias:new D("alias",E.keyword,"alias"),type:new D("type",E.keyword,"type"),uniform:new D("uniform",E.keyword,"uniform"),var:new D("var",E.keyword,"var"),override:new D("override",E.keyword,"override"),workgroup:new D("workgroup",E.keyword,"workgroup"),write:new D("write",E.keyword,"write"),r8unorm:new D("r8unorm",E.keyword,"r8unorm"),r8snorm:new D("r8snorm",E.keyword,"r8snorm"),r8uint:new D("r8uint",E.keyword,"r8uint"),r8sint:new D("r8sint",E.keyword,"r8sint"),r16uint:new D("r16uint",E.keyword,"r16uint"),r16sint:new D("r16sint",E.keyword,"r16sint"),r16float:new D("r16float",E.keyword,"r16float"),rg8unorm:new D("rg8unorm",E.keyword,"rg8unorm"),rg8snorm:new D("rg8snorm",E.keyword,"rg8snorm"),rg8uint:new D("rg8uint",E.keyword,"rg8uint"),rg8sint:new D("rg8sint",E.keyword,"rg8sint"),r32uint:new D("r32uint",E.keyword,"r32uint"),r32sint:new D("r32sint",E.keyword,"r32sint"),r32float:new D("r32float",E.keyword,"r32float"),rg16uint:new D("rg16uint",E.keyword,"rg16uint"),rg16sint:new D("rg16sint",E.keyword,"rg16sint"),rg16float:new D("rg16float",E.keyword,"rg16float"),rgba8unorm:new D("rgba8unorm",E.keyword,"rgba8unorm"),rgba8unorm_srgb:new D("rgba8unorm_srgb",E.keyword,"rgba8unorm_srgb"),rgba8snorm:new D("rgba8snorm",E.keyword,"rgba8snorm"),rgba8uint:new D("rgba8uint",E.keyword,"rgba8uint"),rgba8sint:new D("rgba8sint",E.keyword,"rgba8sint"),bgra8unorm:new D("bgra8unorm",E.keyword,"bgra8unorm"),bgra8unorm_srgb:new D("bgra8unorm_srgb",E.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new D("rgb10a2unorm",E.keyword,"rgb10a2unorm"),rg11b10float:new D("rg11b10float",E.keyword,"rg11b10float"),rg32uint:new D("rg32uint",E.keyword,"rg32uint"),rg32sint:new D("rg32sint",E.keyword,"rg32sint"),rg32float:new D("rg32float",E.keyword,"rg32float"),rgba16uint:new D("rgba16uint",E.keyword,"rgba16uint"),rgba16sint:new D("rgba16sint",E.keyword,"rgba16sint"),rgba16float:new D("rgba16float",E.keyword,"rgba16float"),rgba32uint:new D("rgba32uint",E.keyword,"rgba32uint"),rgba32sint:new D("rgba32sint",E.keyword,"rgba32sint"),rgba32float:new D("rgba32float",E.keyword,"rgba32float"),static_assert:new D("static_assert",E.keyword,"static_assert")},v.tokens={decimal_float_literal:new D("decimal_float_literal",E.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new D("hex_float_literal",E.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new D("int_literal",E.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new D("uint_literal",E.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new D("name",E.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new D("ident",E.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new D("and",E.token,"&"),and_and:new D("and_and",E.token,"&&"),arrow:new D("arrow ",E.token,"->"),attr:new D("attr",E.token,"@"),forward_slash:new D("forward_slash",E.token,"/"),bang:new D("bang",E.token,"!"),bracket_left:new D("bracket_left",E.token,"["),bracket_right:new D("bracket_right",E.token,"]"),brace_left:new D("brace_left",E.token,"{"),brace_right:new D("brace_right",E.token,"}"),colon:new D("colon",E.token,":"),comma:new D("comma",E.token,","),equal:new D("equal",E.token,"="),equal_equal:new D("equal_equal",E.token,"=="),not_equal:new D("not_equal",E.token,"!="),greater_than:new D("greater_than",E.token,">"),greater_than_equal:new D("greater_than_equal",E.token,">="),shift_right:new D("shift_right",E.token,">>"),less_than:new D("less_than",E.token,"<"),less_than_equal:new D("less_than_equal",E.token,"<="),shift_left:new D("shift_left",E.token,"<<"),modulo:new D("modulo",E.token,"%"),minus:new D("minus",E.token,"-"),minus_minus:new D("minus_minus",E.token,"--"),period:new D("period",E.token,"."),plus:new D("plus",E.token,"+"),plus_plus:new D("plus_plus",E.token,"++"),or:new D("or",E.token,"|"),or_or:new D("or_or",E.token,"||"),paren_left:new D("paren_left",E.token,"("),paren_right:new D("paren_right",E.token,")"),semicolon:new D("semicolon",E.token,";"),star:new D("star",E.token,"*"),tilde:new D("tilde",E.token,"~"),underscore:new D("underscore",E.token,"_"),xor:new D("xor",E.token,"^"),plus_equal:new D("plus_equal",E.token,"+="),minus_equal:new D("minus_equal",E.token,"-="),times_equal:new D("times_equal",E.token,"*="),division_equal:new D("division_equal",E.token,"/="),modulo_equal:new D("modulo_equal",E.token,"%="),and_equal:new D("and_equal",E.token,"&="),or_equal:new D("or_equal",E.token,"|="),xor_equal:new D("xor_equal",E.token,"^="),shift_right_equal:new D("shift_right_equal",E.token,">>="),shift_left_equal:new D("shift_left_equal",E.token,"<<=")},v.simpleTokens={"@":M.tokens.attr,"{":M.tokens.brace_left,"}":M.tokens.brace_right,":":M.tokens.colon,",":M.tokens.comma,"(":M.tokens.paren_left,")":M.tokens.paren_right,";":M.tokens.semicolon},v.literalTokens={"&":M.tokens.and,"&&":M.tokens.and_and,"->":M.tokens.arrow,"/":M.tokens.forward_slash,"!":M.tokens.bang,"[":M.tokens.bracket_left,"]":M.tokens.bracket_right,"=":M.tokens.equal,"==":M.tokens.equal_equal,"!=":M.tokens.not_equal,">":M.tokens.greater_than,">=":M.tokens.greater_than_equal,">>":M.tokens.shift_right,"<":M.tokens.less_than,"<=":M.tokens.less_than_equal,"<<":M.tokens.shift_left,"%":M.tokens.modulo,"-":M.tokens.minus,"--":M.tokens.minus_minus,".":M.tokens.period,"+":M.tokens.plus,"++":M.tokens.plus_plus,"|":M.tokens.or,"||":M.tokens.or_or,"*":M.tokens.star,"~":M.tokens.tilde,_:M.tokens.underscore,"^":M.tokens.xor,"+=":M.tokens.plus_equal,"-=":M.tokens.minus_equal,"*=":M.tokens.times_equal,"/=":M.tokens.division_equal,"%=":M.tokens.modulo_equal,"&=":M.tokens.and_equal,"|=":M.tokens.or_equal,"^=":M.tokens.xor_equal,">>=":M.tokens.shift_right_equal,"<<=":M.tokens.shift_left_equal},v.regexTokens={decimal_float_literal:M.tokens.decimal_float_literal,hex_float_literal:M.tokens.hex_float_literal,int_literal:M.tokens.int_literal,uint_literal:M.tokens.uint_literal,ident:M.tokens.ident},v.storage_class=[M.keywords.function,M.keywords.private,M.keywords.workgroup,M.keywords.uniform,M.keywords.storage],v.access_mode=[M.keywords.read,M.keywords.write,M.keywords.read_write],v.sampler_type=[M.keywords.sampler,M.keywords.sampler_comparison],v.sampled_texture_type=[M.keywords.texture_1d,M.keywords.texture_2d,M.keywords.texture_2d_array,M.keywords.texture_3d,M.keywords.texture_cube,M.keywords.texture_cube_array],v.multisampled_texture_type=[M.keywords.texture_multisampled_2d],v.storage_texture_type=[M.keywords.texture_storage_1d,M.keywords.texture_storage_2d,M.keywords.texture_storage_2d_array,M.keywords.texture_storage_3d],v.depth_texture_type=[M.keywords.texture_depth_2d,M.keywords.texture_depth_2d_array,M.keywords.texture_depth_cube,M.keywords.texture_depth_cube_array,M.keywords.texture_depth_multisampled_2d],v.texture_external_type=[M.keywords.texture_external],v.any_texture_type=[...M.sampled_texture_type,...M.multisampled_texture_type,...M.storage_texture_type,...M.depth_texture_type,...M.texture_external_type],v.texel_format=[M.keywords.r8unorm,M.keywords.r8snorm,M.keywords.r8uint,M.keywords.r8sint,M.keywords.r16uint,M.keywords.r16sint,M.keywords.r16float,M.keywords.rg8unorm,M.keywords.rg8snorm,M.keywords.rg8uint,M.keywords.rg8sint,M.keywords.r32uint,M.keywords.r32sint,M.keywords.r32float,M.keywords.rg16uint,M.keywords.rg16sint,M.keywords.rg16float,M.keywords.rgba8unorm,M.keywords.rgba8unorm_srgb,M.keywords.rgba8snorm,M.keywords.rgba8uint,M.keywords.rgba8sint,M.keywords.bgra8unorm,M.keywords.bgra8unorm_srgb,M.keywords.rgb10a2unorm,M.keywords.rg11b10float,M.keywords.rg32uint,M.keywords.rg32sint,M.keywords.rg32float,M.keywords.rgba16uint,M.keywords.rgba16sint,M.keywords.rgba16float,M.keywords.rgba32uint,M.keywords.rgba32sint,M.keywords.rgba32float],v.const_literal=[M.tokens.int_literal,M.tokens.uint_literal,M.tokens.decimal_float_literal,M.tokens.hex_float_literal,M.keywords.true,M.keywords.false],v.literal_or_ident=[M.tokens.ident,M.tokens.int_literal,M.tokens.uint_literal,M.tokens.decimal_float_literal,M.tokens.hex_float_literal,M.tokens.name],v.element_count_expression=[M.tokens.int_literal,M.tokens.uint_literal,M.tokens.ident],v.template_types=[M.keywords.vec2,M.keywords.vec3,M.keywords.vec4,M.keywords.mat2x2,M.keywords.mat2x3,M.keywords.mat2x4,M.keywords.mat3x2,M.keywords.mat3x3,M.keywords.mat3x4,M.keywords.mat4x2,M.keywords.mat4x3,M.keywords.mat4x4,M.keywords.atomic,M.keywords.bitcast,...M.any_texture_type],v.attribute_name=[M.tokens.ident,M.keywords.block,M.keywords.diagnostic],v.assignment_operators=[M.tokens.equal,M.tokens.plus_equal,M.tokens.minus_equal,M.tokens.times_equal,M.tokens.division_equal,M.tokens.modulo_equal,M.tokens.and_equal,M.tokens.or_equal,M.tokens.xor_equal,M.tokens.shift_right_equal,M.tokens.shift_left_equal],v.increment_operators=[M.tokens.plus_plus,M.tokens.minus_minus];class Lm{constructor(n,a,s,i,u){this.type=n,this.lexeme=a,this.line=s,this.start=i,this.end=u}toString(){return this.lexeme}isTemplateType(){return v.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==v.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class ib{constructor(n){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=n??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new Lm(v.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let n=this._advance();if(n==`
`)return this._line++,!0;if(this._isWhitespace(n))return!0;if(n=="/"){if(this._peekAhead()=="/"){for(;n!=`
`;){if(this._isAtEnd())return!0;n=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let h=1;for(;h>0;){if(this._isAtEnd())return!0;if(n=this._advance(),n==`
`)this._line++;else if(n=="*"){if(this._peekAhead()=="/"&&(this._advance(),h--,h==0))return!0}else n=="/"&&this._peekAhead()=="*"&&(this._advance(),h++)}return!0}}const a=v.simpleTokens[n];if(a)return this._addToken(a),!0;let s=v.none;const i=this._isAlpha(n),u=n==="_";if(this._isAlphaNumeric(n)){let h=this._peekAhead();for(;this._isAlphaNumeric(h);)n+=this._advance(),h=this._peekAhead()}if(i){const h=v.keywords[n];if(h)return this._addToken(h),!0}if(i||u)return this._addToken(v.tokens.ident),!0;for(;;){let h=this._findType(n);const f=this._peekAhead();if(n=="-"&&this._tokens.length>0){if(f=="=")return this._current++,n+=f,this._addToken(v.tokens.minus_equal),!0;if(f=="-")return this._current++,n+=f,this._addToken(v.tokens.minus_minus),!0;const m=this._tokens.length-1;if((v.literal_or_ident.indexOf(this._tokens[m].type)!=-1||this._tokens[m].type==v.tokens.paren_right)&&f!=">")return this._addToken(h),!0}if(n==">"&&(f==">"||f=="=")){let m=!1,p=this._tokens.length-1;for(let g=0;g<5&&p>=0&&v.assignment_operators.indexOf(this._tokens[p].type)===-1;++g,--p)if(this._tokens[p].type===v.tokens.less_than){p>0&&this._tokens[p-1].isArrayOrTemplateType()&&(m=!0);break}if(m)return this._addToken(h),!0}if(h===v.none){let m=n,p=0;const g=2;for(let y=0;y<g;++y)if(m+=this._peekAhead(y),h=this._findType(m),h!==v.none){p=y;break}if(h===v.none)return s!==v.none&&(this._current--,this._addToken(s),!0);n=m,this._current+=p+1}if(s=h,this._isAtEnd())break;n+=this._advance()}return s!==v.none&&(this._addToken(s),!0)}_findType(n){for(const s in v.regexTokens){const i=v.regexTokens[s];if(this._match(n,i.rule))return i}return v.literalTokens[n]||v.none}_match(n,a){const s=a.exec(n);return s&&s.index==0&&s[0]==n}_isAtEnd(){return this._current>=this._source.length}_isAlpha(n){return!this._isNumeric(n)&&!this._isWhitespace(n)&&n!=="_"&&n!=="."&&n!=="("&&n!==")"&&n!=="["&&n!=="]"&&n!=="{"&&n!=="}"&&n!==","&&n!==";"&&n!==":"&&n!=="="&&n!=="!"&&n!=="<"&&n!==">"&&n!=="+"&&n!=="-"&&n!=="*"&&n!=="/"&&n!=="%"&&n!=="&"&&n!=="|"&&n!=="^"&&n!=="~"&&n!=="@"&&n!=="#"&&n!=="?"&&n!=="'"&&n!=="`"&&n!=='"'&&n!=="\\"&&n!==`
`&&n!=="\r"&&n!=="	"&&n!=="\0"}_isNumeric(n){return n>="0"&&n<="9"}_isAlphaNumeric(n){return this._isAlpha(n)||this._isNumeric(n)||n==="_"}_isWhitespace(n){return n==" "||n=="	"||n=="\r"}_advance(n=0){let a=this._source[this._current];return n=n||0,n++,this._current+=n,a}_peekAhead(n=0){return n=n||0,this._current+n>=this._source.length?"\0":this._source[this._current+n]}_addToken(n){const a=this._source.substring(this._start,this._current);this._tokens.push(new Lm(n,a,this._line,this._start,this._current))}}function X(d){return Array.isArray(d)||d?.buffer instanceof ArrayBuffer}const li=new Float32Array(1),ob=new Uint32Array(li.buffer),ub=new Uint32Array(li.buffer),ii=new Int32Array(1),cb=new Float32Array(ii.buffer),fb=new Uint32Array(ii.buffer),oi=new Uint32Array(1),hb=new Float32Array(oi.buffer),db=new Int32Array(oi.buffer);function Vm(d,n,a){if(n===a)return d;if(n==="f32"){if(a==="i32"||a==="x32")return li[0]=d,ob[0];if(a==="u32")return li[0]=d,ub[0]}else if(n==="i32"||n==="x32"){if(a==="f32")return ii[0]=d,cb[0];if(a==="u32")return ii[0]=d,fb[0]}else if(n==="u32"){if(a==="f32")return oi[0]=d,hb[0];if(a==="i32"||a==="x32")return oi[0]=d,db[0]}return console.error(`Unsupported cast from ${n} to ${a}`),d}class mb{constructor(n){this.resources=null,this.inUse=!1,this.info=null,this.node=n}}class Jl{constructor(n,a){this.align=n,this.size=a}}class fn{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new Fy,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(n){return n.name=="texture_storage_1d"||n.name=="texture_storage_2d"||n.name=="texture_storage_2d_array"||n.name=="texture_storage_3d"}updateAST(n){for(const a of n)a instanceof Ds&&this._functions.set(a.name,new mb(a));for(const a of n)if(a instanceof Mn){const s=this.getTypeInfo(a,null);s instanceof ia&&this.structs.push(s)}for(const a of n)if(a instanceof sc)this.aliases.push(this._getAliasInfo(a));else if(a instanceof ac){const s=a,i=this._getAttributeNum(s.attributes,"id",0),u=s.type!=null?this.getTypeInfo(s.type,s.attributes):null;this.overrides.push(new $y(s.name,u,s.attributes,i))}else if(this._isUniformVar(a)){const s=a,i=this._getAttributeNum(s.attributes,"group",0),u=this._getAttributeNum(s.attributes,"binding",0),h=this.getTypeInfo(s.type,s.attributes),f=new Kl(s.name,h,i,u,s.attributes,at.Uniform,s.access);f.access||(f.access="read"),this.uniforms.push(f)}else if(this._isStorageVar(a)){const s=a,i=this._getAttributeNum(s.attributes,"group",0),u=this._getAttributeNum(s.attributes,"binding",0),h=this.getTypeInfo(s.type,s.attributes),f=this._isStorageTexture(h),m=new Kl(s.name,h,i,u,s.attributes,f?at.StorageTexture:at.Storage,s.access);m.access||(m.access="read"),this.storage.push(m)}else if(this._isTextureVar(a)){const s=a,i=this._getAttributeNum(s.attributes,"group",0),u=this._getAttributeNum(s.attributes,"binding",0),h=this.getTypeInfo(s.type,s.attributes),f=this._isStorageTexture(h),m=new Kl(s.name,h,i,u,s.attributes,f?at.StorageTexture:at.Texture,s.access);m.access||(m.access="read"),f?this.storage.push(m):this.textures.push(m)}else if(this._isSamplerVar(a)){const s=a,i=this._getAttributeNum(s.attributes,"group",0),u=this._getAttributeNum(s.attributes,"binding",0),h=this.getTypeInfo(s.type,s.attributes),f=new Kl(s.name,h,i,u,s.attributes,at.Sampler,s.access);this.samplers.push(f)}for(const a of n)if(a instanceof Ds){const s=this._getAttribute(a,"vertex"),i=this._getAttribute(a,"fragment"),u=this._getAttribute(a,"compute"),h=s||i||u,f=new Jy(a.name,h?.name,a.attributes);f.attributes=a.attributes,f.startLine=a.startLine,f.endLine=a.endLine,this.functions.push(f),this._functions.get(a.name).info=f,h&&(this._functions.get(a.name).inUse=!0,f.inUse=!0,f.resources=this._findResources(a,!!h),f.inputs=this._getInputs(a.args),f.outputs=this._getOutputs(a.returnType),this.entry[h.name].push(f)),f.arguments=a.args.map((m=>new Ky(m.name,this.getTypeInfo(m.type,m.attributes),m.attributes))),f.returnType=a.returnType?this.getTypeInfo(a.returnType,a.attributes):null}for(const a of this._functions.values())a.info&&(a.info.inUse=a.inUse,this._addCalls(a.node,a.info.calls));for(const a of this._functions.values())a.node.search((s=>{var i,u,h;if(s instanceof Sp){if(s.value)if(X(s.value))for(const f of s.value)for(const m of this.overrides)f===m.name&&((i=a.info)===null||i===void 0||i.overrides.push(m));else for(const f of this.overrides)s.value===f.name&&((u=a.info)===null||u===void 0||u.overrides.push(f))}else if(s instanceof Ut)for(const f of this.overrides)s.name===f.name&&((h=a.info)===null||h===void 0||h.overrides.push(f))}));for(const a of this.uniforms)this._markStructsInUse(a.type);for(const a of this.storage)this._markStructsInUse(a.type)}getStructInfo(n){for(const a of this.structs)if(a.name==n)return a;return null}getOverrideInfo(n){for(const a of this.overrides)if(a.name==n)return a;return null}_markStructsInUse(n){if(n)if(n.isStruct){if(n.inUse=!0,n.members)for(const a of n.members)this._markStructsInUse(a.type)}else if(n.isArray)this._markStructsInUse(n.format);else if(n.isTemplate)n.format&&this._markStructsInUse(n.format);else{const a=this._getAlias(n.name);a&&this._markStructsInUse(a)}}_addCalls(n,a){var s;for(const i of n.calls){const u=(s=this._functions.get(i.name))===null||s===void 0?void 0:s.info;u&&a.add(u)}}findResource(n,a,s){if(s){for(const i of this.entry.compute)if(i.name===s){for(const u of i.resources)if(u.group==n&&u.binding==a)return u}for(const i of this.entry.vertex)if(i.name===s){for(const u of i.resources)if(u.group==n&&u.binding==a)return u}for(const i of this.entry.fragment)if(i.name===s){for(const u of i.resources)if(u.group==n&&u.binding==a)return u}}for(const i of this.uniforms)if(i.group==n&&i.binding==a)return i;for(const i of this.storage)if(i.group==n&&i.binding==a)return i;for(const i of this.textures)if(i.group==n&&i.binding==a)return i;for(const i of this.samplers)if(i.group==n&&i.binding==a)return i;return null}_findResource(n){for(const a of this.uniforms)if(a.name==n)return a;for(const a of this.storage)if(a.name==n)return a;for(const a of this.textures)if(a.name==n)return a;for(const a of this.samplers)if(a.name==n)return a;return null}_markStructsFromAST(n){const a=this.getTypeInfo(n,null);this._markStructsInUse(a)}_findResources(n,a){const s=[],i=this,u=[];return n.search((h=>{if(h instanceof ri)u.push({});else if(h instanceof si)u.pop();else if(h instanceof Bn){const f=h;a&&f.type!==null&&this._markStructsFromAST(f.type),u.length>0&&(u[u.length-1][f.name]=f)}else if(h instanceof cn){const f=h;a&&f.type!==null&&this._markStructsFromAST(f.type)}else if(h instanceof As){const f=h;a&&f.type!==null&&this._markStructsFromAST(f.type),u.length>0&&(u[u.length-1][f.name]=f)}else if(h instanceof Ut){const f=h;if(u.length>0&&u[u.length-1][f.name])return;const m=i._findResource(f.name);m&&s.push(m)}else if(h instanceof lc){const f=h,m=i._functions.get(f.name);m&&(a&&(m.inUse=!0),n.calls.add(m.node),m.resources===null&&(m.resources=i._findResources(m.node,a)),s.push(...m.resources))}else if(h instanceof rc){const f=h,m=i._functions.get(f.name);m&&(a&&(m.inUse=!0),n.calls.add(m.node),m.resources===null&&(m.resources=i._findResources(m.node,a)),s.push(...m.resources))}})),[...new Map(s.map((h=>[h.name,h]))).values()]}getBindGroups(){const n=[];function a(s,i){s>=n.length&&(n.length=s+1),n[s]===void 0&&(n[s]=[]),i>=n[s].length&&(n[s].length=i+1)}for(const s of this.uniforms)a(s.group,s.binding),n[s.group][s.binding]=s;for(const s of this.storage)a(s.group,s.binding),n[s.group][s.binding]=s;for(const s of this.textures)a(s.group,s.binding),n[s.group][s.binding]=s;for(const s of this.samplers)a(s.group,s.binding),n[s.group][s.binding]=s;return n}_getOutputs(n,a=void 0){if(a===void 0&&(a=[]),n instanceof Mn)this._getStructOutputs(n,a);else{const s=this._getOutputInfo(n);s!==null&&a.push(s)}return a}_getStructOutputs(n,a){for(const s of n.members)if(s.type instanceof Mn)this._getStructOutputs(s.type,a);else{const i=this._getAttribute(s,"location")||this._getAttribute(s,"builtin");if(i!==null){const u=this.getTypeInfo(s.type,s.type.attributes),h=this._parseInt(i.value),f=new Om(s.name,u,i.name,h);a.push(f)}}}_getOutputInfo(n){const a=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(a!==null){const s=this.getTypeInfo(n,n.attributes),i=this._parseInt(a.value);return new Om("",s,a.name,i)}return null}_getInputs(n,a=void 0){a===void 0&&(a=[]);for(const s of n)if(s.type instanceof Mn)this._getStructInputs(s.type,a);else{const i=this._getInputInfo(s);i!==null&&a.push(i)}return a}_getStructInputs(n,a){for(const s of n.members)if(s.type instanceof Mn)this._getStructInputs(s.type,a);else{const i=this._getInputInfo(s);i!==null&&a.push(i)}}_getInputInfo(n){const a=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(a!==null){const s=this._getAttribute(n,"interpolation"),i=this.getTypeInfo(n.type,n.attributes),u=this._parseInt(a.value),h=new Zy(n.name,i,a.name,u);return s!==null&&(h.interpolation=this._parseString(s.value)),h}return null}_parseString(n){return n instanceof Array&&(n=n[0]),n}_parseInt(n){n instanceof Array&&(n=n[0]);const a=parseInt(n);return isNaN(a)?n:a}_getAlias(n){for(const a of this.aliases)if(a.name==n)return a.type;return null}_getAliasInfo(n){return new Qy(n.name,this.getTypeInfo(n.type,null))}getTypeInfoByName(n){for(const a of this.structs)if(a.name==n)return a;for(const a of this.aliases)if(a.name==n)return a.type;return null}getTypeInfo(n,a=null){if(this._types.has(n))return this._types.get(n);if(n instanceof Pl){const i=n.type?this.getTypeInfo(n.type,n.attributes):null,u=new Ku(n.name,i,a);return this._types.set(n,u),this._updateTypeInfo(u),u}if(n instanceof Es){const i=n,u=i.format?this.getTypeInfo(i.format,i.attributes):null,h=new oa(i.name,a);return h.format=u,h.count=i.count,this._types.set(n,h),this._updateTypeInfo(h),h}if(n instanceof Mn){const i=n,u=new ia(i.name,a);u.startLine=i.startLine,u.endLine=i.endLine;for(const h of i.members){const f=this.getTypeInfo(h.type,h.attributes);u.members.push(new Mm(h.name,f,h.attributes))}return this._types.set(n,u),this._updateTypeInfo(u),u}if(n instanceof Ss){const i=n,u=i.format instanceof q,h=i.format?u?this.getTypeInfo(i.format,null):new Zt(i.format,null):null,f=new Ba(i.name,h,a,i.access);return this._types.set(n,f),this._updateTypeInfo(f),f}if(n instanceof z){const i=n,u=i.format?this.getTypeInfo(i.format,null):null,h=new Ba(i.name,u,a,i.access);return this._types.set(n,h),this._updateTypeInfo(h),h}const s=new Zt(n.name,a);return this._types.set(n,s),this._updateTypeInfo(s),s}_updateTypeInfo(n){var a,s,i;const u=this._getTypeSize(n);if(n.size=(a=u?.size)!==null&&a!==void 0?a:0,n instanceof oa&&n.format){const h=this._getTypeSize(n.format);n.stride=Math.max((s=h?.size)!==null&&s!==void 0?s:0,(i=h?.align)!==null&&i!==void 0?i:0),this._updateTypeInfo(n.format)}n instanceof Ku&&this._updateTypeInfo(n.format),n instanceof ia&&this._updateStructInfo(n)}_updateStructInfo(n){var a;let s=0,i=0,u=0,h=0;for(let f=0,m=n.members.length;f<m;++f){const p=n.members[f],g=this._getTypeSize(p);if(!g)continue;(a=this._getAlias(p.type.name))!==null&&a!==void 0||p.type;const y=g.align,k=g.size;s=this._roundUp(y,s+i),i=k,u=s,h=Math.max(h,y),p.offset=s,p.size=k,this._updateTypeInfo(p.type)}n.size=this._roundUp(h,u+i),n.align=h}_getTypeSize(n){var a,s;if(n==null)return null;const i=this._getAttributeNum(n.attributes,"size",0),u=this._getAttributeNum(n.attributes,"align",0);if(n instanceof Mm&&(n=n.type),n instanceof Zt){const h=this._getAlias(n.name);h!==null&&(n=h)}{const h=fn._typeInfo[n.name];if(h!==void 0){const f=((a=n.format)===null||a===void 0?void 0:a.name)==="f16"?2:1;return new Jl(Math.max(u,h.align/f),Math.max(i,h.size/f))}}{const h=fn._typeInfo[n.name.substring(0,n.name.length-1)];if(h){const f=n.name[n.name.length-1]==="h"?2:1;return new Jl(Math.max(u,h.align/f),Math.max(i,h.size/f))}}if(n instanceof oa){let h=n,f=8,m=8;const p=this._getTypeSize(h.format);return p!==null&&(m=p.size,f=p.align),m=h.count*this._getAttributeNum((s=n?.attributes)!==null&&s!==void 0?s:null,"stride",this._roundUp(f,m)),i&&(m=i),new Jl(Math.max(u,f),Math.max(i,m))}if(n instanceof ia){let h=0,f=0,m=0,p=0,g=0;for(const y of n.members){const k=this._getTypeSize(y.type);k!==null&&(h=Math.max(k.align,h),m=this._roundUp(k.align,m+p),p=k.size,g=m)}return f=this._roundUp(h,g+p),new Jl(Math.max(u,h),Math.max(i,f))}return null}_isUniformVar(n){return n instanceof Bn&&n.storage=="uniform"}_isStorageVar(n){return n instanceof Bn&&n.storage=="storage"}_isTextureVar(n){return n instanceof Bn&&n.type!==null&&fn._textureTypes.indexOf(n.type.name)!=-1}_isSamplerVar(n){return n instanceof Bn&&n.type!==null&&fn._samplerTypes.indexOf(n.type.name)!=-1}_getAttribute(n,a){const s=n;if(!s||!s.attributes)return null;const i=s.attributes;for(let u of i)if(u.name==a)return u;return null}_getAttributeNum(n,a,s){if(n===null)return s;for(let i of n)if(i.name==a){let u=i!==null&&i.value!==null?i.value:s;return u instanceof Array&&(u=u[0]),typeof u=="number"?u:typeof u=="string"?parseInt(u):s}return s}_roundUp(n,a){return Math.ceil(a/n)*n}}fn._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},fn._textureTypes=v.any_texture_type.map((d=>d.name)),fn._samplerTypes=v.sampler_type.map((d=>d.name));let ic=0;class oc{constructor(n,a,s){this.id=ic++,this.name=n,this.value=a,this.node=s}clone(){return new oc(this.name,this.value,this.node)}}class uc{constructor(n){this.id=ic++,this.name=n.name,this.node=n}clone(){return new uc(this.node)}}class cc{constructor(n){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=ic++,n&&(this.parent=n,this.currentFunctionName=n.currentFunctionName)}getVariable(n){var a;return this.variables.has(n)?(a=this.variables.get(n))!==null&&a!==void 0?a:null:this.parent?this.parent.getVariable(n):null}getFunction(n){var a;return this.functions.has(n)?(a=this.functions.get(n))!==null&&a!==void 0?a:null:this.parent?this.parent.getFunction(n):null}createVariable(n,a,s){this.variables.set(n,new oc(n,a,s??null))}setVariable(n,a,s){const i=this.getVariable(n);i!==null?i.value=a:this.createVariable(n,a,s)}getVariableValue(n){var a;const s=this.getVariable(n);return(a=s?.value)!==null&&a!==void 0?a:null}clone(){return new cc(this)}}class pb{evalExpression(n,a){return null}getTypeInfo(n){return null}getVariableName(n,a){return""}}class gb{constructor(n){this.exec=n}getTypeInfo(n){return this.exec.getTypeInfo(n)}All(n,a){const s=this.exec.evalExpression(n.args[0],a);let i=!0;if(s instanceof x)return s.data.forEach((u=>{u||(i=!1)})),new A(i?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${n.line}`)}Any(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x){const i=s.data.some((u=>u));return new A(i?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${n.line}`)}Select(n,a){const s=this.exec.evalExpression(n.args[2],a);if(!(s instanceof A))throw new Error(`Select() expects a bool condition. Line ${n.line}`);return s.value?this.exec.evalExpression(n.args[1],a):this.exec.evalExpression(n.args[0],a)}ArrayLength(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.evalExpression(s,a);if(i instanceof je&&i.typeInfo.size===0){const u=i.typeInfo,h=i.buffer.byteLength/u.stride;return new A(h,this.getTypeInfo("u32"))}return new A(i.typeInfo.size,this.getTypeInfo("u32"))}Abs(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.abs(u))),s.typeInfo);const i=s;return new A(Math.abs(i.value),i.typeInfo)}Acos(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.acos(u))),s.typeInfo);const i=s;return new A(Math.acos(i.value),s.typeInfo)}Acosh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.acosh(u))),s.typeInfo);const i=s;return new A(Math.acosh(i.value),s.typeInfo)}Asin(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.asin(u))),s.typeInfo);const i=s;return new A(Math.asin(i.value),s.typeInfo)}Asinh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.asinh(u))),s.typeInfo);const i=s;return new A(Math.asinh(i.value),s.typeInfo)}Atan(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.atan(u))),s.typeInfo);const i=s;return new A(Math.atan(i.value),s.typeInfo)}Atanh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.atanh(u))),s.typeInfo);const i=s;return new A(Math.atanh(i.value),s.typeInfo)}Atan2(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x)return new x(s.data.map(((f,m)=>Math.atan2(f,i.data[m]))),s.typeInfo);const u=s,h=i;return new A(Math.atan2(u.value,h.value),s.typeInfo)}Ceil(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.ceil(u))),s.typeInfo);const i=s;return new A(Math.ceil(i.value),s.typeInfo)}_clamp(n,a,s){return Math.min(Math.max(n,a),s)}Clamp(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(s instanceof x&&i instanceof x&&u instanceof x)return new x(s.data.map(((p,g)=>this._clamp(p,i.data[g],u.data[g]))),s.typeInfo);const h=s,f=i,m=u;return new A(this._clamp(h.value,f.value,m.value),s.typeInfo)}Cos(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.cos(u))),s.typeInfo);const i=s;return new A(Math.cos(i.value),s.typeInfo)}Cosh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.cosh(u))),s.typeInfo);const i=s;return new A(Math.cos(i.value),s.typeInfo)}CountLeadingZeros(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.clz32(u))),s.typeInfo);const i=s;return new A(Math.clz32(i.value),s.typeInfo)}_countOneBits(n){let a=0;for(;n!==0;)1&n&&a++,n>>=1;return a}CountOneBits(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>this._countOneBits(u))),s.typeInfo);const i=s;return new A(this._countOneBits(i.value),s.typeInfo)}_countTrailingZeros(n){if(n===0)return 32;let a=0;for(;!(1&n);)n>>=1,a++;return a}CountTrailingZeros(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>this._countTrailingZeros(u))),s.typeInfo);const i=s;return new A(this._countTrailingZeros(i.value),s.typeInfo)}Cross(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x){if(s.data.length!==3||i.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${n.line}`),null;const u=s.data,h=i.data;return new x([u[1]*h[2]-h[1]*u[2],u[2]*h[0]-h[2]*u[0],u[0]*h[1]-h[0]*u[1]],s.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${n.line}`),null}Degrees(n,a){const s=this.exec.evalExpression(n.args[0],a),i=180/Math.PI;return s instanceof x?new x(s.data.map((u=>u*i)),s.typeInfo):new A(s.value*i,this.getTypeInfo("f32"))}Determinant(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof ne){const i=s.data,u=s.typeInfo.getTypeName(),h=u.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(u==="mat2x2"||u==="mat2x2f"||u==="mat2x2h")return new A(i[0]*i[3]-i[1]*i[2],h);if(u==="mat2x3"||u==="mat2x3f"||u==="mat2x3h")return new A(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),h);if(u==="mat2x4"||u==="mat2x4f"||u==="mat2x4h")console.error(`TODO: Determinant for ${u}`);else if(u==="mat3x2"||u==="mat3x2f"||u==="mat3x2h")console.error(`TODO: Determinant for ${u}`);else{if(u==="mat3x3"||u==="mat3x3f"||u==="mat3x3h")return new A(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),h);u==="mat3x4"||u==="mat3x4f"||u==="mat3x4h"||u==="mat4x2"||u==="mat4x2f"||u==="mat4x2h"||u==="mat4x3"||u==="mat4x3f"||u==="mat4x3h"?console.error(`TODO: Determinant for ${u}`):u!=="mat4x4"&&u!=="mat4x4f"&&u!=="mat4x4h"||console.error(`TODO: Determinant for ${u}`)}}return console.error(`Determinant expects a matrix argument. Line ${n.line}`),null}Distance(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x){let f=0;for(let m=0;m<s.data.length;++m)f+=(s.data[m]-i.data[m])*(s.data[m]-i.data[m]);return new A(Math.sqrt(f),this.getTypeInfo("f32"))}const u=s,h=i;return new A(Math.abs(u.value-h.value),s.typeInfo)}_dot(n,a){let s=0;for(let i=0;i<n.length;++i)s+=a[i]*n[i];return s}Dot(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);return s instanceof x&&i instanceof x?new A(this._dot(s.data,i.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${n.line}`),null)}Dot4U8Packed(n,a){return console.error(`TODO: dot4U8Packed. Line ${n.line}`),null}Dot4I8Packed(n,a){return console.error(`TODO: dot4I8Packed. Line ${n.line}`),null}Exp(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.exp(u))),s.typeInfo);const i=s;return new A(Math.exp(i.value),s.typeInfo)}Exp2(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.pow(2,u))),s.typeInfo);const i=s;return new A(Math.pow(2,i.value),s.typeInfo)}ExtractBits(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(i.typeInfo.name!=="u32"&&i.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${n.line}`),null;if(u.typeInfo.name!=="u32"&&u.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${n.line}`),null;const h=i.value,f=u.value;if(s instanceof x)return new x(s.data.map((p=>p>>h&(1<<f)-1)),s.typeInfo);if(s.typeInfo.name!=="i32"&&s.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${n.line}`),null;const m=s.value;return new A(m>>h&(1<<f)-1,this.getTypeInfo("i32"))}FaceForward(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(s instanceof x&&i instanceof x&&u instanceof x){const h=this._dot(i.data,u.data);return new x(h<0?Array.from(s.data):s.data.map((f=>-f)),s.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${n.line}`),null}_firstLeadingBit(n){return n===0?-1:31-Math.clz32(n)}FirstLeadingBit(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>this._firstLeadingBit(u))),s.typeInfo);const i=s;return new A(this._firstLeadingBit(i.value),s.typeInfo)}_firstTrailingBit(n){return n===0?-1:Math.log2(n&-n)}FirstTrailingBit(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>this._firstTrailingBit(u))),s.typeInfo);const i=s;return new A(this._firstTrailingBit(i.value),s.typeInfo)}Floor(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.floor(u))),s.typeInfo);const i=s;return new A(Math.floor(i.value),s.typeInfo)}Fma(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(s instanceof x&&i instanceof x&&u instanceof x)return s.data.length!==i.data.length||s.data.length!==u.data.length?(console.error(`Fma() expects vectors of the same length. Line ${n.line}`),null):new x(s.data.map(((p,g)=>p*i.data[g]+u.data[g])),s.typeInfo);const h=s,f=i,m=u;return new A(h.value*f.value+m.value,h.typeInfo)}Fract(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>u-Math.floor(u))),s.typeInfo);const i=s;return new A(i.value-Math.floor(i.value),s.typeInfo)}Frexp(n,a){return console.error(`TODO: frexp. Line ${n.line}`),null}InsertBits(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a),h=this.exec.evalExpression(n.args[3],a);if(u.typeInfo.name!=="u32"&&u.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${n.line}`),null;const f=u.value,m=(1<<h.value)-1<<f,p=~m;if(s instanceof x&&i instanceof x)return new x(s.data.map(((k,O)=>k&p|i.data[O]<<f&m)),s.typeInfo);const g=s.value,y=i.value;return new A(g&p|y<<f&m,s.typeInfo)}InverseSqrt(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>1/Math.sqrt(u))),s.typeInfo);const i=s;return new A(1/Math.sqrt(i.value),s.typeInfo)}Ldexp(n,a){return console.error(`TODO: ldexp. Line ${n.line}`),null}Length(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x){let u=0;return s.data.forEach((h=>{u+=h*h})),new A(Math.sqrt(u),this.getTypeInfo("f32"))}const i=s;return new A(Math.abs(i.value),s.typeInfo)}Log(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.log(u))),s.typeInfo);const i=s;return new A(Math.log(i.value),s.typeInfo)}Log2(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.log2(u))),s.typeInfo);const i=s;return new A(Math.log2(i.value),s.typeInfo)}Max(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x)return new x(s.data.map(((f,m)=>Math.max(f,i.data[m]))),s.typeInfo);const u=s,h=i;return new A(Math.max(u.value,h.value),s.typeInfo)}Min(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x)return new x(s.data.map(((f,m)=>Math.min(f,i.data[m]))),s.typeInfo);const u=s,h=i;return new A(Math.min(u.value,h.value),s.typeInfo)}Mix(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(s instanceof x&&i instanceof x&&u instanceof x)return new x(s.data.map(((m,p)=>s.data[p]*(1-u.data[p])+i.data[p]*u.data[p])),s.typeInfo);const h=i,f=u;return new A(s.value*(1-f.value)+h.value*f.value,s.typeInfo)}Modf(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x)return new x(s.data.map(((h,f)=>h%i.data[f])),s.typeInfo);const u=i;return new A(s.value%u.value,s.typeInfo)}Normalize(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x){const i=this.Length(n,a).value;return new x(s.data.map((u=>u/i)),s.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${n.line}`),null}Pow(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x)return new x(s.data.map(((f,m)=>Math.pow(f,i.data[m]))),s.typeInfo);const u=s,h=i;return new A(Math.pow(u.value,h.value),s.typeInfo)}QuantizeToF16(n,a){const s=this.exec.evalExpression(n.args[0],a);return s instanceof x?new x(s.data.map((i=>i)),s.typeInfo):new A(s.value,s.typeInfo)}Radians(n,a){const s=this.exec.evalExpression(n.args[0],a);return s instanceof x?new x(s.data.map((i=>i*Math.PI/180)),s.typeInfo):new A(s.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(n,a){let s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(s instanceof x&&i instanceof x){const u=this._dot(s.data,i.data);return new x(s.data.map(((h,f)=>h-2*u*i.data[f])),s.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${n.line}`),null}Refract(n,a){let s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(s instanceof x&&i instanceof x&&u instanceof A){const h=this._dot(i.data,s.data);return new x(s.data.map(((f,m)=>{const p=1-u.value*u.value*(1-h*h);if(p<0)return 0;const g=Math.sqrt(p);return u.value*f-(u.value*h+g)*i.data[m]})),s.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${n.line}`),null}ReverseBits(n,a){return console.error(`TODO: reverseBits. Line ${n.line}`),null}Round(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.round(u))),s.typeInfo);const i=s;return new A(Math.round(i.value),s.typeInfo)}Saturate(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.min(Math.max(u,0),1))),s.typeInfo);const i=s;return new A(Math.min(Math.max(i.value,0),1),s.typeInfo)}Sign(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.sign(u))),s.typeInfo);const i=s;return new A(Math.sign(i.value),s.typeInfo)}Sin(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.sin(u))),s.typeInfo);const i=s;return new A(Math.sin(i.value),s.typeInfo)}Sinh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.sinh(u))),s.typeInfo);const i=s;return new A(Math.sinh(i.value),s.typeInfo)}_smoothstep(n,a,s){const i=Math.min(Math.max((s-n)/(a-n),0),1);return i*i*(3-2*i)}SmoothStep(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a),u=this.exec.evalExpression(n.args[2],a);if(u instanceof x&&s instanceof x&&i instanceof x)return new x(u.data.map(((p,g)=>this._smoothstep(s.data[g],i.data[g],p))),u.typeInfo);const h=s,f=i,m=u;return new A(this._smoothstep(h.value,f.value,m.value),u.typeInfo)}Sqrt(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.sqrt(u))),s.typeInfo);const i=s;return new A(Math.sqrt(i.value),s.typeInfo)}Step(n,a){const s=this.exec.evalExpression(n.args[0],a),i=this.exec.evalExpression(n.args[1],a);if(i instanceof x&&s instanceof x)return new x(i.data.map(((h,f)=>h<s.data[f]?0:1)),i.typeInfo);const u=s;return new A(i.value<u.value?0:1,u.typeInfo)}Tan(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.tan(u))),s.typeInfo);const i=s;return new A(Math.tan(i.value),s.typeInfo)}Tanh(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.tanh(u))),s.typeInfo);const i=s;return new A(Math.tanh(i.value),s.typeInfo)}_getTransposeType(n){const a=n.getTypeName();return a==="mat2x2f"||a==="mat2x2h"?n:a==="mat2x3f"?this.getTypeInfo("mat3x2f"):a==="mat2x3h"?this.getTypeInfo("mat3x2h"):a==="mat2x4f"?this.getTypeInfo("mat4x2f"):a==="mat2x4h"?this.getTypeInfo("mat4x2h"):a==="mat3x2f"?this.getTypeInfo("mat2x3f"):a==="mat3x2h"?this.getTypeInfo("mat2x3h"):a==="mat3x3f"||a==="mat3x3h"?n:a==="mat3x4f"?this.getTypeInfo("mat4x3f"):a==="mat3x4h"?this.getTypeInfo("mat4x3h"):a==="mat4x2f"?this.getTypeInfo("mat2x4f"):a==="mat4x2h"?this.getTypeInfo("mat2x4h"):a==="mat4x3f"?this.getTypeInfo("mat3x4f"):a==="mat4x3h"?this.getTypeInfo("mat3x4h"):(a==="mat4x4f"||a==="mat4x4h"||console.error(`Invalid matrix type ${a}`),n)}Transpose(n,a){const s=this.exec.evalExpression(n.args[0],a);if(!(s instanceof ne))return console.error(`Transpose() expects a matrix argument. Line ${n.line}`),null;const i=this._getTransposeType(s.typeInfo);if(s.typeInfo.name==="mat2x2"||s.typeInfo.name==="mat2x2f"||s.typeInfo.name==="mat2x2h"){const u=s.data;return new ne([u[0],u[2],u[1],u[3]],i)}if(s.typeInfo.name==="mat2x3"||s.typeInfo.name==="mat2x3f"||s.typeInfo.name==="mat2x3h"){const u=s.data;return new ne([u[0],u[3],u[6],u[1],u[4],u[7]],i)}if(s.typeInfo.name==="mat2x4"||s.typeInfo.name==="mat2x4f"||s.typeInfo.name==="mat2x4h"){const u=s.data;return new ne([u[0],u[4],u[8],u[12],u[1],u[5],u[9],u[13]],i)}if(s.typeInfo.name==="mat3x2"||s.typeInfo.name==="mat3x2f"||s.typeInfo.name==="mat3x2h"){const u=s.data;return new ne([u[0],u[3],u[1],u[4],u[2],u[5]],i)}if(s.typeInfo.name==="mat3x3"||s.typeInfo.name==="mat3x3f"||s.typeInfo.name==="mat3x3h"){const u=s.data;return new ne([u[0],u[3],u[6],u[1],u[4],u[7],u[2],u[5],u[8]],i)}if(s.typeInfo.name==="mat3x4"||s.typeInfo.name==="mat3x4f"||s.typeInfo.name==="mat3x4h"){const u=s.data;return new ne([u[0],u[4],u[8],u[12],u[1],u[5],u[9],u[13],u[2],u[6],u[10],u[14]],i)}if(s.typeInfo.name==="mat4x2"||s.typeInfo.name==="mat4x2f"||s.typeInfo.name==="mat4x2h"){const u=s.data;return new ne([u[0],u[4],u[1],u[5],u[2],u[6]],i)}if(s.typeInfo.name==="mat4x3"||s.typeInfo.name==="mat4x3f"||s.typeInfo.name==="mat4x3h"){const u=s.data;return new ne([u[0],u[4],u[8],u[1],u[5],u[9],u[2],u[6],u[10]],i)}if(s.typeInfo.name==="mat4x4"||s.typeInfo.name==="mat4x4f"||s.typeInfo.name==="mat4x4h"){const u=s.data;return new ne([u[0],u[4],u[8],u[12],u[1],u[5],u[9],u[13],u[2],u[6],u[10],u[14],u[3],u[7],u[11],u[15]],i)}return console.error(`Invalid matrix type ${s.typeInfo.name}`),null}Trunc(n,a){const s=this.exec.evalExpression(n.args[0],a);if(s instanceof x)return new x(s.data.map((u=>Math.trunc(u))),s.typeInfo);const i=s;return new A(Math.trunc(i.value),s.typeInfo)}Dpdx(n,a){return console.error(`TODO: dpdx. Line ${n.line}`),null}DpdxCoarse(n,a){return console.error(`TODO: dpdxCoarse. Line ${n.line}`),null}DpdxFine(n,a){return console.error("TODO: dpdxFine"),null}Dpdy(n,a){return console.error("TODO: dpdy"),null}DpdyCoarse(n,a){return console.error("TODO: dpdyCoarse"),null}DpdyFine(n,a){return console.error("TODO: dpdyFine"),null}Fwidth(n,a){return console.error("TODO: fwidth"),null}FwidthCoarse(n,a){return console.error("TODO: fwidthCoarse"),null}FwidthFine(n,a){return console.error("TODO: fwidthFine"),null}TextureDimensions(n,a){const s=n.args[0],i=n.args.length>1?this.exec.evalExpression(n.args[1],a).value:0;if(s instanceof Ut){const u=s.name,h=a.getVariableValue(u);if(h instanceof On){if(i<0||i>=h.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${n.line}`),null;const f=h.getMipLevelSize(i),m=h.dimension;return m==="1d"?new A(f[0],this.getTypeInfo("u32")):m==="3d"?new x(f,this.getTypeInfo("vec3u")):m==="2d"?new x(f.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${m} not found. Line ${n.line}`),null)}return console.error(`Texture ${u} not found. Line ${n.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${n.line}`),null}TextureGather(n,a){return console.error("TODO: textureGather"),null}TextureGatherCompare(n,a){return console.error("TODO: textureGatherCompare"),null}TextureLoad(n,a){const s=n.args[0],i=this.exec.evalExpression(n.args[1],a),u=n.args.length>2?this.exec.evalExpression(n.args[2],a).value:0;if(!(i instanceof x)||i.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${n.line}`),null;if(s instanceof Ut){const h=s.name,f=a.getVariableValue(h);if(f instanceof On){const m=Math.floor(i.data[0]),p=Math.floor(i.data[1]);if(m<0||m>=f.width||p<0||p>=f.height)return console.error(`Texture ${h} out of bounds. Line ${n.line}`),null;const g=f.getPixel(m,p,0,u);return g===null?(console.error(`Invalid texture format for textureLoad. Line ${n.line}`),null):new x(g,this.getTypeInfo("vec4f"))}return console.error(`Texture ${h} not found. Line ${n.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${n.line}`),null}TextureNumLayers(n,a){const s=n.args[0];if(s instanceof Ut){const i=s.name,u=a.getVariableValue(i);return u instanceof On?new A(u.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${n.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${n.line}`),null}TextureNumLevels(n,a){const s=n.args[0];if(s instanceof Ut){const i=s.name,u=a.getVariableValue(i);return u instanceof On?new A(u.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${n.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${n.line}`),null}TextureNumSamples(n,a){const s=n.args[0];if(s instanceof Ut){const i=s.name,u=a.getVariableValue(i);return u instanceof On?new A(u.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${n.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${n.line}`),null}TextureSample(n,a){return console.error("TODO: textureSample"),null}TextureSampleBias(n,a){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(n,a){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(n,a){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(n,a){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(n,a){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(n,a){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(n,a){const s=n.args[0],i=this.exec.evalExpression(n.args[1],a),u=n.args.length===4?this.exec.evalExpression(n.args[2],a).value:0,h=n.args.length===4?this.exec.evalExpression(n.args[3],a).data:this.exec.evalExpression(n.args[2],a).data;if(h.length!==4)return console.error(`Invalid value argument for textureStore. Line ${n.line}`),null;if(!(i instanceof x)||i.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${n.line}`),null;if(s instanceof Ut){const f=s.name,m=a.getVariableValue(f);if(m instanceof On){const p=m.getMipLevelSize(0),g=Math.floor(i.data[0]),y=Math.floor(i.data[1]);return g<0||g>=p[0]||y<0||y>=p[1]?(console.error(`Texture ${f} out of bounds. Line ${n.line}`),null):(m.setPixel(g,y,0,u,Array.from(h)),null)}return console.error(`Texture ${f} not found. Line ${n.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${n.line}`),null}AtomicLoad(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a);return a.getVariable(i).value.getSubData(this.exec,s.postfix,a)}AtomicStore(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a);return m instanceof A&&f instanceof A&&(m.value=f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),null}AtomicAdd(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value+=f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicSub(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value-=f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicMax(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=Math.max(m.value,f.value)),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicMin(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=Math.min(m.value,f.value)),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicAnd(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=m.value&f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicOr(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=m.value|f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicXor(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=m.value^f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicExchange(n,a){let s=n.args[0];s instanceof We&&(s=s.right);const i=this.exec.getVariableName(s,a),u=a.getVariable(i);let h=n.args[1];const f=this.exec.evalExpression(h,a),m=u.value.getSubData(this.exec,s.postfix,a),p=new A(m.value,m.typeInfo);return m instanceof A&&f instanceof A&&(m.value=f.value),u.value instanceof je&&u.value.setDataValue(this.exec,m,s.postfix,a),p}AtomicCompareExchangeWeak(n,a){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(n,a){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(n,a){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(n,a){return console.error("TODO: pack4xI8"),null}Pack4xU8(n,a){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(n,a){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(n,a){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(n,a){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(n,a){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(n,a){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(n,a){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(n,a){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(n,a){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(n,a){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(n,a){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(n,a){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(n,a){return console.error("TODO: unpack2x16float"),null}StorageBarrier(n,a){return null}TextureBarrier(n,a){return null}WorkgroupBarrier(n,a){return null}WorkgroupUniformLoad(n,a){return null}SubgroupAdd(n,a){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(n,a){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(n,a){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(n,a){return console.error("TODO: subgroupAll"),null}SubgroupAnd(n,a){return console.error("TODO: subgroupAnd"),null}SubgroupAny(n,a){return console.error("TODO: subgroupAny"),null}SubgroupBallot(n,a){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(n,a){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(n,a){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(n,a){return console.error("TODO: subgroupElect"),null}SubgroupMax(n,a){return console.error("TODO: subgroupMax"),null}SubgroupMin(n,a){return console.error("TODO: subgroupMin"),null}SubgroupMul(n,a){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(n,a){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(n,a){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(n,a){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(n,a){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(n,a){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(n,a){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(n,a){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(n,a){return console.error("TODO: subgroupXor"),null}QuadBroadcast(n,a){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(n,a){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(n,a){return console.error("TODO: quadSwapX"),null}QuadSwapY(n,a){return console.error("TODO: quadSwapY"),null}}const Ru={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},gt={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};class dt extends pb{constructor(n,a){var s;super(),this.ast=n??[],this.reflection=new fn,this.reflection.updateAST(this.ast),this.context=(s=a?.clone())!==null&&s!==void 0?s:new cc,this.builtins=new gb(this),this.typeInfo={bool:this.getTypeInfo(q.bool),i32:this.getTypeInfo(q.i32),u32:this.getTypeInfo(q.u32),f32:this.getTypeInfo(q.f32),f16:this.getTypeInfo(q.f16),vec2f:this.getTypeInfo(z.vec2f),vec2u:this.getTypeInfo(z.vec2u),vec2i:this.getTypeInfo(z.vec2i),vec2h:this.getTypeInfo(z.vec2h),vec3f:this.getTypeInfo(z.vec3f),vec3u:this.getTypeInfo(z.vec3u),vec3i:this.getTypeInfo(z.vec3i),vec3h:this.getTypeInfo(z.vec3h),vec4f:this.getTypeInfo(z.vec4f),vec4u:this.getTypeInfo(z.vec4u),vec4i:this.getTypeInfo(z.vec4i),vec4h:this.getTypeInfo(z.vec4h),mat2x2f:this.getTypeInfo(z.mat2x2f),mat2x3f:this.getTypeInfo(z.mat2x3f),mat2x4f:this.getTypeInfo(z.mat2x4f),mat3x2f:this.getTypeInfo(z.mat3x2f),mat3x3f:this.getTypeInfo(z.mat3x3f),mat3x4f:this.getTypeInfo(z.mat3x4f),mat4x2f:this.getTypeInfo(z.mat4x2f),mat4x3f:this.getTypeInfo(z.mat4x3f),mat4x4f:this.getTypeInfo(z.mat4x4f)}}getVariableValue(n){var a,s;const i=(s=(a=this.context.getVariable(n))===null||a===void 0?void 0:a.value)!==null&&s!==void 0?s:null;if(i===null)return null;if(i instanceof A)return i.value;if(i instanceof x||i instanceof ne)return Array.from(i.data);if(i instanceof je&&i.typeInfo instanceof oa){if(i.typeInfo.format.name==="u32")return Array.from(new Uint32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="i32")return Array.from(new Int32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="f32")return Array.from(new Float32Array(i.buffer,i.offset,i.typeInfo.count))}return console.error(`Unsupported return variable type ${i.typeInfo.name}`),null}execute(n){(n=n??{}).constants&&this._setOverrides(n.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(n,a,s,i){const u=this.context.clone();(i=i??{}).constants&&this._setOverrides(i.constants,u),this._execStatements(this.ast,u);const h=u.getFunction(n);if(!h)return void console.error(`Function ${n} not found`);if(typeof a=="number")a=[a,1,1];else{if(a.length===0)return void console.error("Invalid dispatch count");a.length===1?a=[a[0],1,1]:a.length===2?a=[a[0],a[1],1]:a.length>3&&(a=[a[0],a[1],a[2]])}const f=a[0],m=a[1],p=a[2],g=this.getTypeInfo("vec3u");u.setVariable("@num_workgroups",new x(a,g));for(const y in s)for(const k in s[y]){const O=s[y][k];u.variables.forEach((j=>{var F;const K=j.node;if(K?.attributes){let ae=null,se=null;for(const Y of K.attributes)Y.name==="binding"?ae=Y.value:Y.name==="group"&&(se=Y.value);if(k==ae&&y==se)if(O.texture!==void 0&&O.descriptor!==void 0){const Y=new On(O.texture,this.getTypeInfo(K.type),O.descriptor,(F=O.texture.view)!==null&&F!==void 0?F:null);j.value=Y}else O.uniform!==void 0?j.value=new je(O.uniform,this.getTypeInfo(K.type)):j.value=new je(O,this.getTypeInfo(K.type))}}))}for(let y=0;y<p;++y)for(let k=0;k<m;++k)for(let O=0;O<f;++O)u.setVariable("@workgroup_id",new x([O,k,y],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(h,[O,k,y],u)}execStatement(n,a){if(n instanceof mp)return this.evalExpression(n.value,a);if(n instanceof gp){if(n.condition){const s=this.evalExpression(n.condition,a);if(!(s instanceof A))throw new Error("Invalid break-if condition");if(!s.value)return null}return dt._breakObj}if(n instanceof _p)return dt._continueObj;if(n instanceof As)this._let(n,a);else if(n instanceof Bn)this._var(n,a);else if(n instanceof Wl)this._const(n,a);else if(n instanceof Ds)this._function(n,a);else{if(n instanceof dp)return this._if(n,a);if(n instanceof hp)return this._switch(n,a);if(n instanceof op)return this._for(n,a);if(n instanceof ip)return this._while(n,a);if(n instanceof fp)return this._loop(n,a);if(n instanceof Ju){const s=a.clone();return s.currentFunctionName=a.currentFunctionName,this._execStatements(n.body,s)}if(n instanceof cp)this._assign(n,a);else if(n instanceof up)this._increment(n,a);else{if(n instanceof Mn)return null;if(n instanceof ac){const s=n.name;a.getVariable(s)===null&&a.setVariable(s,new A(0,this.getTypeInfo("u32")))}else if(n instanceof rc)this._call(n,a);else{if(n instanceof pp||n instanceof sc)return null;console.error("Invalid statement type.",n,`Line ${n.line}`)}}}return null}evalExpression(n,a){return n instanceof nn?this._evalBinaryOp(n,a):n instanceof et?this._evalLiteral(n,a):n instanceof Ut?this._evalVariable(n,a):n instanceof lc?this._evalCall(n,a):n instanceof cn?this._evalCreate(n,a):n instanceof yp?this._evalConst(n,a):n instanceof bp?this._evalBitcast(n,a):n instanceof We?this._evalUnaryOp(n,a):(console.error("Invalid expression type",n,`Line ${n.line}`),null)}getTypeInfo(n){var a;if(n instanceof q){const i=this.reflection.getTypeInfo(n);if(i!==null)return i}let s=(a=this.typeInfo[n])!==null&&a!==void 0?a:null;return s!==null||(s=this.reflection.getTypeInfoByName(n)),s}_setOverrides(n,a){for(const s in n){const i=n[s],u=this.reflection.getOverrideInfo(s);u!==null?(u.type===null&&(u.type=this.getTypeInfo("u32")),u.type.name==="u32"||u.type.name==="i32"||u.type.name==="f32"||u.type.name==="f16"?a.setVariable(s,new A(i,u.type)):u.type.name==="bool"?a.setVariable(s,new A(i?1:0,u.type)):u.type.name==="vec2"||u.type.name==="vec3"||u.type.name==="vec4"||u.type.name==="vec2f"||u.type.name==="vec3f"||u.type.name==="vec4f"||u.type.name==="vec2i"||u.type.name==="vec3i"||u.type.name==="vec4i"||u.type.name==="vec2u"||u.type.name==="vec3u"||u.type.name==="vec4u"||u.type.name==="vec2h"||u.type.name==="vec3h"||u.type.name==="vec4h"?a.setVariable(s,new x(i,u.type)):console.error(`Invalid constant type for ${s}`)):console.error(`Override ${s} does not exist in the shader.`)}}_dispatchWorkgroup(n,a,s){const i=[1,1,1];for(const g of n.node.attributes)if(g.name==="workgroup_size"){if(g.value.length>0){const y=s.getVariableValue(g.value[0]);i[0]=y instanceof A?y.value:parseInt(g.value[0])}if(g.value.length>1){const y=s.getVariableValue(g.value[1]);i[1]=y instanceof A?y.value:parseInt(g.value[1])}if(g.value.length>2){const y=s.getVariableValue(g.value[2]);i[2]=y instanceof A?y.value:parseInt(g.value[2])}}const u=this.getTypeInfo("vec3u"),h=this.getTypeInfo("u32");s.setVariable("@workgroup_size",new x(i,u));const f=i[0],m=i[1],p=i[2];for(let g=0,y=0;g<p;++g)for(let k=0;k<m;++k)for(let O=0;O<f;++O,++y){const j=[O,k,g],F=[O+a[0]*i[0],k+a[1]*i[1],g+a[2]*i[2]];s.setVariable("@local_invocation_id",new x(j,u)),s.setVariable("@global_invocation_id",new x(F,u)),s.setVariable("@local_invocation_index",new A(y,h)),this._dispatchExec(n,s)}}_dispatchExec(n,a){for(const s of n.node.args)for(const i of s.attributes)if(i.name==="builtin"){const u=`@${i.value}`,h=a.getVariable(u);h!==void 0&&a.variables.set(s.name,h)}this._execStatements(n.node.body,a)}getVariableName(n,a){for(;n instanceof We;)n=n.right;return n instanceof Ut?n.name:(console.error("Unknown variable type",n,"Line",n.line),null)}_execStatements(n,a){for(const s of n){if(s instanceof Array){const u=a.clone(),h=this._execStatements(s,u);if(h)return h;continue}const i=this.execStatement(s,a);if(i)return i}return null}_call(n,a){const s=a.clone();s.currentFunctionName=n.name;const i=a.getFunction(n.name);if(i){for(let u=0;u<i.node.args.length;++u){const h=i.node.args[u],f=this.evalExpression(n.args[u],s);s.setVariable(h.name,f,h)}this._execStatements(i.node.body,s)}else n.isBuiltin?this._callBuiltinFunction(n,s):this.getTypeInfo(n.name)&&this._evalCreate(n,a)}_increment(n,a){const s=this.getVariableName(n.variable,a),i=a.getVariable(s);i?n.operator==="++"?i.value instanceof A?i.value.value++:console.error(`Variable ${s} is not a scalar. Line ${n.line}`):n.operator==="--"?i.value instanceof A?i.value.value--:console.error(`Variable ${s} is not a scalar. Line ${n.line}`):console.error(`Unknown increment operator ${n.operator}. Line ${n.line}`):console.error(`Variable ${s} not found. Line ${n.line}`)}_getVariableData(n,a){if(n instanceof Ut){const s=this.getVariableName(n,a),i=a.getVariable(s);return i===null?(console.error(`Variable ${s} not found. Line ${n.line}`),null):i.value.getSubData(this,n.postfix,a)}if(n instanceof We){if(n.operator==="*"){const s=this._getVariableData(n.right,a);return s instanceof br?s.reference.getSubData(this,n.postfix,a):(console.error(`Variable ${n.right} is not a pointer. Line ${n.line}`),null)}if(n.operator==="&"){const s=this._getVariableData(n.right,a);return new br(s)}}return null}_assign(n,a){let s=null,i="<var>",u=null;if(n.variable instanceof We){const m=this._getVariableData(n.variable,a),p=this.evalExpression(n.value,a),g=n.operator;if(g==="="){if(m instanceof A||m instanceof x||m instanceof ne){if(p instanceof A||p instanceof x||p instanceof ne&&m.data.length===p.data.length)return void m.data.set(p.data);console.error(`Invalid assignment. Line ${n.line}`)}else if(m instanceof je&&p instanceof je&&m.buffer.byteLength-m.offset>=p.buffer.byteLength-p.offset)return void(m.buffer.byteLength%4==0?new Uint32Array(m.buffer,m.offset,m.typeInfo.size/4).set(new Uint32Array(p.buffer,p.offset,p.typeInfo.size/4)):new Uint8Array(m.buffer,m.offset,m.typeInfo.size).set(new Uint8Array(p.buffer,p.offset,p.typeInfo.size)));return console.error(`Invalid assignment. Line ${n.line}`),null}if(g==="+=")return m instanceof A||m instanceof x||m instanceof ne?p instanceof A||p instanceof x||p instanceof ne?void m.data.set(p.data.map(((y,k)=>m.data[k]+y))):void console.error(`Invalid assignment . Line ${n.line}`):void console.error(`Invalid assignment. Line ${n.line}`);if(g==="-=")return(m instanceof A||m instanceof x||m instanceof ne)&&(p instanceof A||p instanceof x||p instanceof ne)?void m.data.set(p.data.map(((y,k)=>m.data[k]-y))):void console.error(`Invalid assignment. Line ${n.line}`)}if(n.variable instanceof We){if(n.variable.operator==="*"){i=this.getVariableName(n.variable.right,a);const m=a.getVariable(i);if(!(m&&m.value instanceof br))return void console.error(`Variable ${i} is not a pointer. Line ${n.line}`);s=m.value.reference;let p=n.variable.postfix;if(!p){let g=n.variable.right;for(;g instanceof We;){if(g.postfix){p=g.postfix;break}g=g.right}}p&&(s=s.getSubData(this,p,a))}}else{u=n.variable.postfix,i=this.getVariableName(n.variable,a);const m=a.getVariable(i);if(m===null)return void console.error(`Variable ${i} not found. Line ${n.line}`);s=m.value}if(s instanceof br&&(s=s.reference),s===null)return void console.error(`Variable ${i} not found. Line ${n.line}`);const h=this.evalExpression(n.value,a),f=n.operator;if(f==="=")if(s instanceof je)s.setDataValue(this,h,u,a);else if(u){if(!(s instanceof x||s instanceof ne))return void console.error(`Variable ${i} is not a vector or matrix. Line ${n.line}`);if(u instanceof kr){const m=this.evalExpression(u.index,a).value;if(s instanceof x){if(!(h instanceof A))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[m]=h.value}else{if(!(s instanceof ne))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);{const p=this.evalExpression(u.index,a).value;if(p<0)return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);if(!(h instanceof x))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);{const g=s.typeInfo.getTypeName();if(g==="mat2x2"||g==="mat2x2f"||g==="mat2x2h"){if(!(p<2&&h.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[2*p]=h.data[0],s.data[2*p+1]=h.data[1]}else if(g==="mat2x3"||g==="mat2x3f"||g==="mat2x3h"){if(!(p<2&&h.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[3*p]=h.data[0],s.data[3*p+1]=h.data[1],s.data[3*p+2]=h.data[2]}else if(g==="mat2x4"||g==="mat2x4f"||g==="mat2x4h"){if(!(p<2&&h.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[4*p]=h.data[0],s.data[4*p+1]=h.data[1],s.data[4*p+2]=h.data[2],s.data[4*p+3]=h.data[3]}else if(g==="mat3x2"||g==="mat3x2f"||g==="mat3x2h"){if(!(p<3&&h.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[2*p]=h.data[0],s.data[2*p+1]=h.data[1]}else if(g==="mat3x3"||g==="mat3x3f"||g==="mat3x3h"){if(!(p<3&&h.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[3*p]=h.data[0],s.data[3*p+1]=h.data[1],s.data[3*p+2]=h.data[2]}else if(g==="mat3x4"||g==="mat3x4f"||g==="mat3x4h"){if(!(p<3&&h.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[4*p]=h.data[0],s.data[4*p+1]=h.data[1],s.data[4*p+2]=h.data[2],s.data[4*p+3]=h.data[3]}else if(g==="mat4x2"||g==="mat4x2f"||g==="mat4x2h"){if(!(p<4&&h.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[2*p]=h.data[0],s.data[2*p+1]=h.data[1]}else if(g==="mat4x3"||g==="mat4x3f"||g==="mat4x3h"){if(!(p<4&&h.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[3*p]=h.data[0],s.data[3*p+1]=h.data[1],s.data[3*p+2]=h.data[2]}else{if(g!=="mat4x4"&&g!=="mat4x4f"&&g!=="mat4x4h")return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);if(!(p<4&&h.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);s.data[4*p]=h.data[0],s.data[4*p+1]=h.data[1],s.data[4*p+2]=h.data[2],s.data[4*p+3]=h.data[3]}}}}}else if(u instanceof Ia){const m=u.value;if(!(s instanceof x))return void console.error(`Invalid assignment to ${m}. Variable ${i} is not a vector. Line ${n.line}`);if(h instanceof A){if(m.length>1)return void console.error(`Invalid assignment to ${m} for variable ${i}. Line ${n.line}`);if(m==="x")s.data[0]=h.value;else if(m==="y"){if(s.data.length<2)return void console.error(`Invalid assignment to ${m} for variable ${i}. Line ${n.line}`);s.data[1]=h.value}else if(m==="z"){if(s.data.length<3)return void console.error(`Invalid assignment to ${m} for variable ${i}. Line ${n.line}`);s.data[2]=h.value}else if(m==="w"){if(s.data.length<4)return void console.error(`Invalid assignment to ${m} for variable ${i}. Line ${n.line}`);s.data[3]=h.value}}else{if(!(h instanceof x))return void console.error(`Invalid assignment to ${i}. Line ${n.line}`);if(m.length!==h.data.length)return void console.error(`Invalid assignment to ${m} for variable ${i}. Line ${n.line}`);for(let p=0;p<m.length;++p){const g=m[p];if(g==="x"||g==="r")s.data[0]=h.data[p];else if(g==="y"||g==="g"){if(h.data.length<2)return void console.error(`Invalid assignment to ${g} for variable ${i}. Line ${n.line}`);s.data[1]=h.data[p]}else if(g==="z"||g==="b"){if(h.data.length<3)return void console.error(`Invalid assignment to ${g} for variable ${i}. Line ${n.line}`);s.data[2]=h.data[p]}else{if(g!=="w"&&g!=="a")return void console.error(`Invalid assignment to ${g} for variable ${i}. Line ${n.line}`);if(h.data.length<4)return void console.error(`Invalid assignment to ${g} for variable ${i}. Line ${n.line}`);s.data[3]=h.data[p]}}}}}else s instanceof A&&h instanceof A?s.value=h.value:s instanceof x&&h instanceof x||s instanceof ne&&h instanceof ne?s.data.set(h.data):console.error(`Invalid assignment to ${i}. Line ${n.line}`);else{const m=s.getSubData(this,u,a);if(m instanceof x&&h instanceof A){const p=m.data,g=h.value;if(f==="+=")for(let y=0;y<p.length;++y)p[y]+=g;else if(f==="-=")for(let y=0;y<p.length;++y)p[y]-=g;else if(f==="*=")for(let y=0;y<p.length;++y)p[y]*=g;else if(f==="/=")for(let y=0;y<p.length;++y)p[y]/=g;else if(f==="%=")for(let y=0;y<p.length;++y)p[y]%=g;else if(f==="&=")for(let y=0;y<p.length;++y)p[y]&=g;else if(f==="|=")for(let y=0;y<p.length;++y)p[y]|=g;else if(f==="^=")for(let y=0;y<p.length;++y)p[y]^=g;else if(f==="<<=")for(let y=0;y<p.length;++y)p[y]<<=g;else if(f===">>=")for(let y=0;y<p.length;++y)p[y]>>=g;else console.error(`Invalid operator ${f}. Line ${n.line}`)}else if(m instanceof x&&h instanceof x){const p=m.data,g=h.data;if(p.length!==g.length)return void console.error(`Vector length mismatch. Line ${n.line}`);if(f==="+=")for(let y=0;y<p.length;++y)p[y]+=g[y];else if(f==="-=")for(let y=0;y<p.length;++y)p[y]-=g[y];else if(f==="*=")for(let y=0;y<p.length;++y)p[y]*=g[y];else if(f==="/=")for(let y=0;y<p.length;++y)p[y]/=g[y];else if(f==="%=")for(let y=0;y<p.length;++y)p[y]%=g[y];else if(f==="&=")for(let y=0;y<p.length;++y)p[y]&=g[y];else if(f==="|=")for(let y=0;y<p.length;++y)p[y]|=g[y];else if(f==="^=")for(let y=0;y<p.length;++y)p[y]^=g[y];else if(f==="<<=")for(let y=0;y<p.length;++y)p[y]<<=g[y];else if(f===">>=")for(let y=0;y<p.length;++y)p[y]>>=g[y];else console.error(`Invalid operator ${f}. Line ${n.line}`)}else{if(!(m instanceof A&&h instanceof A))return void console.error(`Invalid type for ${n.operator} operator. Line ${n.line}`);f==="+="?m.value+=h.value:f==="-="?m.value-=h.value:f==="*="?m.value*=h.value:f==="/="?m.value/=h.value:f==="%="?m.value%=h.value:f==="&="?m.value&=h.value:f==="|="?m.value|=h.value:f==="^="?m.value^=h.value:f==="<<="?m.value<<=h.value:f===">>="?m.value>>=h.value:console.error(`Invalid operator ${f}. Line ${n.line}`)}s instanceof je&&s.setDataValue(this,m,u,a)}}_function(n,a){const s=new uc(n);a.functions.set(n.name,s)}_const(n,a){let s=null;n.value!==null&&(s=this.evalExpression(n.value,a)),a.createVariable(n.name,s,n)}_let(n,a){let s=null;if(n.value!==null){if(s=this.evalExpression(n.value,a),s===null)return void console.error(`Invalid value for variable ${n.name}. Line ${n.line}`);n.value instanceof We||(s=s.clone())}else{const i=n.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||i==="array"){const u=new cn(n.type,[]);s=this._evalCreate(u,a)}}a.createVariable(n.name,s,n)}_var(n,a){let s=null;if(n.value!==null){if(s=this.evalExpression(n.value,a),s===null)return void console.error(`Invalid value for variable ${n.name}. Line ${n.line}`);n.value instanceof We||(s=s.clone())}else{if(n.type===null)return void console.error(`Variable ${n.name} has no type. Line ${n.line}`);const i=n.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||n.type instanceof Es||n.type instanceof Mn||n.type instanceof z){const u=new cn(n.type,[]);s=this._evalCreate(u,a)}}a.createVariable(n.name,s,n)}_switch(n,a){a=a.clone();const s=this.evalExpression(n.condition,a);if(!(s instanceof A))return console.error(`Invalid if condition. Line ${n.line}`),null;let i=null;for(const u of n.cases)if(u instanceof wp)for(const h of u.selectors){if(h instanceof ei){i=u;continue}const f=this.evalExpression(h,a);if(!(f instanceof A))return console.error(`Invalid case selector. Line ${n.line}`),null;if(f.value===s.value)return this._execStatements(u.body,a)}else u instanceof kp&&(i=u);return i?this._execStatements(i.body,a):null}_if(n,a){a=a.clone();const s=this.evalExpression(n.condition,a);if(!(s instanceof A))return console.error(`Invalid if condition. Line ${n.line}`),null;if(s.value)return this._execStatements(n.body,a);for(const i of n.elseif){const u=this.evalExpression(i.condition,a);if(!(u instanceof A))return console.error(`Invalid if condition. Line ${n.line}`),null;if(u.value)return this._execStatements(i.body,a)}return n.else?this._execStatements(n.else,a):null}_getScalarValue(n){return n instanceof A?n.value:(console.error("Expected scalar value.",n),0)}_for(n,a){for(a=a.clone(),this.execStatement(n.init,a);this._getScalarValue(this.evalExpression(n.condition,a));){const s=this._execStatements(n.body,a);if(s===dt._breakObj)break;if(s!==null&&s!==dt._continueObj)return s;this.execStatement(n.increment,a)}return null}_loop(n,a){for(a=a.clone();;){const s=this._execStatements(n.body,a);if(s===dt._breakObj)break;if(s===dt._continueObj){if(n.continuing&&this._execStatements(n.continuing.body,a)===dt._breakObj)break}else if(s!==null)return s}return null}_while(n,a){for(a=a.clone();this._getScalarValue(this.evalExpression(n.condition,a));){const s=this._execStatements(n.body,a);if(s===dt._breakObj)break;if(s!==dt._continueObj&&s!==null)return s}return null}_evalBitcast(n,a){const s=this.evalExpression(n.value,a),i=n.type;if(s instanceof A){const u=Vm(s.value,s.typeInfo.name,i.name);return new A(u,this.getTypeInfo(i))}if(s instanceof x){const u=s.typeInfo.getTypeName();let h="";if(u.endsWith("f"))h="f32";else if(u.endsWith("i"))h="i32";else if(u.endsWith("u"))h="u32";else if(u.endsWith("b"))h="bool";else{if(!u.endsWith("h"))return console.error(`Unknown vector type ${u}. Line ${n.line}`),null;h="f16"}const f=i.getTypeName();let m="";if(f.endsWith("f"))m="f32";else if(f.endsWith("i"))m="i32";else if(f.endsWith("u"))m="u32";else if(f.endsWith("b"))m="bool";else{if(!f.endsWith("h"))return console.error(`Unknown vector type ${m}. Line ${n.line}`),null;m="f16"}const p=(function(g,y,k){if(y===k)return g;const O=new Array(g.length);for(let j=0;j<g.length;j++)O[j]=Vm(g[j],y,k);return O})(Array.from(s.data),h,m);return new x(p,this.getTypeInfo(i))}return console.error(`TODO: bitcast for ${s.typeInfo.name}. Line ${n.line}`),null}_evalConst(n,a){return a.getVariableValue(n.name).clone().getSubData(this,n.postfix,a)}_evalCreate(n,a){var s;if(n instanceof cn){if(n.type===null)return Fu.void;switch(n.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(n,a);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(n,a);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(n,a)}}const i=n instanceof cn?n.type.name:n.name,u=n instanceof cn?this.getTypeInfo(n.type):this.getTypeInfo(n.name);if(u===null)return console.error(`Unknown type ${i}. Line ${n.line}`),null;if(u.size===0)return null;const h=new je(new ArrayBuffer(u.size),u,0);if(u instanceof ia){if(n.args)for(let f=0;f<n.args.length;++f){const m=u.members[f],p=n.args[f],g=this.evalExpression(p,a);h.setData(this,g,m.type,m.offset,a)}}else if(u instanceof oa){let f=0;if(n.args)for(let m=0;m<n.args.length;++m){const p=n.args[m],g=this.evalExpression(p,a);u.format===null&&(((s=g.typeInfo)===null||s===void 0?void 0:s.name)==="x32"?u.format=this.getTypeInfo("i32"):u.format=g.typeInfo),h.setData(this,g,u.format,f,a),f+=u.stride}}else console.error(`Unknown type "${i}". Line ${n.line}`);return n instanceof cn?h.getSubData(this,n.postfix,a):h}_evalLiteral(n,a){const s=this.getTypeInfo(n.type),i=s.name;return i==="x32"||i==="u32"||i==="f32"||i==="f16"||i==="i32"||i==="bool"?new A(n.scalarValue,s):i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"?this._callConstructorVec(n,a):i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"?this._callConstructorMatrix(n,a):n.value}_evalVariable(n,a){const s=a.getVariableValue(n.name);return s===null?s:s.getSubData(this,n.postfix,a)}_maxFormatTypeInfo(n){let a=n[0];if(a.name==="f32")return a;for(let s=1;s<n.length;++s){const i=dt._priority.get(a.name);dt._priority.get(n[s].name)<i&&(a=n[s])}return a.name==="x32"?this.getTypeInfo("i32"):a}_evalUnaryOp(n,a){const s=this.evalExpression(n.right,a);if(n.operator==="&")return new br(s);if(n.operator==="*")return s instanceof br?s.reference.getSubData(this,n.postfix,a):(console.error(`Invalid dereference. Line ${n.line}`),null);const i=s instanceof A?s.value:s instanceof x?Array.from(s.data):null;switch(n.operator){case"+":{if(X(i)){const f=i.map(((m,p)=>+m));return new x(f,s.typeInfo)}const u=i,h=this._maxFormatTypeInfo([s.typeInfo,s.typeInfo]);return new A(+u,h)}case"-":{if(X(i)){const f=i.map(((m,p)=>-m));return new x(f,s.typeInfo)}const u=i,h=this._maxFormatTypeInfo([s.typeInfo,s.typeInfo]);return new A(-u,h)}case"!":{if(X(i)){const f=i.map(((m,p)=>m?0:1));return new x(f,s.typeInfo)}const u=i,h=this._maxFormatTypeInfo([s.typeInfo,s.typeInfo]);return new A(u?0:1,h)}case"~":{if(X(i)){const f=i.map(((m,p)=>~m));return new x(f,s.typeInfo)}const u=i,h=this._maxFormatTypeInfo([s.typeInfo,s.typeInfo]);return new A(~u,h)}}return console.error(`Invalid unary operator ${n.operator}. Line ${n.line}`),null}_evalBinaryOp(n,a){const s=this.evalExpression(n.left,a),i=this.evalExpression(n.right,a),u=s instanceof A?s.value:s instanceof x||s instanceof ne?Array.from(s.data):null,h=i instanceof A?i.value:i instanceof x||i instanceof ne?Array.from(i.data):null;switch(n.operator){case"+":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O+y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k+g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g+k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f+m,p)}case"-":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O-y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k-g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g-k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f-m,p)}case"*":{if(X(u)&&X(h)){const g=u,y=h;if(s instanceof ne&&i instanceof ne){const k=(function(K,ae,se,Y){if(gt[ae.name]===void 0||gt[Y.name]===void 0)return null;const $=gt[ae.name][0],Ae=gt[ae.name][1],be=gt[Y.name][0];if($!==gt[Y.name][1])return null;const ue=new Array(be*Ae);for(let qe=0;qe<Ae;qe++)for(let Ye=0;Ye<be;Ye++){let Jt=0;for(let rt=0;rt<$;rt++)Jt+=K[rt*Ae+qe]*se[Ye*$+rt];ue[qe*be+Ye]=Jt}return ue})(g,s.typeInfo,y,i.typeInfo);if(k===null)return console.error(`Matrix multiplication failed. Line ${n.line}.`),null;const O=gt[i.typeInfo.name][0],j=gt[s.typeInfo.name][1],F=this.getTypeInfo(`mat${O}x${j}f`);return new ne(k,F)}if(s instanceof ne&&i instanceof x){const k=(function(O,j,F,K){if(gt[j.name]===void 0||Ru[K.name]===void 0)return null;const ae=gt[j.name][0],se=gt[j.name][1];if(ae!==F.length)return null;const Y=new Array(se);for(let $=0;$<se;$++){let Ae=0;for(let be=0;be<ae;be++)Ae+=O[be*se+$]*F[be];Y[$]=Ae}return Y})(g,s.typeInfo,y,i.typeInfo);return k===null?(console.error(`Matrix vector multiplication failed. Line ${n.line}.`),null):new x(k,i.typeInfo)}if(s instanceof x&&i instanceof ne){const k=(function(O,j,F,K){if(Ru[j.name]===void 0||gt[K.name]===void 0)return null;const ae=gt[K.name][0],se=gt[K.name][1];if(se!==O.length)return null;const Y=[];for(let $=0;$<ae;$++){let Ae=0;for(let be=0;be<se;be++)Ae+=O[be]*F[be*ae+$];Y[$]=Ae}return Y})(g,s.typeInfo,y,i.typeInfo);return k===null?(console.error(`Matrix vector multiplication failed. Line ${n.line}.`),null):new x(k,s.typeInfo)}{if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O*y[j]));return new x(k,s.typeInfo)}}if(X(u)){const g=h,y=u.map(((k,O)=>k*g));return s instanceof ne?new ne(y,s.typeInfo):new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g*k));return i instanceof ne?new ne(y,i.typeInfo):new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f*m,p)}case"%":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O%y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k%g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g%k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f%m,p)}case"/":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O/y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k/g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g/k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f/m,p)}case"&":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O&y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k&g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g&k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f&m,p)}case"|":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O|y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k|g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g|k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f|m,p)}case"^":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O^y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k^g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g^k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f^m,p)}case"<<":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O<<y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k<<g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g<<k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f<<m,p)}case">>":{if(X(u)&&X(h)){const g=u,y=h;if(g.length!==y.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const k=g.map(((O,j)=>O>>y[j]));return new x(k,s.typeInfo)}if(X(u)){const g=h,y=u.map(((k,O)=>k>>g));return new x(y,s.typeInfo)}if(X(h)){const g=u,y=h.map(((k,O)=>g>>k));return new x(y,i.typeInfo)}const f=u,m=h,p=this._maxFormatTypeInfo([s.typeInfo,i.typeInfo]);return new A(f>>m,p)}case">":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g>m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p>f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f>p?1:0));return new x(m,i.typeInfo)}return new A(u>h?1:0,this.getTypeInfo("bool"));case"<":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g<m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p<f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f<p?1:0));return new x(m,i.typeInfo)}return new A(u<h?1:0,this.getTypeInfo("bool"));case"==":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g===m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p==f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f==p?1:0));return new x(m,i.typeInfo)}return new A(u===h?1:0,this.getTypeInfo("bool"));case"!=":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g!==m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p!==f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f!==p?1:0));return new x(m,i.typeInfo)}return new A(u!==h?1:0,this.getTypeInfo("bool"));case">=":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g>=m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p>=f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f>=p?1:0));return new x(m,i.typeInfo)}return new A(u>=h?1:0,this.getTypeInfo("bool"));case"<=":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g<=m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p<=f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f<=p?1:0));return new x(m,i.typeInfo)}return new A(u<=h?1:0,this.getTypeInfo("bool"));case"&&":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g&&m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p&&f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f&&p?1:0));return new x(m,i.typeInfo)}return new A(u&&h?1:0,this.getTypeInfo("bool"));case"||":if(X(u)&&X(h)){const f=u,m=h;if(f.length!==m.length)return console.error(`Vector length mismatch. Line ${n.line}.`),null;const p=f.map(((g,y)=>g||m[y]?1:0));return new x(p,s.typeInfo)}if(X(u)){const f=h,m=u.map(((p,g)=>p||f?1:0));return new x(m,s.typeInfo)}if(X(h)){const f=u,m=h.map(((p,g)=>f||p?1:0));return new x(m,i.typeInfo)}return new A(u||h?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${n.operator}. Line ${n.line}`),null}_evalCall(n,a){if(n.cachedReturnValue!==null)return n.cachedReturnValue;const s=a.clone();s.currentFunctionName=n.name;const i=a.getFunction(n.name);if(!i)return n.isBuiltin?this._callBuiltinFunction(n,s):this.getTypeInfo(n.name)?this._evalCreate(n,a):(console.error(`Unknown function "${n.name}". Line ${n.line}`),null);for(let u=0;u<i.node.args.length;++u){const h=i.node.args[u],f=this.evalExpression(n.args[u],s);s.createVariable(h.name,f,h)}return this._execStatements(i.node.body,s)}_callBuiltinFunction(n,a){switch(n.name){case"all":return this.builtins.All(n,a);case"any":return this.builtins.Any(n,a);case"select":return this.builtins.Select(n,a);case"arrayLength":return this.builtins.ArrayLength(n,a);case"abs":return this.builtins.Abs(n,a);case"acos":return this.builtins.Acos(n,a);case"acosh":return this.builtins.Acosh(n,a);case"asin":return this.builtins.Asin(n,a);case"asinh":return this.builtins.Asinh(n,a);case"atan":return this.builtins.Atan(n,a);case"atanh":return this.builtins.Atanh(n,a);case"atan2":return this.builtins.Atan2(n,a);case"ceil":return this.builtins.Ceil(n,a);case"clamp":return this.builtins.Clamp(n,a);case"cos":return this.builtins.Cos(n,a);case"cosh":return this.builtins.Cosh(n,a);case"countLeadingZeros":return this.builtins.CountLeadingZeros(n,a);case"countOneBits":return this.builtins.CountOneBits(n,a);case"countTrailingZeros":return this.builtins.CountTrailingZeros(n,a);case"cross":return this.builtins.Cross(n,a);case"degrees":return this.builtins.Degrees(n,a);case"determinant":return this.builtins.Determinant(n,a);case"distance":return this.builtins.Distance(n,a);case"dot":return this.builtins.Dot(n,a);case"dot4U8Packed":return this.builtins.Dot4U8Packed(n,a);case"dot4I8Packed":return this.builtins.Dot4I8Packed(n,a);case"exp":return this.builtins.Exp(n,a);case"exp2":return this.builtins.Exp2(n,a);case"extractBits":return this.builtins.ExtractBits(n,a);case"faceForward":return this.builtins.FaceForward(n,a);case"firstLeadingBit":return this.builtins.FirstLeadingBit(n,a);case"firstTrailingBit":return this.builtins.FirstTrailingBit(n,a);case"floor":return this.builtins.Floor(n,a);case"fma":return this.builtins.Fma(n,a);case"fract":return this.builtins.Fract(n,a);case"frexp":return this.builtins.Frexp(n,a);case"insertBits":return this.builtins.InsertBits(n,a);case"inverseSqrt":return this.builtins.InverseSqrt(n,a);case"ldexp":return this.builtins.Ldexp(n,a);case"length":return this.builtins.Length(n,a);case"log":return this.builtins.Log(n,a);case"log2":return this.builtins.Log2(n,a);case"max":return this.builtins.Max(n,a);case"min":return this.builtins.Min(n,a);case"mix":return this.builtins.Mix(n,a);case"modf":return this.builtins.Modf(n,a);case"normalize":return this.builtins.Normalize(n,a);case"pow":return this.builtins.Pow(n,a);case"quantizeToF16":return this.builtins.QuantizeToF16(n,a);case"radians":return this.builtins.Radians(n,a);case"reflect":return this.builtins.Reflect(n,a);case"refract":return this.builtins.Refract(n,a);case"reverseBits":return this.builtins.ReverseBits(n,a);case"round":return this.builtins.Round(n,a);case"saturate":return this.builtins.Saturate(n,a);case"sign":return this.builtins.Sign(n,a);case"sin":return this.builtins.Sin(n,a);case"sinh":return this.builtins.Sinh(n,a);case"smoothStep":return this.builtins.SmoothStep(n,a);case"sqrt":return this.builtins.Sqrt(n,a);case"step":return this.builtins.Step(n,a);case"tan":return this.builtins.Tan(n,a);case"tanh":return this.builtins.Tanh(n,a);case"transpose":return this.builtins.Transpose(n,a);case"trunc":return this.builtins.Trunc(n,a);case"dpdx":return this.builtins.Dpdx(n,a);case"dpdxCoarse":return this.builtins.DpdxCoarse(n,a);case"dpdxFine":return this.builtins.DpdxFine(n,a);case"dpdy":return this.builtins.Dpdy(n,a);case"dpdyCoarse":return this.builtins.DpdyCoarse(n,a);case"dpdyFine":return this.builtins.DpdyFine(n,a);case"fwidth":return this.builtins.Fwidth(n,a);case"fwidthCoarse":return this.builtins.FwidthCoarse(n,a);case"fwidthFine":return this.builtins.FwidthFine(n,a);case"textureDimensions":return this.builtins.TextureDimensions(n,a);case"textureGather":return this.builtins.TextureGather(n,a);case"textureGatherCompare":return this.builtins.TextureGatherCompare(n,a);case"textureLoad":return this.builtins.TextureLoad(n,a);case"textureNumLayers":return this.builtins.TextureNumLayers(n,a);case"textureNumLevels":return this.builtins.TextureNumLevels(n,a);case"textureNumSamples":return this.builtins.TextureNumSamples(n,a);case"textureSample":return this.builtins.TextureSample(n,a);case"textureSampleBias":return this.builtins.TextureSampleBias(n,a);case"textureSampleCompare":return this.builtins.TextureSampleCompare(n,a);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(n,a);case"textureSampleGrad":return this.builtins.TextureSampleGrad(n,a);case"textureSampleLevel":return this.builtins.TextureSampleLevel(n,a);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(n,a);case"textureStore":return this.builtins.TextureStore(n,a);case"atomicLoad":return this.builtins.AtomicLoad(n,a);case"atomicStore":return this.builtins.AtomicStore(n,a);case"atomicAdd":return this.builtins.AtomicAdd(n,a);case"atomicSub":return this.builtins.AtomicSub(n,a);case"atomicMax":return this.builtins.AtomicMax(n,a);case"atomicMin":return this.builtins.AtomicMin(n,a);case"atomicAnd":return this.builtins.AtomicAnd(n,a);case"atomicOr":return this.builtins.AtomicOr(n,a);case"atomicXor":return this.builtins.AtomicXor(n,a);case"atomicExchange":return this.builtins.AtomicExchange(n,a);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(n,a);case"pack4x8snorm":return this.builtins.Pack4x8snorm(n,a);case"pack4x8unorm":return this.builtins.Pack4x8unorm(n,a);case"pack4xI8":return this.builtins.Pack4xI8(n,a);case"pack4xU8":return this.builtins.Pack4xU8(n,a);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(n,a);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(n,a);case"pack2x16snorm":return this.builtins.Pack2x16snorm(n,a);case"pack2x16unorm":return this.builtins.Pack2x16unorm(n,a);case"pack2x16float":return this.builtins.Pack2x16float(n,a);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(n,a);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(n,a);case"unpack4xI8":return this.builtins.Unpack4xI8(n,a);case"unpack4xU8":return this.builtins.Unpack4xU8(n,a);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(n,a);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(n,a);case"unpack2x16float":return this.builtins.Unpack2x16float(n,a);case"storageBarrier":return this.builtins.StorageBarrier(n,a);case"textureBarrier":return this.builtins.TextureBarrier(n,a);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(n,a);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(n,a);case"subgroupAdd":return this.builtins.SubgroupAdd(n,a);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(n,a);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(n,a);case"subgroupAll":return this.builtins.SubgroupAll(n,a);case"subgroupAnd":return this.builtins.SubgroupAnd(n,a);case"subgroupAny":return this.builtins.SubgroupAny(n,a);case"subgroupBallot":return this.builtins.SubgroupBallot(n,a);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(n,a);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(n,a);case"subgroupElect":return this.builtins.SubgroupElect(n,a);case"subgroupMax":return this.builtins.SubgroupMax(n,a);case"subgroupMin":return this.builtins.SubgroupMin(n,a);case"subgroupMul":return this.builtins.SubgroupMul(n,a);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(n,a);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(n,a);case"subgroupOr":return this.builtins.SubgroupOr(n,a);case"subgroupShuffle":return this.builtins.SubgroupShuffle(n,a);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(n,a);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(n,a);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(n,a);case"subgroupXor":return this.builtins.SubgroupXor(n,a);case"quadBroadcast":return this.builtins.QuadBroadcast(n,a);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(n,a);case"quadSwapX":return this.builtins.QuadSwapX(n,a);case"quadSwapY":return this.builtins.QuadSwapY(n,a)}const s=a.getFunction(n.name);if(s){const i=a.clone();for(let u=0;u<s.node.args.length;++u){const h=s.node.args[u],f=this.evalExpression(n.args[u],i);i.setVariable(h.name,f,h)}return this._execStatements(s.node.body,i)}return null}_callConstructorValue(n,a){if(!n.args||n.args.length===0)return new A(0,this.getTypeInfo(n.type));const s=this.evalExpression(n.args[0],a);return s.typeInfo=this.getTypeInfo(n.type),s.getSubData(this,n.postfix,a).clone()}_callConstructorVec(n,a){const s=this.getTypeInfo(n.type),i=n.type.getTypeName(),u=Ru[i];if(u===void 0)return console.error(`Invalid vec constructor ${i}. Line ${n.line}`),null;const h=[];if(n instanceof et)if(n.isVector){const f=n.vectorValue;for(const m of f)h.push(m)}else h.push(n.scalarValue);else if(n.args)for(const f of n.args){const m=this.evalExpression(f,a);if(m instanceof x){const p=m.data;for(let g=0;g<p.length;++g){let y=p[g];h.push(y)}}else if(m instanceof A){let p=m.value;h.push(p)}}if(n.type instanceof z&&n.type.format===null&&(n.type.format=z.f32),h.length===0){const f=new Array(u).fill(0);return new x(f,s).getSubData(this,n.postfix,a)}if(h.length===1)for(;h.length<u;)h.push(h[0]);return h.length<u?(console.error(`Invalid vec constructor. Line ${n.line}`),null):new x(h.length>u?h.slice(0,u):h,s).getSubData(this,n.postfix,a)}_callConstructorMatrix(n,a){const s=this.getTypeInfo(n.type),i=n.type.getTypeName(),u=gt[i];if(u===void 0)return console.error(`Invalid matrix constructor ${i}. Line ${n.line}`),null;const h=[];if(n instanceof et)if(n.isVector){const f=n.vectorValue;for(const m of f)h.push(m)}else h.push(n.scalarValue);else if(n.args)for(const f of n.args){const m=this.evalExpression(f,a);m instanceof x?h.push(...m.data):m instanceof A?h.push(m.value):m instanceof ne&&h.push(...m.data)}if(s instanceof Ba&&s.format===null&&(s.format=this.getTypeInfo("f32")),h.length===0){const f=new Array(u[2]).fill(0);return new ne(f,s).getSubData(this,n.postfix,a)}return h.length!==u[2]?(console.error(`Invalid matrix constructor. Line ${n.line}`),null):new ne(h,s).getSubData(this,n.postfix,a)}}dt._breakObj=new $t(new Zt("BREAK",null),null),dt._continueObj=new $t(new Zt("CONTINUE",null),null),dt._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);class _b{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}class yb{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new _b,this._exec=new dt,this._forwardTypeCount=0}parse(n){this._initialize(n),this._deferArrayCountEval.length=0;const a=[];for(;!this._isAtEnd();){const s=this._global_decl_or_directive();if(!s)break;a.push(s)}if(this._deferArrayCountEval.length>0){for(const s of this._deferArrayCountEval){const i=s.arrayType,u=s.countNode;if(u instanceof Ut){const h=u.name,f=this._context.constants.get(h);if(f)try{const m=f.constEvaluate(this._exec);i.count=m}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const s of a)s.search((i=>{i instanceof Nm||i instanceof Pl?i.type=this._forwardType(i.type):i instanceof Es?i.format=this._forwardType(i.format):i instanceof Bn||i instanceof As||i instanceof Wl?i.type=this._forwardType(i.type):i instanceof Ds?i.returnType=this._forwardType(i.returnType):i instanceof Um&&(i.type=this._forwardType(i.type))}));return a}_forwardType(n){if(n instanceof Im){const a=this._getType(n.name);if(a)return a}else n instanceof Pl?n.type=this._forwardType(n.type):n instanceof Es&&(n.format=this._forwardType(n.format));return n}_initialize(n){if(n)if(typeof n=="string"){const a=new ib(n);this._tokens=a.scanTokens()}else this._tokens=n;else this._tokens=[];this._current=0}_updateNode(n,a){return n.line=a??this._currentLine,n}_error(n,a){return{token:n,message:a,toString:()=>`${a}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==v.eof}_match(n){if(n instanceof D)return!!this._check(n)&&(this._advance(),!0);for(let a=0,s=n.length;a<s;++a){const i=n[a];if(this._check(i))return this._advance(),!0}return!1}_consume(n,a){if(this._check(n))return this._advance();throw this._error(this._peek(),`${a}. Line:${this._currentLine}`)}_check(n){if(this._isAtEnd())return!1;const a=this._peek();if(n instanceof Array){const s=a.type;let i=!1;for(const u of n){if(s===u)return!0;u===v.tokens.name&&(i=!0)}if(i){const u=v.tokens.name.rule.exec(a.lexeme);if(u&&u.index==0&&u[0]==a.lexeme)return!0}return!1}if(a.type===n)return!0;if(n===v.tokens.name){const s=v.tokens.name.rule.exec(a.lexeme);return s&&s.index==0&&s[0]==a.lexeme}return!1}_advance(){var n,a;return this._currentLine=(a=(n=this._peek())===null||n===void 0?void 0:n.line)!==null&&a!==void 0?a:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(v.tokens.semicolon)&&!this._isAtEnd(););if(this._match(v.keywords.alias)){const a=this._type_alias();return this._consume(v.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([a]),a}if(this._match(v.keywords.diagnostic)){const a=this._diagnostic();return this._consume(v.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([a]),a}if(this._match(v.keywords.requires)){const a=this._requires_directive();return this._consume(v.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([a]),a}if(this._match(v.keywords.enable)){const a=this._enable_directive();return this._consume(v.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([a]),a}const n=this._attribute();if(this._check(v.keywords.var)){const a=this._global_variable_decl();return a!=null&&(a.attributes=n),this._consume(v.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([a]),a}if(this._check(v.keywords.override)){const a=this._override_variable_decl();return a!=null&&(a.attributes=n),this._consume(v.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([a]),a}if(this._check(v.keywords.let)){const a=this._global_let_decl();return a!=null&&(a.attributes=n),this._consume(v.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([a]),a}if(this._check(v.keywords.const)){const a=this._global_const_decl();return a!=null&&(a.attributes=n),this._consume(v.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([a]),a}if(this._check(v.keywords.struct)){const a=this._struct_decl();return a!=null&&(a.attributes=n),this._exec.reflection.updateAST([a]),a}if(this._check(v.keywords.fn)){const a=this._function_decl();return a!=null&&(a.attributes=n),this._exec.reflection.updateAST([a]),a}return null}_function_decl(){if(!this._match(v.keywords.fn))return null;const n=this._currentLine,a=this._consume(v.tokens.ident,"Expected function name.").toString();this._consume(v.tokens.paren_left,"Expected '(' for function arguments.");const s=[];if(!this._check(v.tokens.paren_right))do{if(this._check(v.tokens.paren_right))break;const f=this._attribute(),m=this._consume(v.tokens.name,"Expected argument name.").toString();this._consume(v.tokens.colon,"Expected ':' for argument type.");const p=this._attribute(),g=this._type_decl();g!=null&&(g.attributes=p,s.push(this._updateNode(new Um(m,g,f))))}while(this._match(v.tokens.comma));this._consume(v.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(v.tokens.arrow)){const f=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=f)}const u=this._compound_statement(),h=this._currentLine;return this._updateNode(new Ds(a,s,i,u,n,h),n)}_compound_statement(){const n=[];for(this._consume(v.tokens.brace_left,"Expected '{' for block.");!this._check(v.tokens.brace_right);){const a=this._statement();a!==null&&n.push(a)}return this._consume(v.tokens.brace_right,"Expected '}' for block."),n}_statement(){for(;this._match(v.tokens.semicolon)&&!this._isAtEnd(););if(this._check(v.tokens.attr)&&this._attribute(),this._check(v.keywords.if))return this._if_statement();if(this._check(v.keywords.switch))return this._switch_statement();if(this._check(v.keywords.loop))return this._loop_statement();if(this._check(v.keywords.for))return this._for_statement();if(this._check(v.keywords.while))return this._while_statement();if(this._check(v.keywords.continuing))return this._continuing_statement();if(this._check(v.keywords.static_assert))return this._static_assert_statement();if(this._check(v.tokens.brace_left))return this._compound_statement();let n=null;if(this._check(v.keywords.return))n=this._return_statement();else if(this._check([v.keywords.var,v.keywords.let,v.keywords.const]))n=this._variable_statement();else if(this._match(v.keywords.discard))n=this._updateNode(new rb);else if(this._match(v.keywords.break)){const a=this._updateNode(new gp);if(this._currentLoop.length>0){const s=this._currentLoop[this._currentLoop.length-1];a.loopId=s.id}n=a,this._check(v.keywords.if)&&(this._advance(),a.condition=this._optional_paren_expression())}else if(this._match(v.keywords.continue)){const a=this._updateNode(new _p);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${a.line}`);{const s=this._currentLoop[this._currentLoop.length-1];a.loopId=s.id}n=a}else n=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return n!=null&&this._consume(v.tokens.semicolon,"Expected ';' after statement."),n}_static_assert_statement(){if(!this._match(v.keywords.static_assert))return null;const n=this._currentLine,a=this._optional_paren_expression();return this._updateNode(new tb(a),n)}_while_statement(){if(!this._match(v.keywords.while))return null;const n=this._updateNode(new ip(null,null));return this._currentLoop.push(n),n.condition=this._optional_paren_expression(),this._check(v.tokens.attr)&&this._attribute(),n.body=this._compound_statement(),this._currentLoop.pop(),n}_continuing_statement(){const n=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(v.keywords.continuing))return null;const a=this._currentLine,s=this._compound_statement();return this._updateNode(new Ju(s,n),a)}_for_statement(){if(!this._match(v.keywords.for))return null;this._consume(v.tokens.paren_left,"Expected '('.");const n=this._updateNode(new op(null,null,null,null));return this._currentLoop.push(n),n.init=this._check(v.tokens.semicolon)?null:this._for_init(),this._consume(v.tokens.semicolon,"Expected ';'."),n.condition=this._check(v.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(v.tokens.semicolon,"Expected ';'."),n.increment=this._check(v.tokens.paren_right)?null:this._for_increment(),this._consume(v.tokens.paren_right,"Expected ')'."),this._check(v.tokens.attr)&&this._attribute(),n.body=this._compound_statement(),this._currentLoop.pop(),n}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(v.keywords.var)){const n=this._variable_decl();if(n===null)throw this._error(this._peek(),"Variable declaration expected.");let a=null;return this._match(v.tokens.equal)&&(a=this._short_circuit_or_expression()),this._updateNode(new Bn(n.name,n.type,n.storage,n.access,a),n.line)}if(this._match(v.keywords.let)){const n=this._currentLine,a=this._consume(v.tokens.name,"Expected name for let.").toString();let s=null;if(this._match(v.tokens.colon)){const u=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=u)}this._consume(v.tokens.equal,"Expected '=' for let.");const i=this._short_circuit_or_expression();return this._updateNode(new As(a,s,null,null,i),n)}if(this._match(v.keywords.const)){const n=this._currentLine,a=this._consume(v.tokens.name,"Expected name for const.").toString();let s=null;if(this._match(v.tokens.colon)){const u=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=u)}this._consume(v.tokens.equal,"Expected '=' for const.");const i=this._short_circuit_or_expression();return s===null&&i instanceof et&&(s=i.type),this._updateNode(new Wl(a,s,null,null,i),n)}return null}_increment_decrement_statement(){const n=this._current,a=this._unary_expression();if(a==null)return null;if(!this._check(v.increment_operators))return this._current=n,null;const s=this._consume(v.increment_operators,"Expected increment operator");return this._updateNode(new up(s.type===v.tokens.plus_plus?wr.increment:wr.decrement,a))}_assignment_statement(){let n=null;const a=this._currentLine;if(this._check(v.tokens.brace_right))return null;let s=this._match(v.tokens.underscore);if(s||(n=this._unary_expression()),!s&&n==null)return null;const i=this._consume(v.assignment_operators,"Expected assignment operator."),u=this._short_circuit_or_expression();return this._updateNode(new cp(ks.parse(i.lexeme),n,u),a)}_func_call_statement(){if(!this._check(v.tokens.ident))return null;const n=this._currentLine,a=this._current,s=this._consume(v.tokens.ident,"Expected function name."),i=this._argument_expression_list();return i===null?(this._current=a,null):this._updateNode(new rc(s.lexeme,i),n)}_loop_statement(){if(!this._match(v.keywords.loop))return null;this._check(v.tokens.attr)&&this._attribute(),this._consume(v.tokens.brace_left,"Expected '{' for loop.");const n=this._updateNode(new fp([],null));this._currentLoop.push(n);let a=this._statement();for(;a!==null;){if(Array.isArray(a))for(let s of a)n.body.push(s);else n.body.push(a);if(a instanceof Ju){n.continuing=a;break}a=this._statement()}return this._currentLoop.pop(),this._consume(v.tokens.brace_right,"Expected '}' for loop."),n}_switch_statement(){if(!this._match(v.keywords.switch))return null;const n=this._updateNode(new hp(null,[]));if(this._currentLoop.push(n),n.condition=this._optional_paren_expression(),this._check(v.tokens.attr)&&this._attribute(),this._consume(v.tokens.brace_left,"Expected '{' for switch."),n.cases=this._switch_body(),n.cases==null||n.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(v.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),n}_switch_body(){const n=[];let a=!1;for(;this._check([v.keywords.default,v.keywords.case]);){if(this._match(v.keywords.case)){const s=this._case_selectors();for(const u of s)if(u instanceof ei){if(a)throw this._error(this._previous(),"Multiple default cases in switch statement.");a=!0;break}this._match(v.tokens.colon),this._check(v.tokens.attr)&&this._attribute(),this._consume(v.tokens.brace_left,"Exected '{' for switch case.");const i=this._case_body();this._consume(v.tokens.brace_right,"Exected '}' for switch case."),n.push(this._updateNode(new wp(s,i)))}if(this._match(v.keywords.default)){if(a)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(v.tokens.colon),this._check(v.tokens.attr)&&this._attribute(),this._consume(v.tokens.brace_left,"Exected '{' for switch default.");const s=this._case_body();this._consume(v.tokens.brace_right,"Exected '}' for switch default."),n.push(this._updateNode(new kp(s)))}}return n}_case_selectors(){const n=[];for(this._match(v.keywords.default)?n.push(this._updateNode(new ei)):n.push(this._shift_expression());this._match(v.tokens.comma);)this._match(v.keywords.default)?n.push(this._updateNode(new ei)):n.push(this._shift_expression());return n}_case_body(){if(this._match(v.keywords.fallthrough))return this._consume(v.tokens.semicolon,"Expected ';'"),[];let n=this._statement();if(n==null)return[];n instanceof Array||(n=[n]);const a=this._case_body();return a.length==0?n:[...n,a[0]]}_if_statement(){if(!this._match(v.keywords.if))return null;const n=this._currentLine,a=this._optional_paren_expression();this._check(v.tokens.attr)&&this._attribute();const s=this._compound_statement();let i=[];this._match_elseif()&&(this._check(v.tokens.attr)&&this._attribute(),i=this._elseif_statement(i));let u=null;return this._match(v.keywords.else)&&(this._check(v.tokens.attr)&&this._attribute(),u=this._compound_statement()),this._updateNode(new dp(a,s,i,u),n)}_match_elseif(){return this._tokens[this._current].type===v.keywords.else&&this._tokens[this._current+1].type===v.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(n=[]){const a=this._optional_paren_expression(),s=this._compound_statement();return n.push(this._updateNode(new sb(a,s))),this._match_elseif()&&(this._check(v.tokens.attr)&&this._attribute(),this._elseif_statement(n)),n}_return_statement(){if(!this._match(v.keywords.return))return null;const n=this._short_circuit_or_expression();return this._updateNode(new mp(n))}_short_circuit_or_expression(){let n=this._short_circuit_and_expr();for(;this._match(v.tokens.or_or);)n=this._updateNode(new nn(this._previous().toString(),n,this._short_circuit_and_expr()));return n}_short_circuit_and_expr(){let n=this._inclusive_or_expression();for(;this._match(v.tokens.and_and);)n=this._updateNode(new nn(this._previous().toString(),n,this._inclusive_or_expression()));return n}_inclusive_or_expression(){let n=this._exclusive_or_expression();for(;this._match(v.tokens.or);)n=this._updateNode(new nn(this._previous().toString(),n,this._exclusive_or_expression()));return n}_exclusive_or_expression(){let n=this._and_expression();for(;this._match(v.tokens.xor);)n=this._updateNode(new nn(this._previous().toString(),n,this._and_expression()));return n}_and_expression(){let n=this._equality_expression();for(;this._match(v.tokens.and);)n=this._updateNode(new nn(this._previous().toString(),n,this._equality_expression()));return n}_equality_expression(){const n=this._relational_expression();return this._match([v.tokens.equal_equal,v.tokens.not_equal])?this._updateNode(new nn(this._previous().toString(),n,this._relational_expression())):n}_relational_expression(){let n=this._shift_expression();for(;this._match([v.tokens.less_than,v.tokens.greater_than,v.tokens.less_than_equal,v.tokens.greater_than_equal]);)n=this._updateNode(new nn(this._previous().toString(),n,this._shift_expression()));return n}_shift_expression(){let n=this._additive_expression();for(;this._match([v.tokens.shift_left,v.tokens.shift_right]);)n=this._updateNode(new nn(this._previous().toString(),n,this._additive_expression()));return n}_additive_expression(){let n=this._multiplicative_expression();for(;this._match([v.tokens.plus,v.tokens.minus]);)n=this._updateNode(new nn(this._previous().toString(),n,this._multiplicative_expression()));return n}_multiplicative_expression(){let n=this._unary_expression();for(;this._match([v.tokens.star,v.tokens.forward_slash,v.tokens.modulo]);)n=this._updateNode(new nn(this._previous().toString(),n,this._unary_expression()));return n}_unary_expression(){return this._match([v.tokens.minus,v.tokens.bang,v.tokens.tilde,v.tokens.star,v.tokens.and])?this._updateNode(new We(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const n=this._primary_expression(),a=this._postfix_expression();return a&&(n.postfix=a),n}_postfix_expression(){if(this._match(v.tokens.bracket_left)){const n=this._short_circuit_or_expression();this._consume(v.tokens.bracket_right,"Expected ']'.");const a=this._updateNode(new kr(n)),s=this._postfix_expression();return s&&(a.postfix=s),a}if(this._match(v.tokens.period)){const n=this._consume(v.tokens.name,"Expected member name."),a=this._postfix_expression(),s=this._updateNode(new Ia(n.lexeme));return a&&(s.postfix=a),s}return null}_getStruct(n){return this._context.aliases.has(n)?this._context.aliases.get(n).type:this._context.structs.has(n)?this._context.structs.get(n):null}_getType(n){const a=this._getStruct(n);if(a!==null)return a;switch(n){case"void":return q.void;case"bool":return q.bool;case"i32":return q.i32;case"u32":return q.u32;case"f32":return q.f32;case"f16":return q.f16;case"vec2f":return z.vec2f;case"vec3f":return z.vec3f;case"vec4f":return z.vec4f;case"vec2i":return z.vec2i;case"vec3i":return z.vec3i;case"vec4i":return z.vec4i;case"vec2u":return z.vec2u;case"vec3u":return z.vec3u;case"vec4u":return z.vec4u;case"vec2h":return z.vec2h;case"vec3h":return z.vec3h;case"vec4h":return z.vec4h;case"mat2x2f":return z.mat2x2f;case"mat2x3f":return z.mat2x3f;case"mat2x4f":return z.mat2x4f;case"mat3x2f":return z.mat3x2f;case"mat3x3f":return z.mat3x3f;case"mat3x4f":return z.mat3x4f;case"mat4x2f":return z.mat4x2f;case"mat4x3f":return z.mat4x3f;case"mat4x4f":return z.mat4x4f;case"mat2x2h":return z.mat2x2h;case"mat2x3h":return z.mat2x3h;case"mat2x4h":return z.mat2x4h;case"mat3x2h":return z.mat3x2h;case"mat3x3h":return z.mat3x3h;case"mat3x4h":return z.mat3x4h;case"mat4x2h":return z.mat4x2h;case"mat4x3h":return z.mat4x3h;case"mat4x4h":return z.mat4x4h;case"mat2x2i":return z.mat2x2i;case"mat2x3i":return z.mat2x3i;case"mat2x4i":return z.mat2x4i;case"mat3x2i":return z.mat3x2i;case"mat3x3i":return z.mat3x3i;case"mat3x4i":return z.mat3x4i;case"mat4x2i":return z.mat4x2i;case"mat4x3i":return z.mat4x3i;case"mat4x4i":return z.mat4x4i;case"mat2x2u":return z.mat2x2u;case"mat2x3u":return z.mat2x3u;case"mat2x4u":return z.mat2x4u;case"mat3x2u":return z.mat3x2u;case"mat3x3u":return z.mat3x3u;case"mat3x4u":return z.mat3x4u;case"mat4x2u":return z.mat4x2u;case"mat4x3u":return z.mat4x3u;case"mat4x4u":return z.mat4x4u}return null}_validateTypeRange(n,a){if(a.name==="i32"){if(n<-2147483648||n>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${n}. Line: ${this._currentLine}.`)}else if(a.name==="u32"&&(n<0||n>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${n}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(v.tokens.ident)){const s=this._previous().toString();if(this._check(v.tokens.paren_left)){const i=this._argument_expression_list(),u=this._getType(s);return u!==null?this._updateNode(new cn(u,i)):this._updateNode(new lc(s,i))}if(this._context.constants.has(s)){const i=this._context.constants.get(s);return this._updateNode(new yp(s,i.value))}return this._updateNode(new Ut(s))}if(this._match(v.tokens.int_literal)){const s=this._previous().toString();let i=s.endsWith("i")||s.endsWith("i")?q.i32:s.endsWith("u")||s.endsWith("U")?q.u32:q.x32;const u=parseInt(s);return this._validateTypeRange(u,i),this._updateNode(new et(new A(u,this._exec.getTypeInfo(i)),i))}if(this._match(v.tokens.uint_literal)){const s=parseInt(this._previous().toString());return this._validateTypeRange(s,q.u32),this._updateNode(new et(new A(s,this._exec.getTypeInfo(q.u32)),q.u32))}if(this._match([v.tokens.decimal_float_literal,v.tokens.hex_float_literal])){let s=this._previous().toString(),i=s.endsWith("h");i&&(s=s.substring(0,s.length-1));const u=parseFloat(s);this._validateTypeRange(u,i?q.f16:q.f32);const h=i?q.f16:q.f32;return this._updateNode(new et(new A(u,this._exec.getTypeInfo(h)),h))}if(this._match([v.keywords.true,v.keywords.false])){let s=this._previous().toString()===v.keywords.true.rule;return this._updateNode(new et(new A(s?1:0,this._exec.getTypeInfo(q.bool)),q.bool))}if(this._check(v.tokens.paren_left))return this._paren_expression();if(this._match(v.keywords.bitcast)){this._consume(v.tokens.less_than,"Expected '<'.");const s=this._type_decl();this._consume(v.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return this._updateNode(new bp(s,i))}const n=this._type_decl(),a=this._argument_expression_list();return this._updateNode(new cn(n,a))}_argument_expression_list(){if(!this._match(v.tokens.paren_left))return null;const n=[];do{if(this._check(v.tokens.paren_right))break;const a=this._short_circuit_or_expression();n.push(a)}while(this._match(v.tokens.comma));return this._consume(v.tokens.paren_right,"Expected ')' for agument list"),n}_optional_paren_expression(){this._match(v.tokens.paren_left);const n=this._short_circuit_or_expression();return this._match(v.tokens.paren_right),n}_paren_expression(){this._consume(v.tokens.paren_left,"Expected '('.");const n=this._short_circuit_or_expression();return this._consume(v.tokens.paren_right,"Expected ')'."),n}_struct_decl(){if(!this._match(v.keywords.struct))return null;const n=this._currentLine,a=this._consume(v.tokens.ident,"Expected name for struct.").toString();this._consume(v.tokens.brace_left,"Expected '{' for struct body.");const s=[];for(;!this._check(v.tokens.brace_right);){const h=this._attribute(),f=this._consume(v.tokens.name,"Expected variable name.").toString();this._consume(v.tokens.colon,"Expected ':' for struct member type.");const m=this._attribute(),p=this._type_decl();p!=null&&(p.attributes=m),this._check(v.tokens.brace_right)?this._match(v.tokens.comma):this._consume(v.tokens.comma,"Expected ',' for struct member."),s.push(this._updateNode(new Nm(f,p,h)))}this._consume(v.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,u=this._updateNode(new Mn(a,s,n,i),n);return this._context.structs.set(a,u),u}_global_variable_decl(){const n=this._variable_decl();if(!n)return null;if(this._match(v.tokens.equal)){const a=this._const_expression();n.value=a}if(n.type!==null&&n.value instanceof et){if(n.value.type.name!=="x32"&&n.type.getTypeName()!==n.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${n.value.type.name} to ${n.type.name}. Line:${this._currentLine}`);n.value.isScalar&&this._validateTypeRange(n.value.scalarValue,n.type),n.value.type=n.type}else n.type===null&&n.value instanceof et&&(n.type=n.value.type.name==="x32"?q.i32:n.value.type,n.value.isScalar&&this._validateTypeRange(n.value.scalarValue,n.type));return n}_override_variable_decl(){const n=this._override_decl();return n&&this._match(v.tokens.equal)&&(n.value=this._const_expression()),n}_global_const_decl(){var n;if(!this._match(v.keywords.const))return null;const a=this._consume(v.tokens.name,"Expected variable name"),s=this._currentLine;let i=null;if(this._match(v.tokens.colon)){const m=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=m)}let u=null;this._consume(v.tokens.equal,"const declarations require an assignment");const h=this._short_circuit_or_expression();try{let m=[q.f32],p=h.constEvaluate(this._exec,m);p instanceof A&&this._validateTypeRange(p.value,m[0]),m[0]instanceof z&&m[0].format===null&&p.typeInfo instanceof Ba&&p.typeInfo.format!==null&&(p.typeInfo.format.name==="f16"?m[0].format=q.f16:p.typeInfo.format.name==="f32"?m[0].format=q.f32:p.typeInfo.format.name==="i32"?m[0].format=q.i32:p.typeInfo.format.name==="u32"?m[0].format=q.u32:p.typeInfo.format.name==="bool"?m[0].format=q.bool:console.error(`TODO: impelement template format type ${p.typeInfo.format.name}`)),u=this._updateNode(new et(p,m[0])),this._exec.context.setVariable(a.toString(),p)}catch{u=h}if(i!==null&&u instanceof et){if(u.type.name!=="x32"&&i.getTypeName()!==u.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${u.type.name} to ${i.name}. Line:${this._currentLine}`);u.type=i,u.isScalar&&this._validateTypeRange(u.scalarValue,u.type)}else i===null&&u instanceof et&&(i=(n=u?.type)!==null&&n!==void 0?n:q.f32,i===q.x32&&(i=q.i32));const f=this._updateNode(new Wl(a.toString(),i,"","",u),s);return this._context.constants.set(f.name,f),f}_global_let_decl(){if(!this._match(v.keywords.let))return null;const n=this._currentLine,a=this._consume(v.tokens.name,"Expected variable name");let s=null;if(this._match(v.tokens.colon)){const u=this._attribute();s=this._type_decl(),s!=null&&(s.attributes=u)}let i=null;if(this._match(v.tokens.equal)&&(i=this._const_expression()),s!==null&&i instanceof et){if(i.type.name!=="x32"&&s.getTypeName()!==i.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${i.type.name} to ${s.name}. Line:${this._currentLine}`);i.type=s}else s===null&&i instanceof et&&(s=i.type.name==="x32"?q.i32:i.type);return i instanceof et&&i.isScalar&&this._validateTypeRange(i.scalarValue,s),this._updateNode(new As(a.toString(),s,"","",i),n)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(v.keywords.var))return null;const n=this._currentLine;let a="",s="";this._match(v.tokens.less_than)&&(a=this._consume(v.storage_class,"Expected storage_class.").toString(),this._match(v.tokens.comma)&&(s=this._consume(v.access_mode,"Expected access_mode.").toString()),this._consume(v.tokens.greater_than,"Expected '>'."));const i=this._consume(v.tokens.name,"Expected variable name");let u=null;if(this._match(v.tokens.colon)){const h=this._attribute();u=this._type_decl(),u!=null&&(u.attributes=h)}return this._updateNode(new Bn(i.toString(),u,a,s,null),n)}_override_decl(){if(!this._match(v.keywords.override))return null;const n=this._consume(v.tokens.name,"Expected variable name");let a=null;if(this._match(v.tokens.colon)){const s=this._attribute();a=this._type_decl(),a!=null&&(a.attributes=s)}return this._updateNode(new ac(n.toString(),a,null))}_diagnostic(){this._consume(v.tokens.paren_left,"Expected '('");const n=this._consume(v.tokens.ident,"Expected severity control name.");this._consume(v.tokens.comma,"Expected ','");let a=this._consume(v.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(v.tokens.period)&&(a+=`.${this._consume(v.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(v.tokens.paren_right,"Expected ')'"),this._updateNode(new pp(n.toString(),a))}_enable_directive(){const n=this._consume(v.tokens.ident,"identity expected.");return this._updateNode(new nb(n.toString()))}_requires_directive(){const n=[this._consume(v.tokens.ident,"identity expected.").toString()];for(;this._match(v.tokens.comma);){const a=this._consume(v.tokens.ident,"identity expected.");n.push(a.toString())}return this._updateNode(new ab(n))}_type_alias(){const n=this._consume(v.tokens.ident,"identity expected.");this._consume(v.tokens.equal,"Expected '=' for type alias.");let a=this._type_decl();if(a===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(a.name)&&(a=this._context.aliases.get(a.name).type);const s=this._updateNode(new sc(n.toString(),a));return this._context.aliases.set(s.name,s),s}_type_decl(){if(this._check([v.tokens.ident,...v.texel_format,v.keywords.bool,v.keywords.f32,v.keywords.i32,v.keywords.u32])){const s=this._advance().toString();if(this._context.structs.has(s))return this._context.structs.get(s);if(this._context.aliases.has(s))return this._context.aliases.get(s).type;if(!this._getType(s)){const i=this._updateNode(new Im(s));return this._forwardTypeCount++,i}return this._updateNode(new q(s))}let n=this._texture_sampler_types();if(n)return n;if(this._check(v.template_types)){let s=this._advance().toString(),i=null,u=null;return this._match(v.tokens.less_than)&&(i=this._type_decl(),u=null,this._match(v.tokens.comma)&&(u=this._consume(v.access_mode,"Expected access_mode for pointer").toString()),this._consume(v.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new z(s,i,u))}if(this._match(v.keywords.ptr)){let s=this._previous().toString();this._consume(v.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(v.storage_class,"Expected storage_class for pointer");this._consume(v.tokens.comma,"Expected ',' for pointer.");const u=this._type_decl();let h=null;return this._match(v.tokens.comma)&&(h=this._consume(v.access_mode,"Expected access_mode for pointer").toString()),this._consume(v.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new Pl(s,i.toString(),u,h))}const a=this._attribute();if(this._match(v.keywords.array)){let s=null,i=-1;const u=this._previous();let h=null;if(this._match(v.tokens.less_than)){s=this._type_decl(),this._context.aliases.has(s.name)&&(s=this._context.aliases.get(s.name).type);let m="";if(this._match(v.tokens.comma)){h=this._shift_expression();try{m=h.constEvaluate(this._exec).toString(),h=null}catch{m="1"}}this._consume(v.tokens.greater_than,"Expected '>' for array."),i=m?parseInt(m):0}const f=this._updateNode(new Es(u.toString(),a,s,i));return h&&this._deferArrayCountEval.push({arrayType:f,countNode:h}),f}return null}_texture_sampler_types(){if(this._match(v.sampler_type))return this._updateNode(new Ss(this._previous().toString(),null,null));if(this._match(v.depth_texture_type))return this._updateNode(new Ss(this._previous().toString(),null,null));if(this._match(v.sampled_texture_type)||this._match(v.multisampled_texture_type)){const n=this._previous();this._consume(v.tokens.less_than,"Expected '<' for sampler type.");const a=this._type_decl();return this._consume(v.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Ss(n.toString(),a,null))}if(this._match(v.storage_texture_type)){const n=this._previous();this._consume(v.tokens.less_than,"Expected '<' for sampler type.");const a=this._consume(v.texel_format,"Invalid texel format.").toString();this._consume(v.tokens.comma,"Expected ',' after texel format.");const s=this._consume(v.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(v.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Ss(n.toString(),a,s))}return null}_attribute(){let n=[];for(;this._match(v.tokens.attr);){const a=this._consume(v.attribute_name,"Expected attribute name"),s=this._updateNode(new Sp(a.toString(),null));if(this._match(v.tokens.paren_left)){if(s.value=this._consume(v.literal_or_ident,"Expected attribute value").toString(),this._check(v.tokens.comma)){this._advance();do{const i=this._consume(v.literal_or_ident,"Expected attribute value").toString();s.value instanceof Array||(s.value=[s.value]),s.value.push(i)}while(this._match(v.tokens.comma))}this._consume(v.tokens.paren_right,"Expected ')'")}n.push(s)}return n.length==0?null:n}}class bb extends fn{constructor(n){super(),n&&this.update(n)}update(n){const a=new yb().parse(n);this.updateAST(a)}}function vr(d,n){return Object.fromEntries(n.map(a=>{const s=Tb(d,a,0);return[a.name,{typeDefinition:s,group:a.group,binding:a.binding,size:s.size}]}))}function Tp(d,n,a){return{fields:Object.fromEntries(n.members.map(i=>[i.name,{offset:i.offset,type:fc(d,i.type,0)}])),size:n.size,offset:a}}function vb(d){if(d.name.includes("depth"))return"depth";switch(d.format?.name){case"f32":return"float";case"i32":return"sint";case"u32":return"uint";default:throw new Error("unknown texture sample type")}}function Rm(d){return d.name.includes("2d_array")?"2d-array":d.name.includes("cube_array")?"cube-array":d.name.includes("3d")?"3d":d.name.includes("1d")?"1d":d.name.includes("cube")?"cube":"2d"}function xb(d){switch(d.access){case"read":return"read-only";case"write":return"write-only";case"read_write":return"read-write";default:throw new Error("unknonw storage texture access")}}function wb(d){return d.name.endsWith("_comparison")?"comparison":"filtering"}function kb(d,n){const{binding:a,access:s,type:i}=d;switch(d.resourceType){case at.Uniform:return{binding:a,visibility:n,buffer:{...d.size&&{minBindingSize:d.size}}};case at.Storage:return{binding:a,visibility:n,buffer:{type:s===""||s==="read"?"read-only-storage":"storage",...d.size&&{minBindingSize:d.size}}};case at.Texture:{if(i.name==="texture_external")return{binding:a,visibility:n,externalTexture:{}};const u=i.name.includes("multisampled");return{binding:a,visibility:n,texture:{sampleType:vb(i),viewDimension:Rm(i),multisampled:u}}}case at.Sampler:return{binding:a,visibility:n,sampler:{type:wb(i)}};case at.StorageTexture:return{binding:a,visibility:n,storageTexture:{access:xb(i),format:i.format.name,viewDimension:Rm(i)}};default:throw new Error("unknown resource type")}}function qu(d,n){const a={};for(const s of d)a[s.name]={stage:n,resources:s.resources.map(i=>{const{name:u,group:h}=i;return{name:u,group:h,entry:kb(i,n)}})};return a}function Sb(d){const n=new bb(d),a=Object.fromEntries(n.structs.map(g=>[g.name,Tp(n,g,0)])),s=vr(n,n.uniforms),i=vr(n,n.storage.filter(g=>g.resourceType===at.Storage)),u=vr(n,n.storage.filter(g=>g.resourceType===at.StorageTexture)),h=vr(n,n.textures.filter(g=>g.type.name!=="texture_external")),f=vr(n,n.textures.filter(g=>g.type.name==="texture_external")),m=vr(n,n.samplers),p={...qu(n.entry.vertex,GPUShaderStage.VERTEX),...qu(n.entry.fragment,GPUShaderStage.FRAGMENT),...qu(n.entry.compute,GPUShaderStage.COMPUTE)};return{externalTextures:f,samplers:m,structs:a,storages:i,storageTextures:u,textures:h,uniforms:s,entryPoints:p}}function Hu(d,n=""){if(!d)throw new Error(n)}function Tb(d,n,a){switch(n.resourceType){case at.Uniform:case at.Storage:case at.StorageTexture:return fc(d,n.type,a);default:return{size:0,type:n.type.name}}}function fc(d,n,a){if(n.isArray){Hu(!n.isStruct,"struct array is invalid"),Hu(!n.isStruct,"template array is invalid");const s=n;return{size:s.size,elementType:fc(d,s.format,a),numElements:s.count}}else{if(n.isStruct)return Hu(!n.isTemplate,"template struct is invalid"),Tp(d,n,a);{const s=n,i=n.isTemplate?`${s.name}<${s.format.name}>`:n.name;return{size:n.size,type:i}}}}function hc(d,n){switch(d){case"1d":return"1d";case"3d":return"3d";default:return n>1?"2d-array":"2d"}}function Ab(d){return[d.width,d.height||1,d.depthOrArrayLayers||1]}function Eb(d){return Array.isArray(d)||ua(d)?[...d,1,1].slice(0,3):Ab(d)}function Db(d,n){const a=Eb(d),s=Math.max(...a.slice(0,2));return 1+Math.log2(s)|0}const qm=new WeakMap;function Cb(d,n,a){let s=qm.get(d);s||(s={pipelineByFormatAndViewDimension:{},moduleByViewDimension:{}},qm.set(d,s));let{sampler:i,module:u}=s;const{pipelineByFormatAndViewDimension:h}=s;a=d.features.has("core-features-and-limits")?"2d-array":a??hc(n.dimension,n.depthOrArrayLayers),u||(u=d.createShaderModule({label:`mip level generation for ${a}`,code:`
        const faceMat = array(
          mat3x3f( 0,  0,  -2,  0, -2,   0,  1,  1,   1),   // pos-x
          mat3x3f( 0,  0,   2,  0, -2,   0, -1,  1,  -1),   // neg-x
          mat3x3f( 2,  0,   0,  0,  0,   2, -1,  1,  -1),   // pos-y
          mat3x3f( 2,  0,   0,  0,  0,  -2, -1, -1,   1),   // neg-y
          mat3x3f( 2,  0,   0,  0, -2,   0, -1,  1,   1),   // pos-z
          mat3x3f(-2,  0,   0,  0, -2,   0,  1,  1,  -1));  // neg-z

        struct VSOutput {
          @builtin(position) position: vec4f,
          @location(0) texcoord: vec2f,
          @location(1) @interpolate(flat, either) baseArrayLayer: u32,
        };

        @vertex fn vs(
          @builtin(vertex_index) vertexIndex : u32,
          @builtin(instance_index) baseArrayLayer: u32,
        ) -> VSOutput {
          var pos = array<vec2f, 3>(
            vec2f(-1.0, -1.0),
            vec2f(-1.0,  3.0),
            vec2f( 3.0, -1.0),
          );

          var vsOutput: VSOutput;
          let xy = pos[vertexIndex];
          vsOutput.position = vec4f(xy, 0.0, 1.0);
          vsOutput.texcoord = xy * vec2f(0.5, -0.5) + vec2f(0.5);
          vsOutput.baseArrayLayer = baseArrayLayer;
          return vsOutput;
        }

        @group(0) @binding(0) var ourSampler: sampler;

        @group(0) @binding(1) var ourTexture2d: texture_2d<f32>;
        @fragment fn fs2d(fsInput: VSOutput) -> @location(0) vec4f {
          return textureSample(ourTexture2d, ourSampler, fsInput.texcoord);
        }

        @group(0) @binding(1) var ourTexture2dArray: texture_2d_array<f32>;
        @fragment fn fs2darray(fsInput: VSOutput) -> @location(0) vec4f {
          return textureSample(
            ourTexture2dArray,
            ourSampler,
            fsInput.texcoord,
            fsInput.baseArrayLayer);
        }

        @group(0) @binding(1) var ourTextureCube: texture_cube<f32>;
        @fragment fn fscube(fsInput: VSOutput) -> @location(0) vec4f {
          return textureSample(
            ourTextureCube,
            ourSampler,
            faceMat[fsInput.baseArrayLayer] * vec3f(fract(fsInput.texcoord), 1));
        }

        @group(0) @binding(1) var ourTextureCubeArray: texture_cube_array<f32>;
        @fragment fn fscubearray(fsInput: VSOutput) -> @location(0) vec4f {
          return textureSample(
            ourTextureCubeArray,
            ourSampler,
            faceMat[fsInput.baseArrayLayer] * vec3f(fract(fsInput.texcoord), 1), fsInput.baseArrayLayer);
        }
      `}),i=d.createSampler({minFilter:"linear",magFilter:"linear"}),Object.assign(s,{sampler:i,module:u}));const f=`${n.format}.${a}`;if(!h[f]){const y=`fs${a.replace(/[\W]/,"")}`;h[f]=d.createRenderPipeline({label:`mip level generator pipeline for ${a}`,layout:"auto",vertex:{module:u},fragment:{module:u,entryPoint:y,targets:[{format:n.format}]}})}const m=h[f],p=d.createCommandEncoder({label:"mip gen encoder"});for(let y=1;y<n.mipLevelCount;++y)for(let k=0;k<n.depthOrArrayLayers;++k){const O=d.createBindGroup({layout:m.getBindGroupLayout(0),entries:[{binding:0,resource:i},{binding:1,resource:n.createView({dimension:a,baseMipLevel:y-1,mipLevelCount:1})}]}),j={label:"mip gen renderPass",colorAttachments:[{view:n.createView({dimension:"2d",baseMipLevel:y,mipLevelCount:1,baseArrayLayer:k,arrayLayerCount:1}),loadOp:"clear",storeOp:"store"}]},F=p.beginRenderPass(j);F.setPipeline(m),F.setBindGroup(0,O),F.draw(3,1,0,k),F.end()}const g=p.finish();d.queue.submit([g])}const zb=new Map([[Int8Array,{formats:["sint8","snorm8"],defaultForType:1}],[Uint8Array,{formats:["uint8","unorm8"],defaultForType:1}],[Int16Array,{formats:["sint16","snorm16"],defaultForType:1}],[Uint16Array,{formats:["uint16","unorm16"],defaultForType:1}],[Int32Array,{formats:["sint32","snorm32"],defaultForType:0}],[Uint32Array,{formats:["uint32","unorm32"],defaultForType:0}],[Float16Array,{formats:["float16","float16"],defaultForType:0}],[Float32Array,{formats:["float32","float32"],defaultForType:0}]]);new Map([...zb.entries()].map(([d,{formats:[n,a]}])=>[[n,d],[a,d]]).flat());const Mb={"rgba8unorm-srgb":[1,1,4,4,Uint8Array],"bgra8unorm-srgb":[1,1,4,4,Uint8Array],rgb10a2uint:[1,1,4,1,Uint32Array],rgb10a2unorm:[1,1,4,1,Uint32Array],rg11b10ufloat:[1,1,4,1,Uint32Array],rgb9e5ufloat:[1,1,4,1,Uint32Array],stencil8:[1,1,1,1,Uint8Array],depth16unorm:[1,1,2,1,Uint16Array],depth32float:[1,1,4,1,Float32Array],"depth24plus-stencil8":[],"depth32float-stencil8":[],"bc1-rgba-unorm":[4,4,8],"bc1-rgba-unorm-srgb":[4,4,8],"bc2-rgba-unorm":[4,4,16],"bc2-rgba-unorm-srgb":[4,4,16],"bc3-rgba-unorm":[4,4,16],"bc3-rgba-unorm-srgb":[4,4,16],"bc4-r-unorm":[4,4,8],"bc4-r-snorm":[4,4,8],"bc5-rg-unorm":[4,4,16],"bc5-rg-snorm":[4,4,16],"bc6h-rgb-ufloat":[4,4,16],"bc6h-rgb-float":[4,4,16],"bc7-rgba-unorm":[4,4,16],"bc7-rgba-unorm-srgb":[4,4,16],"etc2-rgb8unorm":[4,4,8],"etc2-rgb8unorm-srgb":[4,4,8],"etc2-rgb8a1unorm":[4,4,8],"etc2-rgb8a1unorm-srgb":[4,4,8],"etc2-rgba8unorm":[4,4,16],"etc2-rgba8unorm-srgb":[4,4,16],"eac-r11unorm":[4,4,8],"eac-r11snorm":[4,4,8],"eac-rg11unorm":[4,4,16],"eac-rg11snorm":[4,4,16],"astc-4x4-unorm":[4,4,16],"astc-4x4-unorm-srgb":[4,4,16],"astc-5x4-unorm":[5,4,16],"astc-5x4-unorm-srgb":[5,4,16],"astc-5x5-unorm":[5,5,16],"astc-5x5-unorm-srgb":[5,5,16],"astc-6x5-unorm":[6,5,16],"astc-6x5-unorm-srgb":[6,5,16],"astc-6x6-unorm":[6,6,16],"astc-6x6-unorm-srgb":[6,6,16],"astc-8x5-unorm":[8,5,16],"astc-8x5-unorm-srgb":[8,5,16],"astc-8x6-unorm":[8,6,16],"astc-8x6-unorm-srgb":[8,6,16],"astc-8x8-unorm":[8,8,16],"astc-8x8-unorm-srgb":[8,8,16],"astc-10x5-unorm":[10,5,16],"astc-10x5-unorm-srgb":[10,5,16],"astc-10x6-unorm":[10,6,16],"astc-10x6-unorm-srgb":[10,6,16],"astc-10x8-unorm":[10,8,16],"astc-10x8-unorm-srgb":[10,8,16],"astc-10x10-unorm":[10,10,16],"astc-10x10-unorm-srgb":[10,10,16],"astc-12x10-unorm":[12,10,16],"astc-12x10-unorm-srgb":[12,10,16],"astc-12x12-unorm":[12,12,16],"astc-12x12-unorm-srgb":[12,12,16]},Ob={"8snorm":Int8Array,"8unorm":Uint8Array,"8sint":Int8Array,"8uint":Uint8Array,"16snorm":Int16Array,"16unorm":Uint16Array,"16sint":Int16Array,"16uint":Uint16Array,"32snorm":Int32Array,"32unorm":Uint32Array,"32sint":Int32Array,"32uint":Uint32Array,"16float":Float16Array,"32float":Float32Array},Bb=/([a-z]+)(\d+)([a-z]+)/;function fi(d){const n=Mb[d];if(n){const[p,g,y,k=1,O=Uint8Array]=n;if(y===void 0)throw new Error(`Format ${d} is not supported`);return{blockWidth:p,blockHeight:g,bytesPerBlock:y,unitsPerElement:k,Type:O}}const[,a,s,i]=Bb.exec(d),u=a.length,h=parseInt(s)/8,f=u*h,m=Ob[`${s}${i}`]??Uint8Array;return{blockWidth:1,blockHeight:1,bytesPerBlock:f,unitsPerElement:1,Type:m}}function Ib(d){const n=d;return ua(n.data)||Array.isArray(n.data)}function Ap(d){return ua(d)||Array.isArray(d)||Ib(d)}function Ub(d,n){if(ua(d))return d;const{Type:a}=fi(n);return new a(d)}function Nb(d,n,a,s="2d"){if(a%1!==0)throw new Error("can't guess dimensions");if(!d&&!n){const u=Math.sqrt(a/(s==="cube"?6:1));u%1===0?(d=u,n=u):(d=a,n=1)}else if(n){if(!d&&(d=a/n,d%1))throw new Error("can't guess dimensions")}else if(n=a/d,n%1)throw new Error("can't guess dimensions");const i=a/d/n;if(i%1)throw new Error("can't guess dimensions");return[d,n,i]}function Lb(d){switch(d){case"1d":return"1d";case"3d":return"3d";default:return"2d"}}function Vb(d,n){return[d.width,d.height,d.depthOrArrayLayers].map((a,s)=>s<3||d.dimension!=="3d"?Math.max(1,Math.floor(a/2**n)):d.depthOrArrayLayers)}function Rb(d,n,a,s){const i=Ub(a.data||a,n.format);let u=0,h=0,f=s.mipLevel??0;for(;u<i.byteLength;){const m=Vb(n,f),{blockWidth:p,blockHeight:g,bytesPerBlock:y}=fi(n.format),k=Math.ceil(m[0]/p),O=Math.ceil(m[1]/g),F=k*y*O,K=n.dimension==="3d"?m[2]:1;m[0]=k*p,m[1]=O*g,m[2]=K;const ae=qy(s.origin??[0,0,0],[0,0,h]);d.queue.writeTexture({texture:n,origin:ae,mipLevel:f},i,{bytesPerRow:y*k,rowsPerImage:O,offset:u},m);const se=m[2]*F;u+=se,++f,f===n.mipLevelCount&&(f=s.mipLevel??0,++h)}}function qb(d,n,a,s={}){let i;if(a.forEach((u,h)=>{const f=[0,0,h+(s.baseArrayLayer||0)];if(Ap(u))Rb(d,n,u,{origin:f});else{const m=u;let p=n,g=f;n.dimension==="3d"&&(i=i??d.createTexture({format:n.format,usage:n.usage|GPUTextureUsage.COPY_SRC,size:[n.width,n.height,1]}),p=i,g=[0,0,0]);const{flipY:y,premultipliedAlpha:k,colorSpace:O}=s;if(d.queue.copyExternalImageToTexture({source:m,flipY:y},{texture:p,premultipliedAlpha:k,colorSpace:O,origin:g},Ep(m,s)),i){const j=d.createCommandEncoder();j.copyTextureToTexture({texture:i},{texture:n,origin:f},i),d.queue.submit([j.finish()])}}}),i&&i.destroy(),s.mips){const u=s.viewDimension??hc(n.dimension,n.depthOrArrayLayers);Cb(d,n,u)}}function Ep(d,n){if("videoWidth"in d&&"videoHeight"in d)return[d.videoWidth,d.videoHeight,1];{const a=d;let{width:s,height:i}=a;if(s>0&&i>0&&!Ap(d))return[s,i,1];if(n.size){let y;if(Array.isArray(n.size)?[s,i,y]=n.size:(s=n.size.width,i=n.size.height,y=n.size.depthOrArrayLayers),s>0&&i>0)return Ry([s,i,y])}const u=n.format||"rgba8unorm",{bytesPerBlock:h,Type:f}=fi(u),m=ua(d)||Array.isArray(d)?d:d.data,g=(ua(m)?m.byteLength:m.length*f.BYTES_PER_ELEMENT)/h;return Nb(s,i,g)}}function Hb(d,n,a={}){const s=Ep(n[0],a);s[2]=s[2]>1?s[2]:n.length;const i=a.viewDimension??hc(a.dimension,s[2]),u=Lb(i),h=a.format??"rgba8unorm",{blockWidth:f,blockHeight:m}=fi(h),p=f>1||m>1,g=d.createTexture({dimension:u,textureBindingViewDimension:i,format:h,mipLevelCount:a.mipLevelCount?a.mipLevelCount:a.mips?Db(s):1,size:s,usage:(a.usage??0)|GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|(p?0:GPUTextureUsage.RENDER_ATTACHMENT)});return qb(d,g,n,a),g}function Gb(d,n,a={}){return Hb(d,[n],a)}class jb{adapter=null;device=null;shaderCode="Shaders/OrderedDitherShader.wgsl?row";image=null;usableColorList=[];thresholdMap=[];thresholdMapSize=[0,0];async RequestToDither(n,a,s,[i,u,h]){return this.shaderCode=n,this.image=a,this.usableColorList=[],s.forEach(f=>{this.usableColorList.push(Le.Tou32Vec3(f))}),this.thresholdMap=[],h.forEach(f=>{f.forEach(m=>{this.thresholdMap.push(m)})}),this.thresholdMapSize=[i,u],await this.SetupGPU(),await this.Compile()}async SetupGPU(){if(!navigator.gpu)return new Promise((n,a)=>a(new Error("There has no GPU")));if(this.adapter=await navigator.gpu.requestAdapter(),!this.adapter)return new Promise((n,a)=>a(new Error("failed to request adapter")));if(this.device=await this.adapter.requestDevice(),!this.device)return new Promise((n,a)=>a(new Error("failed to request device")))}async Compile(){if(!this.device)return new Promise((O,j)=>j(new Error("failed to get device")));if(!this.image)return new Promise((O,j)=>j(new Error("it is not set image")));const n=this.device.createComputePipeline({layout:"auto",compute:{module:this.device.createShaderModule({code:this.shaderCode}),entryPoint:"main"}}),a=Sb(this.shaderCode),[s,i]=await this.SetupStorageBuffer(n,a,this.image);if(!i)return null;const u=this.device.createCommandEncoder(),h=u.beginComputePass();h.setPipeline(n),s.forEach((O,j)=>{h.setBindGroup(j,O)});const f=Math.ceil(this.image.width/16),m=Math.ceil(this.image.height/16);h.dispatchWorkgroups(f,m),h.end(),this.device.queue.submit([u.finish()]);const p=Ca(a.storages.outputArray,new ArrayBuffer(4*this.image.width*this.image.height)),g=this.device.createBuffer({size:p.arrayBuffer.byteLength,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),y=this.device.createCommandEncoder();y.copyBufferToBuffer(i,0,g,0),this.device.queue.submit([y.finish()]),await g.mapAsync(GPUMapMode.READ);const k=new Uint32Array(g.getMappedRange());return console.debug(k),Array.from(k)}async SetupStorageBuffer(n,a,s){if(!this.device||!this.image)return[[],null];const i=await createImageBitmap(s),u=Gb(this.device,i,{usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST,mips:!1}),h=Ca(a.uniforms.imageSize),f=this.device.createBuffer({size:h.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});h.set({width:this.image.width,height:this.image.height}),this.device.queue.writeBuffer(f,0,h.arrayBuffer);const m=Ca(a.storages.outputArray,new ArrayBuffer(4*this.image.width*this.image.height)),p=this.device.createBuffer({size:m.arrayBuffer.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST});this.device.queue.writeBuffer(p,0,m.arrayBuffer);const g=Ca(a.storages.usableColorList,new ArrayBuffer(16*this.usableColorList.length)),y=this.device.createBuffer({size:g.arrayBuffer.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});g.set(this.usableColorList),this.device.queue.writeBuffer(y,0,g.arrayBuffer);const k=Ca(a.uniforms.usableColorListNum),O=this.device.createBuffer({size:k.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});k.set(this.usableColorList.length),this.device.queue.writeBuffer(O,0,k.arrayBuffer);const j=Ca(a.storages.thresholdMap,new ArrayBuffer(4*this.thresholdMapSize[0]*this.thresholdMapSize[1])),F=this.device.createBuffer({size:j.arrayBuffer.byteLength,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST});j.set(this.thresholdMap),this.device.queue.writeBuffer(F,0,j.arrayBuffer);const K=Ca(a.uniforms.thresholdMapSize),ae=this.device.createBuffer({size:K.arrayBuffer.byteLength,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});K.set({width:this.thresholdMapSize[0],height:this.thresholdMapSize[1]}),this.device.queue.writeBuffer(ae,0,K.arrayBuffer);const se=[],Y=this.device.createBindGroup({layout:n.getBindGroupLayout(0),entries:[{binding:0,resource:u.createView()},{binding:1,resource:{buffer:f}}]});se.push(Y);const $=this.device.createBindGroup({layout:n.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:p}}]});se.push($);const Ae=this.device.createBindGroup({layout:n.getBindGroupLayout(2),entries:[{binding:0,resource:{buffer:y}},{binding:1,resource:{buffer:O}}]});se.push(Ae);const be=this.device.createBindGroup({layout:n.getBindGroupLayout(3),entries:[{binding:0,resource:{buffer:F}},{binding:1,resource:{buffer:ae}}]});return se.push(be),[se,p]}}const Yb=`// \r
\r
// \r
@group(0) @binding(0)\r
var inputTexture: texture_2d<f32>;\r
\r
// \r
struct ImageSize{\r
    width: u32,\r
    height: u32,\r
};\r
@group(0) @binding(1)\r
var<uniform> imageSize: ImageSize;\r
\r
// \r
@group(1) @binding(0)\r
var<storage, read_write> outputArray: array<u32>;\r
\r
\r
// \r
@group(2) @binding(0)\r
var<storage, read> usableColorList: array<vec3<f32>>;\r
@group(2) @binding(1)\r
var<uniform> usableColorListNum: u32;\r
\r
// \r
@group(3) @binding(0)\r
var<storage, read> thresholdMap: array<u32>;\r
struct ThresholdMapSize{\r
    width: u32,\r
    height: u32,\r
}\r
@group(3) @binding(1)\r
var<uniform> thresholdMapSize: ThresholdMapSize;\r
\r
// \r
const kNearest = 12;\r
\r
fn DistSq(a: vec3<f32>, b: vec3<f32>)->f32{\r
    let diff = a - b;\r
    return dot(diff, diff);\r
}\r
fn AddScaled(a: vec3<f32>, b: vec3<f32>, alpha: f32)-> vec3<f32> {\r
    return vec3(alpha * a.x + (1.f - alpha) * b.x,\r
	  			alpha * a.y + (1.f - alpha) * b.y,\r
	  			alpha * a.z + (1.f - alpha) * b.z\r
  				);\r
}\r
\r
\r
fn GetNearestColorId(x: u32, y: u32, baseColor: vec3<f32>)->u32 {\r
    let bestApproxPair: array<i32, 2> = FindBestApproxWithRGB(baseColor);\r
\r
    // 2(0)1\r
    return select(SelectNumByOrderedDither(x, y, baseColor, u32(bestApproxPair[0]), u32(bestApproxPair[1])), u32(bestApproxPair[0]), bestApproxPair[1] < 0);\r
}\r
fn FindBestApproxWithRGB(targetColor: vec3<f32>)->array<i32, 2> {\r
    var bestIds: array<i32, kNearest>; // targetColor12\r
    var bestDists: array<f32, kNearest>; // bestIdstarget color\r
\r
    // \r
    for (var i = 0u; i < kNearest; i = i + 1u){\r
        bestIds[i] = -1;\r
        bestDists[i] = -1;\r
    }\r
\r
    // 12\r
    for (var i = 0u; i < usableColorListNum; i = i + 1u){\r
        // \r
\r
        var maxIdx = 0u; // bestIdsID\r
        var maxDist = bestDists[0]; // bestIds\r
        for (var j = 1u; j < kNearest; j = j + 1u) {\r
            let isBigger: bool = (maxDist >= 0) && (bestDists[j] < 0 || bestDists[j] > maxDist);\r
            maxIdx = select(maxIdx, j, isBigger);\r
            maxDist = select(maxDist, bestDists[j], isBigger);\r
        }\r
\r
	  	// bestIds\r
        let d = DistSq(targetColor, usableColorList[i]);\r
        let needsUpdateBiggest: bool = (maxDist < 0 || d < maxDist);\r
\r
        bestDists[maxIdx] = select(bestDists[maxIdx], d, needsUpdateBiggest);\r
        bestIds[maxIdx] = select(bestIds[maxIdx], i32(i), needsUpdateBiggest);\r
    }\r
\r
    var bestPair: array<i32, 2> = array(0,-1);\r
    var bestPairDist: f32 = -1;\r
\r
    // kNearest\r
    for (var a = 0u; a < kNearest; a = a + 1u){\r
	  	let aId: i32 = bestIds[a];\r
	  	if(aId < 0 || i32(usableColorListNum) <= aId){\r
	  	    continue;\r
	  	}\r
        let aColor: vec3<f32> = usableColorList[aId];\r
        for (var b = 0u; b < kNearest; b = b + 1u){\r
\r
		  	let bId: i32 = bestIds[b];\r
		    if(bId < 0|| i32(usableColorListNum) <= bId){\r
                continue;\r
            }\r
            let bColor: vec3<f32> = usableColorList[bId];\r
            let diff = aColor - bColor;\r
            let isTheSameColor: bool = (aId == bId || f32(dot(diff, diff)) < 1e-6);\r
            let denom = select(f32(dot(diff, diff)), 1.f, isTheSameColor); // 0\r
\r
            // \r
            let distInSameColor = DistSq(targetColor, aColor);\r
\r
            // \r
            let alphaStar = f32(dot(targetColor - bColor, diff)) / denom;\r
            let alpha = max(0, min(1, alphaStar));\r
            let mix = AddScaled(aColor, bColor, alpha);\r
            let distInDiffColor = DistSq(targetColor, mix);\r
\r
            let dist = select(distInDiffColor, distInSameColor, isTheSameColor);\r
\r
            // \r
            let isBetter = (dist < bestPairDist || bestPairDist < 0);\r
            bestPair[0] = select(bestPair[0], i32(aId), isBetter);\r
		    bestPair[1] = select(bestPair[1], select(i32(bId), -1, isTheSameColor), isBetter);\r
            bestPairDist = select(bestPairDist, dist, isBetter);\r
        }\r
    }\r
\r
    return bestPair;\r
}\r
\r
fn SelectNumByOrderedDither(x: u32, y: u32, targetColor: vec3<f32>, aColorIdx: u32, bColorIdx: u32)->u32{\r
    if(thresholdMapSize.height * thresholdMapSize.width <= 0){\r
        return aColorIdx;\r
    }\r
    let aColor: vec3<f32> = usableColorList[aColorIdx];\r
    let bColor: vec3<f32> = usableColorList[bColorIdx];\r
\r
    let aDistance: f32 = DistSq(targetColor, aColor);\r
    let bDistance: f32 = DistSq(targetColor, bColor);\r
\r
    if ((aDistance + bDistance) <= 0) {\r
        return aColorIdx;\r
    }\r
\r
    let thresholdX = x % thresholdMapSize.width;\r
    let thresholdY = y % thresholdMapSize.height;\r
    let threshold = GetThreshold(thresholdX, thresholdY);\r
\r
    return select(bColorIdx, aColorIdx, aDistance / (aDistance + bDistance) < threshold);\r
}\r
\r
// 0-1\r
fn GetThreshold(x: u32, y: u32) -> f32{\r
    let thresholdMapIndex: u32 = y * thresholdMapSize.width + x;\r
\r
    let threshold: u32 = thresholdMap[thresholdMapIndex];\r
    let thresholdMapNum: u32 = thresholdMapSize.width * thresholdMapSize.height;\r
\r
    return f32(threshold) / f32(thresholdMapNum);\r
}\r
\r
@compute @workgroup_size(16,16)\r
fn main(\r
    @builtin(global_invocation_id) gid: vec3<u32>,\r
){\r
    let x = gid.x;\r
    let y = gid.y;\r
\r
    // \r
    if(x >= imageSize.width || y >= imageSize.height){\r
        return;\r
    }\r
    // \r
    let actualColor: vec4<f32> = textureLoad(inputTexture, vec2(x,y), 0);\r
    let color: vec3<f32> = vec3(actualColor.x * 256, actualColor.y * 256, actualColor.z * 256);\r
\r
    // \r
    outputArray[y * imageSize.width + x] = GetNearestColorId(x, y, color);\r
}\r
`;class Dp extends Ny{GetThresholdMap(){return[1,1,[[0]]]}ditherWebgpu;constructor(){super(),this.ditherWebgpu=new jb}async Convert(n){console.log("start ordered dither");const a=await this.ConvertWithWebgpu(n);return a||(console.warn(`it cannot convert with webgpu.
We would make with webworker.`),super.Convert(n))}async ConvertWithWebgpu(n){const a=n.baseImage,s=n.magnification,i=this.GetActualImageData(a,s);if(!i)return null;const u=i.width,h=i.height,f=await this.ditherWebgpu.RequestToDither(Yb,i,n.usingColors,this.GetThresholdMap());if(!f||f.length<u*h)return null;const m=new Oa;m.dimensionalMode=gy(n.bIsDimensionalMode),m.width=u,m.height=h;for(let p=0;p<h;++p){const g=[];for(let y=0;y<u;++y){const k=f[p*u+y];g.push(k)}m.map.push(g)}for(let p=0;p<n.usingColors.length;++p)m.mapToColor.set(p,n.usingColors[p]);return m}async GetNearestColorId(n,a,s){let i=this.FindBestApproxWithRGB(a,s);return i[1]<0?i[0]:this.SelectNumByOrderedDither(n[0],n[1],Le.Tou32Vec3(a),i[0],i[1],s)}SelectNumByOrderedDither(n,a,s,i,u,h){if(u<0)return i;let f=Le.Tou32Vec3(h[i]),m=Le.Tou32Vec3(h[u]),p=zn(s,f),g=zn(s,m);if(p+g<=0)return i;const[y,k,O]=this.GetThresholdMap();let j=O[a%k][n%y];return p/(p+g)<j/(k*y)?i:u}FindBestApproxWithRGB(n,a=[],s=12){let i=[],u=[];for(let m=0;m<s;m=m+1)i.push(-1),u.push(-1);for(let m=0;m<a.length;m=m+1){let p=0,g=u[0];for(let O=1;O<s;O=O+1){let j=g>=0&&(u[O]<0||u[O]>g);p=j?O:p,g=j?u[O]:g}let y=zn(Le.Tou32Vec3(n),Le.Tou32Vec3(a[m])),k=g<0||y<g;u[p]=k?y:u[p],i[p]=k?m:i[p]}let h=Array(0,-1),f=u[0];for(let m=0;m<s;m=m+1){let p=i[m];if(p<0||a.length<=p)continue;let g=Le.Tou32Vec3(a[p]);for(let y=0;y<s;y=y+1){let k=i[y];if(k<0||a.length<=k)continue;let O=Le.Tou32Vec3(a[k]),j=ws(g,O),F,K=xs(j,j)<1e-6||p==k,ae=K?1:xs(j,j);if(K)F=zn(Le.Tou32Vec3(n),g);else{let Y=xs(ws(Le.Tou32Vec3(n),O),j)/ae,$=Math.max(0,Math.min(1,Y)),Ae=Dm(g,O,$);F=zn(Le.Tou32Vec3(n),Ae)}let se=F<f;h[0]=se?p:h[0],h[1]=se?K?-1:k:h[1],f=se?F:f}}return h}FindBestApproxWithLab(n,a=[],s=12){const i=sa(n),u=a.map((m,p)=>({i:p,d:zn(i,sa(m))}));u.sort((m,p)=>m.d-p.d);const h=u.slice(0,Math.min(s,u.length)).map(m=>m.i);let f={type:"single",i:h[0],j:-1,alpha:1,dist:u[0]?u[0].d:0,dist_i:u[0]?u[0].d:0,dist_j:1/0};for(let m=0;m<h.length;m++){const p=h[m];for(let g=m+1;g<h.length;g++){const y=h[g],k=sa(a[p]),O=sa(a[y]),j=ws(k,O),F=ep(j);if(F<1e-6)continue;const K=xs(ws(i,O),j)/F,ae=Math.max(0,Math.min(1,K)),se=Dm(k,O,ae),Y=zn(i,se);Y<f.dist&&(f={type:"pair",i:p,j:y,alpha:ae,dist:Y,dist_i:zn(i,k),dist_j:zn(i,O)})}}return f}static GetTwoColorDistance(n,a){const[s,i,u]=sa(n),[h,f,m]=sa(a),p=(s+h)/2,g=Math.sqrt(i*i+u*u),y=Math.sqrt(f*f+m*m),k=(g+y)/2,O=.5*(1-Math.sqrt(Math.pow(k,7)/(Math.pow(k,7)+Math.pow(25,7)))),j=(1+O)*i,F=(1+O)*f,K=Math.sqrt(j*j+u*u),ae=Math.sqrt(F*F+m*m),se=(K+ae)/2,Y=Math.atan2(u,j)*180/Math.PI+(Math.atan2(u,j)<0?360:0),$=Math.atan2(m,F)*180/Math.PI+(Math.atan2(m,F)<0?360:0);let Ae=$-Y;Math.abs(Ae)>180&&(Ae-=Math.sign(Ae)*360);const be=h-s,ue=ae-K,qe=2*Math.sqrt(K*ae)*Math.sin(Ae*Math.PI/180/2),Ye=Math.abs(Y-$)>180?(Y+$+360)/2:(Y+$)/2,Jt=1-.17*Math.cos((Ye-30)*Math.PI/180)+.24*Math.cos(2*Ye*Math.PI/180)+.32*Math.cos((3*Ye+6)*Math.PI/180)-.2*Math.cos((4*Ye-63)*Math.PI/180),rt=1+.015*Math.pow(p-50,2)/Math.sqrt(20+Math.pow(p-50,2)),st=1+.045*se,rn=1+.015*se*Jt,Ft=-2*Math.sqrt(Math.pow(se,7)/(Math.pow(se,7)+Math.pow(25,7)))*Math.sin(60*Math.exp(-Math.pow((Ye-275)/25,2))*Math.PI/180);return Math.sqrt(Math.pow(be/rt,2)+Math.pow(ue/st,2)+Math.pow(qe/rn,2)+Ft*(ue/st)*(qe/rn))}static GetTwoColorByRGB(n,a){return(n.r-a.r)*(n.r-a.r)+(n.g-a.g)*(n.g-a.g)+(n.b-a.b)*(n.b-a.b)}static GetTwoColorByLab(n,a){const s=sa(n),i=sa(a),u=1;return s[0]*=u,i[0]*=u,(s[0]-i[0])*(s[0]-i[0])+(s[1]-i[1])*(s[1]-i[1])+(s[2]-i[2])*(s[2]-i[2])}}class Xb extends Dp{GetThresholdMap(){return[4,4,[[0,8,2,10],[12,4,14,6],[3,11,1,9],[15,7,13,5]]]}}class Qb extends Dp{GetThresholdMap(){return[8,8,[[0,32,8,40,2,34,10,42],[48,16,56,24,50,18,58,26],[12,44,4,36,14,46,6,38],[60,28,52,20,62,30,54,22],[3,35,11,43,1,33,9,41],[51,19,59,27,49,17,57,25],[15,47,7,39,13,45,5,37],[63,31,55,23,61,29,53,21]]]}}class Zb extends Cs{convertModeToDitherSystem;constructor(){super(),this.convertModeToDitherSystem=new Map,this.convertModeToDitherSystem.set(Ts.RawDither,new Uy),this.convertModeToDitherSystem.set(Ts.BayerMatrixOrderedDither,new Xb),this.convertModeToDitherSystem.set(Ts.DynamicBayerMatrixOrderedDither,new Qb)}GetConverter(n){return this.convertModeToDitherSystem.get(n)}}const $b=JSON.parse('[{"color_id":"6d9930","default_activate":false,"default_color":{"r":109,"g":153,"b":48},"light_color":{"r":127,"g":178,"b":56},"dark_color":{"r":89,"g":125,"b":39},"darkest_color":{"r":67,"g":94,"b":29}},{"color_id":"d5c98c","default_activate":true,"default_color":{"r":213,"g":201,"b":140},"light_color":{"r":247,"g":233,"b":163},"dark_color":{"r":174,"g":164,"b":115},"darkest_color":{"r":130,"g":123,"b":86}},{"color_id":"ababab","default_activate":false,"default_color":{"r":171,"g":171,"b":171},"light_color":{"r":199,"g":199,"b":199},"dark_color":{"r":140,"g":140,"b":140},"darkest_color":{"r":105,"g":105,"b":105}},{"color_id":"dc0000","default_activate":true,"default_color":{"r":220,"g":0,"b":0},"light_color":{"r":255,"g":0,"b":0},"dark_color":{"r":180,"g":0,"b":0},"darkest_color":{"r":135,"g":0,"b":0}},{"color_id":"8a8adc","default_activate":true,"default_color":{"r":138,"g":138,"b":220},"light_color":{"r":160,"g":160,"b":255},"dark_color":{"r":112,"g":112,"b":180},"darkest_color":{"r":84,"g":84,"b":135}},{"color_id":"909090","default_activate":true,"default_color":{"r":144,"g":144,"b":144},"light_color":{"r":167,"g":167,"b":167},"dark_color":{"r":117,"g":117,"b":117},"darkest_color":{"r":88,"g":88,"b":88}},{"color_id":"006a00","default_activate":true,"default_color":{"r":0,"g":106,"b":0},"light_color":{"r":0,"g":124,"b":0},"dark_color":{"r":0,"g":87,"b":0},"darkest_color":{"r":0,"g":65,"b":0}},{"color_id":"dcdcdc","default_activate":true,"default_color":{"r":220,"g":220,"b":220},"light_color":{"r":255,"g":255,"b":255},"dark_color":{"r":180,"g":180,"b":180},"darkest_color":{"r":135,"g":135,"b":135}},{"color_id":"8d909e","default_activate":true,"default_color":{"r":141,"g":144,"b":158},"light_color":{"r":164,"g":168,"b":184},"dark_color":{"r":115,"g":118,"b":129},"darkest_color":{"r":86,"g":88,"b":97}},{"color_id":"825e42","default_activate":true,"default_color":{"r":130,"g":94,"b":66},"light_color":{"r":151,"g":109,"b":77},"dark_color":{"r":106,"g":76,"b":54},"darkest_color":{"r":79,"g":57,"b":40}},{"color_id":"606060","default_activate":true,"default_color":{"r":96,"g":96,"b":96},"light_color":{"r":112,"g":112,"b":112},"dark_color":{"r":79,"g":79,"b":79},"darkest_color":{"r":59,"g":59,"b":59}},{"color_id":"3737dc","default_activate":false,"default_color":{"r":55,"g":55,"b":220},"light_color":{"r":64,"g":64,"b":255},"dark_color":{"r":45,"g":45,"b":180},"darkest_color":{"r":33,"g":33,"b":135}},{"color_id":"7b663e","default_activate":true,"default_color":{"r":123,"g":102,"b":62},"light_color":{"r":143,"g":119,"b":72},"dark_color":{"r":100,"g":84,"b":50},"darkest_color":{"r":75,"g":63,"b":38}},{"color_id":"dcd9d3","default_activate":true,"default_color":{"r":220,"g":217,"b":211},"light_color":{"r":255,"g":252,"b":245},"dark_color":{"r":180,"g":177,"b":172},"darkest_color":{"r":135,"g":133,"b":129}},{"color_id":"ba6d2c","default_activate":true,"default_color":{"r":186,"g":109,"b":44},"light_color":{"r":216,"g":127,"b":51},"dark_color":{"r":152,"g":89,"b":36},"darkest_color":{"r":114,"g":67,"b":27}},{"color_id":"9941ba","default_activate":true,"default_color":{"r":153,"g":65,"b":186},"light_color":{"r":178,"g":76,"b":216},"dark_color":{"r":125,"g":53,"b":152},"darkest_color":{"r":94,"g":40,"b":114}},{"color_id":"5884ba","default_activate":true,"default_color":{"r":88,"g":132,"b":186},"light_color":{"r":102,"g":153,"b":216},"dark_color":{"r":72,"g":108,"b":152},"darkest_color":{"r":54,"g":81,"b":114}},{"color_id":"c5c52c","default_activate":true,"default_color":{"r":197,"g":197,"b":44},"light_color":{"r":229,"g":229,"b":51},"dark_color":{"r":161,"g":161,"b":36},"darkest_color":{"r":121,"g":121,"b":27}},{"color_id":"6db015","default_activate":true,"default_color":{"r":109,"g":176,"b":21},"light_color":{"r":127,"g":204,"b":25},"dark_color":{"r":89,"g":144,"b":17},"darkest_color":{"r":67,"g":108,"b":13}},{"color_id":"d06d8e","default_activate":true,"default_color":{"r":208,"g":109,"b":142},"light_color":{"r":242,"g":127,"b":165},"dark_color":{"r":170,"g":89,"b":116},"darkest_color":{"r":128,"g":67,"b":87}},{"color_id":"414141","default_activate":true,"default_color":{"r":65,"g":65,"b":65},"light_color":{"r":76,"g":76,"b":76},"dark_color":{"r":53,"g":53,"b":53},"darkest_color":{"r":40,"g":40,"b":40}},{"color_id":"848484","default_activate":true,"default_color":{"r":132,"g":132,"b":132},"light_color":{"r":153,"g":153,"b":153},"dark_color":{"r":108,"g":108,"b":108},"darkest_color":{"r":81,"g":81,"b":81}},{"color_id":"416d84","default_activate":true,"default_color":{"r":65,"g":109,"b":132},"light_color":{"r":76,"g":127,"b":153},"dark_color":{"r":53,"g":89,"b":108},"darkest_color":{"r":40,"g":67,"b":81}},{"color_id":"6d3699","default_activate":true,"default_color":{"r":109,"g":54,"b":153},"light_color":{"r":127,"g":63,"b":178},"dark_color":{"r":89,"g":44,"b":125},"darkest_color":{"r":67,"g":33,"b":94}},{"color_id":"2c4199","default_activate":true,"default_color":{"r":44,"g":65,"b":153},"light_color":{"r":51,"g":76,"b":178},"dark_color":{"r":36,"g":53,"b":125},"darkest_color":{"r":27,"g":40,"b":94}},{"color_id":"58412c","default_activate":true,"default_color":{"r":88,"g":65,"b":44},"light_color":{"r":102,"g":76,"b":51},"dark_color":{"r":72,"g":53,"b":36},"darkest_color":{"r":54,"g":40,"b":27}},{"color_id":"586d2c","default_activate":true,"default_color":{"r":88,"g":109,"b":44},"light_color":{"r":102,"g":127,"b":51},"dark_color":{"r":72,"g":89,"b":36},"darkest_color":{"r":54,"g":67,"b":27}},{"color_id":"842c2c","default_activate":true,"default_color":{"r":132,"g":44,"b":44},"light_color":{"r":153,"g":51,"b":51},"dark_color":{"r":108,"g":36,"b":36},"darkest_color":{"r":81,"g":27,"b":27}},{"color_id":"151515","default_activate":true,"default_color":{"r":21,"g":21,"b":21},"light_color":{"r":25,"g":25,"b":25},"dark_color":{"r":17,"g":17,"b":17},"darkest_color":{"r":13,"g":13,"b":13}},{"color_id":"d7cd42","default_activate":true,"default_color":{"r":215,"g":205,"b":66},"light_color":{"r":250,"g":238,"b":77},"dark_color":{"r":176,"g":168,"b":54},"darkest_color":{"r":132,"g":126,"b":40}},{"color_id":"4fbcb7","default_activate":true,"default_color":{"r":79,"g":188,"b":183},"light_color":{"r":92,"g":219,"b":213},"dark_color":{"r":64,"g":154,"b":150},"darkest_color":{"r":48,"g":115,"b":112}},{"color_id":"3f6edc","default_activate":true,"default_color":{"r":63,"g":110,"b":220},"light_color":{"r":74,"g":128,"b":255},"dark_color":{"r":52,"g":90,"b":180},"darkest_color":{"r":39,"g":67,"b":135}},{"color_id":"00bb32","default_activate":true,"default_color":{"r":0,"g":187,"b":50},"light_color":{"r":0,"g":217,"b":58},"dark_color":{"r":0,"g":153,"b":40},"darkest_color":{"r":0,"g":114,"b":30}},{"color_id":"6f4a2a","default_activate":true,"default_color":{"r":111,"g":74,"b":42},"light_color":{"r":129,"g":86,"b":49},"dark_color":{"r":91,"g":60,"b":34},"darkest_color":{"r":68,"g":45,"b":25}},{"color_id":"600100","default_activate":true,"default_color":{"r":96,"g":1,"b":0},"light_color":{"r":112,"g":2,"b":0},"dark_color":{"r":79,"g":1,"b":0},"darkest_color":{"r":59,"g":1,"b":0}},{"color_id":"b4988a","default_activate":true,"default_color":{"r":180,"g":152,"b":138},"light_color":{"r":209,"g":177,"b":161},"dark_color":{"r":147,"g":124,"b":113},"darkest_color":{"r":110,"g":93,"b":85}},{"color_id":"89461f","default_activate":true,"default_color":{"r":137,"g":70,"b":31},"light_color":{"r":159,"g":82,"b":36},"dark_color":{"r":112,"g":57,"b":25},"darkest_color":{"r":84,"g":43,"b":19}},{"color_id":"804b5d","default_activate":true,"default_color":{"r":128,"g":75,"b":93},"light_color":{"r":149,"g":87,"b":108},"dark_color":{"r":105,"g":61,"b":76},"darkest_color":{"r":78,"g":46,"b":57}},{"color_id":"605d77","default_activate":true,"default_color":{"r":96,"g":93,"b":119},"light_color":{"r":112,"g":108,"b":138},"dark_color":{"r":79,"g":76,"b":97},"darkest_color":{"r":59,"g":57,"b":73}},{"color_id":"a0721f","default_activate":true,"default_color":{"r":160,"g":114,"b":31},"light_color":{"r":186,"g":133,"b":36},"dark_color":{"r":131,"g":93,"b":25},"darkest_color":{"r":98,"g":70,"b":19}},{"color_id":"58642d","default_activate":true,"default_color":{"r":88,"g":100,"b":45},"light_color":{"r":103,"g":117,"b":53},"dark_color":{"r":72,"g":82,"b":37},"darkest_color":{"r":54,"g":61,"b":28}},{"color_id":"8a4243","default_activate":true,"default_color":{"r":138,"g":66,"b":67},"light_color":{"r":160,"g":77,"b":78},"dark_color":{"r":112,"g":54,"b":55},"darkest_color":{"r":84,"g":40,"b":41}},{"color_id":"31231e","default_activate":true,"default_color":{"r":49,"g":35,"b":30},"light_color":{"r":57,"g":41,"b":35},"dark_color":{"r":40,"g":28,"b":24},"darkest_color":{"r":30,"g":21,"b":18}},{"color_id":"745c54","default_activate":true,"default_color":{"r":116,"g":92,"b":84},"light_color":{"r":135,"g":107,"b":98},"dark_color":{"r":95,"g":75,"b":69},"darkest_color":{"r":71,"g":56,"b":51}},{"color_id":"4b4f4f","default_activate":true,"default_color":{"r":75,"g":79,"b":79},"light_color":{"r":87,"g":92,"b":92},"dark_color":{"r":61,"g":64,"b":64},"darkest_color":{"r":46,"g":48,"b":48}},{"color_id":"693e4b","default_activate":true,"default_color":{"r":105,"g":62,"b":75},"light_color":{"r":122,"g":73,"b":88},"dark_color":{"r":86,"g":51,"b":62},"darkest_color":{"r":64,"g":38,"b":46}},{"color_id":"41354f","default_activate":true,"default_color":{"r":65,"g":53,"b":79},"light_color":{"r":76,"g":62,"b":92},"dark_color":{"r":53,"g":43,"b":64},"darkest_color":{"r":40,"g":32,"b":48}},{"color_id":"412b1e","default_activate":true,"default_color":{"r":65,"g":43,"b":30},"light_color":{"r":76,"g":50,"b":35},"dark_color":{"r":53,"g":35,"b":24},"darkest_color":{"r":40,"g":26,"b":18}},{"color_id":"414624","default_activate":true,"default_color":{"r":65,"g":70,"b":36},"light_color":{"r":76,"g":82,"b":42},"dark_color":{"r":53,"g":57,"b":29},"darkest_color":{"r":40,"g":43,"b":22}},{"color_id":"7a3327","default_activate":true,"default_color":{"r":122,"g":51,"b":39},"light_color":{"r":142,"g":60,"b":46},"dark_color":{"r":100,"g":42,"b":32},"darkest_color":{"r":75,"g":31,"b":24}},{"color_id":"1f120d","default_activate":true,"default_color":{"r":31,"g":18,"b":13},"light_color":{"r":37,"g":22,"b":16},"dark_color":{"r":26,"g":15,"b":11},"darkest_color":{"r":19,"g":11,"b":8}},{"color_id":"a3292a","default_activate":false,"default_color":{"r":163,"g":41,"b":42},"light_color":{"r":189,"g":48,"b":49},"dark_color":{"r":133,"g":33,"b":34},"darkest_color":{"r":100,"g":25,"b":25}},{"color_id":"7f3653","default_activate":true,"default_color":{"r":127,"g":54,"b":83},"light_color":{"r":148,"g":63,"b":97},"dark_color":{"r":104,"g":44,"b":68},"darkest_color":{"r":78,"g":33,"b":51}},{"color_id":"4f1519","default_activate":true,"default_color":{"r":79,"g":21,"b":25},"light_color":{"r":92,"g":25,"b":29},"dark_color":{"r":64,"g":17,"b":20},"darkest_color":{"r":48,"g":13,"b":15}},{"color_id":"126c73","default_activate":false,"default_color":{"r":18,"g":108,"b":115},"light_color":{"r":22,"g":126,"b":134},"dark_color":{"r":15,"g":88,"b":94},"darkest_color":{"r":11,"g":66,"b":70}},{"color_id":"327a78","default_activate":true,"default_color":{"r":50,"g":122,"b":120},"light_color":{"r":58,"g":142,"b":140},"dark_color":{"r":40,"g":100,"b":98},"darkest_color":{"r":30,"g":75,"b":74}},{"color_id":"4a2535","default_activate":true,"default_color":{"r":74,"g":37,"b":53},"light_color":{"r":86,"g":44,"b":62},"dark_color":{"r":60,"g":31,"b":43},"darkest_color":{"r":45,"g":23,"b":32}},{"color_id":"119b72","default_activate":true,"default_color":{"r":17,"g":155,"b":114},"light_color":{"r":20,"g":180,"b":133},"dark_color":{"r":14,"g":127,"b":93},"darkest_color":{"r":10,"g":95,"b":70}},{"color_id":"565656","default_activate":true,"default_color":{"r":86,"g":86,"b":86},"light_color":{"r":100,"g":100,"b":100},"dark_color":{"r":70,"g":70,"b":70},"darkest_color":{"r":52,"g":52,"b":52}},{"color_id":"ba967e","default_activate":false,"default_color":{"r":186,"g":150,"b":126},"light_color":{"r":216,"g":175,"b":147},"dark_color":{"r":152,"g":123,"b":103},"darkest_color":{"r":114,"g":92,"b":77}},{"color_id":"6d9081","default_activate":false,"default_color":{"r":109,"g":144,"b":129},"light_color":{"r":127,"g":167,"b":150},"dark_color":{"r":89,"g":117,"b":105},"darkest_color":{"r":67,"g":88,"b":79}}]'),Kb={minecraft_colors:$b};class Cp{}class Jb{constructor(n,a,s,i,u){this.isDefaultActive=n,this.defaultColor=a,this.lightColor=s,this.darkColor=i,this.darkestColor=u}isDefaultActive;defaultColor;lightColor;darkColor;darkestColor}class Fb extends Cp{colorIdToColorDataMap=new Map;constructor(){super(),this.InitializeColorData()}GetColorList(n=!1){let a=[];return this.colorIdToColorDataMap.forEach(s=>{a.push(s.defaultColor),n&&(a.push(s.darkColor),a.push(s.lightColor))}),a}GetColorIdList(){return Array.from(this.colorIdToColorDataMap.keys())}GetDefaultColor(n){const a=this.ColorIdToColorData(n);return a?a.defaultColor:new Le}GetLightColor(n){const a=this.ColorIdToColorData(n);return a?a.lightColor:new Le}GetDarkColor(n){const a=this.ColorIdToColorData(n);return a?a.darkColor:new Le}GetDarkestColor(n){const a=this.ColorIdToColorData(n);return a?a.darkestColor:new Le}GetIsDefaultActive(n){const a=this.ColorIdToColorData(n);return a?a.isDefaultActive:!1}InitializeColorData(){for(const n of Kb.minecraft_colors){const a=n.color_id,s=new Jb(n.default_activate,new Le(n.default_color.r,n.default_color.g,n.default_color.b),new Le(n.light_color.r,n.light_color.g,n.light_color.b),new Le(n.dark_color.r,n.dark_color.g,n.dark_color.b),new Le(n.darkest_color.r,n.darkest_color.g,n.darkest_color.b));this.colorIdToColorDataMap.set(a,s)}}ColorIdToColorData(n){const a=this.colorIdToColorDataMap.get(n);if(a)return a}}const Wb={name:""},Pb={name:""},ev={name:""},tv={name:""},nv={name:""},av={name:""},rv={name:""},sv={name:""},lv={name:""},iv={name:""},ov={name:""},uv={name:""},cv={name:""},fv={name:""},hv={name:""},dv={name:""},mv={name:""},pv={name:""},gv={name:""},_v={name:""},yv={name:""},bv={name:""},vv={name:""},xv={name:""},wv={name:""},kv={name:""},Sv={name:""},Tv={name:""},Av={name:""},Ev={name:""},Dv={name:""},Cv={name:""},zv={name:""},Mv={name:""},Ov={name:""},Bv={name:""},Iv={name:""},Uv={name:""},Nv={name:""},Lv={name:""},Vv={name:""},Rv={name:""},qv={name:""},Hv={name:""},Gv={name:""},jv={name:""},Yv={name:""},Xv={name:""},Qv={name:""},Zv={name:""},$v={name:""},Kv={name:""},Jv={name:""},Fv={name:""},Wv={name:""},Pv={name:""},e1={name:""},t1={name:""},n1={name:""},a1={name:""},r1={name:""},s1={name:""},l1={name:""},i1={name:""},o1={name:""},u1={name:""},c1={name:""},f1={name:""},h1={name:""},d1={name:""},m1={name:""},p1={name:""},g1={name:""},_1={name:""},y1={name:""},b1={name:""},v1={name:""},x1={name:""},w1={name:""},k1={name:""},S1={name:""},T1={name:""},A1={name:""},E1={name:""},D1={name:""},C1={name:""},z1={name:""},M1={name:""},O1={name:""},B1={name:""},I1={name:""},U1={name:""},N1={name:""},L1={name:""},V1={name:""},R1={name:""},q1={name:""},H1={name:""},G1={name:""},j1={name:""},Y1={name:""},X1={name:""},Q1={name:""},Z1={name:""},$1={name:""},K1={name:""},J1={name:""},F1={name:""},W1={name:""},P1={name:""},e2={name:""},t2={name:""},n2={name:""},a2={name:""},r2={name:""},s2={name:""},l2={name:""},i2={name:""},o2={name:""},u2={name:""},c2={name:""},f2={name:"	"},h2={name:""},d2={name:""},m2={name:""},p2={name:""},g2={name:""},_2={name:""},y2={name:""},b2={name:""},v2={name:""},x2={name:""},w2={name:""},k2={name:""},S2={name:""},T2={name:""},A2={name:""},E2={name:""},D2={name:""},C2={name:""},z2={name:""},M2={name:""},O2={name:""},B2={name:""},I2={name:""},U2={name:""},N2={name:""},L2={name:""},V2={name:""},R2={name:""},q2={name:""},H2={name:""},G2={name:""},j2={name:""},Y2={name:""},X2={name:""},Q2={name:""},Z2={name:""},$2={name:""},K2={name:""},J2={name:""},F2={name:""},W2={name:""},P2={name:""},e0={name:""},t0={name:""},n0={name:""},a0={name:""},r0={name:""},s0={name:""},l0={name:""},i0={name:""},o0={name:""},u0={name:""},c0={name:""},f0={name:""},h0={name:""},d0={name:""},m0={name:""},p0={name:""},g0={name:""},_0={name:""},y0={name:""},b0={name:""},v0={name:""},x0={name:""},w0={name:""},k0={name:""},S0={name:""},T0={name:""},A0={name:""},E0={name:""},D0={name:""},C0={name:""},z0={name:"	"},M0={name:""},O0={name:""},B0={name:""},I0={name:""},U0={name:""},N0={name:""},L0={name:""},V0={name:""},R0={name:""},q0={name:""},H0={name:""},G0={name:""},j0={name:""},Y0={name:""},X0={name:""},Q0={name:""},Z0={name:""},$0={name:""},K0={name:""},J0={name:""},F0={name:""},W0={name:""},P0={name:""},ex={name:""},tx={name:""},nx={name:""},ax={name:""},rx={name:""},sx={name:""},lx={name:""},ix={name:""},ox={name:""},ux={name:""},cx={name:""},fx={name:""},hx={name:""},dx={name:""},mx={name:""},px={name:""},gx={name:""},_x={name:""},yx={name:""},bx={name:""},vx={name:""},xx={name:""},wx={name:""},kx={name:""},Sx={name:""},Tx={name:""},Ax={name:""},Ex={name:""},Dx={name:""},Cx={name:""},zx={name:""},Mx={name:""},Ox={name:""},Bx={name:""},Ix={name:""},Ux={name:""},Nx={name:""},Lx={name:""},Vx={name:""},Rx={name:""},qx={name:""},Hx={name:""},Gx={name:""},jx={name:""},Yx={name:""},Xx={name:""},Qx={name:""},Zx={name:""},$x={name:""},Kx={name:""},Jx={name:""},Fx={name:""},Wx={name:""},Px={name:""},e3={name:""},t3={name:""},n3={name:""},a3={name:""},r3={name:""},s3={name:""},l3={name:""},i3={name:""},o3={name:""},u3={name:""},c3={name:""},f3={name:""},h3={name:""},d3={name:""},m3={name:""},p3={name:""},g3={name:""},_3={name:""},y3={name:""},b3={name:""},v3={name:""},x3={name:""},w3={name:""},k3={name:""},S3={name:""},T3={name:""},A3={name:""},E3={name:""},D3={name:""},C3={name:""},z3={name:""},M3={name:""},O3={name:""},B3={name:""},I3={name:""},U3={name:""},N3={name:""},L3={name:""},V3={name:""},R3={name:""},q3={name:""},H3={name:""},G3={name:"TNT"},j3={name:""},Y3={name:""},X3={name:""},Q3={name:""},Z3={name:""},$3={name:""},K3={name:""},J3={name:""},F3={name:""},W3={name:""},P3={name:""},e4={name:""},t4={name:""},n4={name:""},a4={name:""},r4={name:""},s4={name:""},l4={name:""},i4={name:""},o4={name:""},u4={name:""},c4={name:""},f4={acacia_leaves:Wb,acacia_log:Pb,acacia_log_top:ev,acacia_planks:tv,amethyst_block:nv,ancient_debris_side:av,ancient_debris_top:rv,andesite:sv,azalea_leaves:lv,bamboo_block:iv,bamboo_block_top:ov,bamboo_mosaic:uv,bamboo_planks:cv,barrel_side:fv,barrel_top:hv,barrel_top_open:dv,basalt_side:mv,basalt_top:pv,bedrock:gv,bee_nest_top:_v,birch_leaves:yv,birch_log:bv,birch_log_top:vv,birch_planks:xv,blackstone:wv,blackstone_top:kv,black_concrete:Sv,black_concrete_powder:Tv,black_glazed_terracotta:Av,black_shulker_box:Ev,black_terracotta:Dv,black_wool:Cv,blast_furnace_top:zv,blue_concrete:Mv,blue_concrete_powder:Ov,blue_glazed_terracotta:Bv,blue_ice:Iv,blue_shulker_box:Uv,blue_terracotta:Nv,blue_wool:Lv,bone_block_side:Vv,bone_block_top:Rv,bricks:qv,brown_concrete:Hv,brown_concrete_powder:Gv,brown_glazed_terracotta:jv,brown_mushroom_block:Yv,brown_shulker_box:Xv,brown_terracotta:Qv,brown_wool:Zv,budding_amethyst:$v,calcite:Kv,cartography_table_top:Jv,cherry_leaves:Fv,cherry_log:Wv,cherry_log_top:Pv,cherry_planks:e1,chiseled_bookshelf_top:t1,chiseled_deepslate:n1,chiseled_nether_bricks:a1,chiseled_polished_blackstone:r1,chiseled_quartz_block_top:s1,chiseled_stone_bricks:l1,clay:i1,coal_block:o1,coal_ore:u1,coarse_dirt:c1,cobbled_deepslate:f1,cobblestone:h1,cobweb:d1,copper_block:m1,copper_ore:p1,cracked_deepslate_bricks:g1,cracked_deepslate_tiles:_1,cracked_nether_bricks:y1,cracked_polished_blackstone_bricks:b1,cracked_stone_bricks:v1,crafting_table_top:x1,crimson_nylium:w1,crimson_planks:k1,crimson_stem:S1,crimson_stem_top:T1,crying_obsidian:A1,cut_copper:E1,cyan_concrete:D1,cyan_concrete_powder:C1,cyan_glazed_terracotta:z1,cyan_shulker_box:M1,cyan_terracotta:O1,cyan_wool:B1,dark_oak_leaves:I1,dark_oak_log:U1,dark_oak_log_top:N1,dark_oak_planks:L1,dark_prismarine:V1,deepslate:R1,deepslate_bricks:q1,deepslate_coal_ore:H1,deepslate_copper_ore:G1,deepslate_diamond_ore:j1,deepslate_emerald_ore:Y1,deepslate_gold_ore:X1,deepslate_iron_ore:Q1,deepslate_lapis_ore:Z1,deepslate_redstone_ore:$1,deepslate_tiles:K1,deepslate_top:J1,diamond_block:F1,diamond_ore:W1,diorite:P1,dirt:e2,dispenser_front_vertical:t2,dried_kelp_top:n2,dripstone_block:a2,dropper_front_vertical:r2,emerald_block:s2,emerald_ore:l2,end_stone:i2,end_stone_bricks:o2,exposed_copper:u2,exposed_cut_copper:c2,fletching_table_top:f2,furnace_top:h2,gilded_blackstone:d2,glowstone:m2,gold_block:p2,gold_ore:g2,granite:_2,grass_block_top:y2,gravel:b2,gray_concrete:v2,gray_concrete_powder:x2,gray_glazed_terracotta:w2,gray_shulker_box:k2,gray_terracotta:S2,gray_wool:T2,green_concrete:A2,green_concrete_powder:E2,green_glazed_terracotta:D2,green_shulker_box:C2,green_terracotta:z2,green_wool:M2,hay_block_side:O2,hay_block_top:B2,honeycomb_block:I2,honey_block_top:U2,ice:N2,iron_block:L2,iron_ore:V2,jukebox_top:R2,jungle_leaves:q2,jungle_log:H2,jungle_log_top:G2,jungle_planks:j2,lapis_block:Y2,lapis_ore:X2,light_blue_concrete:Q2,light_blue_concrete_powder:Z2,light_blue_glazed_terracotta:$2,light_blue_shulker_box:K2,light_blue_terracotta:J2,light_blue_wool:F2,light_gray_concrete:W2,light_gray_concrete_powder:P2,light_gray_glazed_terracotta:e0,light_gray_shulker_box:t0,light_gray_terracotta:n0,light_gray_wool:a0,lime_concrete:r0,lime_concrete_powder:s0,lime_glazed_terracotta:l0,lime_shulker_box:i0,lime_terracotta:o0,lime_wool:u0,lodestone_top:c0,magenta_concrete:f0,magenta_concrete_powder:h0,magenta_glazed_terracotta:d0,magenta_shulker_box:m0,magenta_terracotta:p0,magenta_wool:g0,magma:_0,mangrove_leaves:y0,mangrove_log:b0,mangrove_log_top:v0,mangrove_planks:x0,melon_top:w0,mossy_cobblestone:k0,mossy_stone_bricks:S0,moss_block:T0,mud:A0,mud_bricks:E0,mushroom_stem:D0,mycelium_top:C0,netherite_block:z0,netherrack:M0,nether_bricks:O0,nether_gold_ore:B0,nether_quartz_ore:I0,nether_wart_block:U0,note_block:N0,oak_leaves:L0,oak_log:V0,oak_log_top:R0,oak_planks:q0,obsidian:H0,ochre_froglight_top:G0,orange_concrete:j0,orange_concrete_powder:Y0,orange_glazed_terracotta:X0,orange_shulker_box:Q0,orange_terracotta:Z0,orange_wool:$0,oxidized_copper:K0,oxidized_cut_copper:J0,packed_ice:F0,packed_mud:W0,pearlescent_froglight_top:P0,pink_concrete:ex,pink_concrete_powder:tx,pink_glazed_terracotta:nx,pink_shulker_box:ax,pink_terracotta:rx,pink_wool:sx,piston_side:lx,podzol_top:ix,polished_andesite:ox,polished_basalt_side:ux,polished_basalt_top:cx,polished_blackstone:fx,polished_blackstone_bricks:hx,polished_deepslate:dx,polished_diorite:mx,polished_granite:px,prismarine:gx,prismarine_bricks:_x,pumpkin_top:yx,purple_concrete:bx,purple_concrete_powder:vx,purple_glazed_terracotta:xx,purple_shulker_box:wx,purple_terracotta:kx,purple_wool:Sx,purpur_block:Tx,purpur_pillar:Ax,purpur_pillar_top:Ex,quartz_block_top:Dx,quartz_bricks:Cx,quartz_pillar:zx,quartz_pillar_top:Mx,raw_copper_block:Ox,raw_gold_block:Bx,raw_iron_block:Ix,redstone_block:Ux,redstone_ore:Nx,red_concrete:Lx,red_concrete_powder:Vx,red_glazed_terracotta:Rx,red_mushroom_block:qx,red_nether_bricks:Hx,red_sand:Gx,red_sandstone_top:jx,red_shulker_box:Yx,red_terracotta:Xx,red_wool:Qx,reinforced_deepslate_top:Zx,respawn_anchor_top:$x,respawn_anchor_top_off:Kx,rooted_dirt:Jx,sand:Fx,sandstone_top:Wx,sculk:Px,sea_lantern:e3,shroomlight:t3,shulker_box:n3,slime_block:a3,smithing_table_top:r3,smoker_top:s3,smooth_basalt:l3,smooth_stone:i3,snow:o3,soul_sand:u3,soul_soil:c3,sponge:f3,spruce_leaves:h3,spruce_log:d3,spruce_log_top:m3,spruce_planks:p3,stone:g3,stone_bricks:_3,stripped_acacia_log:y3,stripped_acacia_log_top:b3,stripped_bamboo_block:v3,stripped_bamboo_block_top:x3,stripped_birch_log:w3,stripped_birch_log_top:k3,stripped_cherry_log:S3,stripped_cherry_log_top:T3,stripped_crimson_stem:A3,stripped_crimson_stem_top:E3,stripped_dark_oak_log:D3,stripped_dark_oak_log_top:C3,stripped_jungle_log:z3,stripped_jungle_log_top:M3,stripped_mangrove_log:O3,stripped_mangrove_log_top:B3,stripped_oak_log:I3,stripped_oak_log_top:U3,stripped_spruce_log:N3,stripped_spruce_log_top:L3,stripped_warped_stem:V3,stripped_warped_stem_top:R3,target_top:q3,terracotta:H3,tnt_top:G3,tuff:j3,verdant_froglight_top:Y3,warped_nylium:X3,warped_planks:Q3,warped_stem:Z3,warped_stem_top:$3,warped_wart_block:K3,water:J3,weathered_copper:F3,weathered_cut_copper:W3,white_concrete:P3,white_concrete_powder:e4,white_glazed_terracotta:t4,white_shulker_box:n4,white_terracotta:a4,white_wool:r4,yellow_concrete:s4,yellow_concrete_powder:l4,yellow_glazed_terracotta:i4,yellow_shulker_box:o4,yellow_terracotta:u4,yellow_wool:c4},h4=[{color_id:"6d9930",blocks:["slime_block","grass_block_top"]},{color_id:"d5c98c",blocks:["sandstone_top","sand","stripped_birch_log","stripped_birch_log_top","birch_log_top","birch_planks","glowstone","end_stone","end_stone_bricks","bone_block_top","bone_block_side","ochre_froglight_top"]},{color_id:"ababab",blocks:["cobweb","mushroom_stem"]},{color_id:"dc0000",blocks:["redstone_block","tnt_top"]},{color_id:"8a8adc",blocks:["packed_ice","ice","blue_ice"]},{color_id:"909090",blocks:["iron_block","lodestone_top"]},{color_id:"006a00",blocks:["bamboo_block","acacia_leaves","azalea_leaves","birch_leaves","cherry_leaves","dark_oak_leaves","jungle_leaves","mangrove_leaves","oak_leaves","spruce_leaves"]},{color_id:"dcdcdc",blocks:["white_wool","white_concrete","white_concrete_powder","snow","white_glazed_terracotta","white_shulker_box"]},{color_id:"8d909e",blocks:["clay"]},{color_id:"825e42",blocks:["jungle_planks","stripped_jungle_log","stripped_jungle_log_top","jungle_log_top","dirt","rooted_dirt","coarse_dirt","packed_mud","granite","polished_granite","brown_mushroom_block","jukebox_top"]},{color_id:"606060",blocks:["stone","stone_bricks","smooth_stone","chiseled_stone_bricks","cracked_stone_bricks","cobblestone","mossy_cobblestone","mossy_stone_bricks","coal_ore","copper_ore","iron_ore","gold_ore","redstone_ore","lapis_ore","emerald_ore","diamond_ore","gravel","bedrock","andesite","polished_andesite","acacia_log","piston_side","dispenser_front_vertical","dropper_front_vertical","furnace_top","smoker_top","blast_furnace_top"]},{color_id:"3737dc",blocks:["water"]},{color_id:"7b663e",blocks:["stripped_oak_log","stripped_oak_log_top","oak_log_top","oak_planks","note_block","chiseled_bookshelf_top","crafting_table_top","barrel_top","barrel_side","barrel_top_open","cartography_table_top","fletching_table_top","smithing_table_top","bee_nest_top"]},{color_id:"dcd9d3",blocks:["diorite","polished_diorite","birch_log","chiseled_quartz_block_top","quartz_block_top","quartz_bricks","quartz_pillar_top","quartz_pillar","sea_lantern","target_top"]},{color_id:"ba6d2c",blocks:["orange_wool","orange_concrete","orange_concrete_powder","orange_glazed_terracotta","orange_shulker_box","terracotta","acacia_planks","acacia_log_top","stripped_acacia_log","stripped_acacia_log_top","red_sand","red_sandstone_top","honey_block_top","honeycomb_block","pumpkin_top","copper_block","cut_copper","raw_copper_block"]},{color_id:"9941ba",blocks:["magenta_wool","magenta_concrete","magenta_concrete_powder","magenta_glazed_terracotta","magenta_shulker_box","purpur_block","purpur_pillar_top","purpur_pillar"]},{color_id:"5884ba",blocks:["light_blue_wool","light_blue_concrete","light_blue_concrete_powder","light_blue_glazed_terracotta","light_blue_shulker_box"]},{color_id:"c5c52c",blocks:["yellow_wool","yellow_concrete","yellow_concrete_powder","yellow_glazed_terracotta","yellow_shulker_box","sponge","bamboo_block_top","bamboo_planks","bamboo_mosaic","stripped_bamboo_block","stripped_bamboo_block_top","bee_nest_top","hay_block_top","hay_block_side"]},{color_id:"6db015",blocks:["lime_wool","lime_concrete","lime_concrete_powder","lime_glazed_terracotta","lime_shulker_box","melon_top"]},{color_id:"d06d8e",blocks:["pink_wool","pink_concrete","pink_concrete_powder","pink_glazed_terracotta","pink_shulker_box","pearlescent_froglight_top"]},{color_id:"414141",blocks:["gray_wool","gray_concrete","gray_concrete_powder","gray_glazed_terracotta","gray_shulker_box"]},{color_id:"848484",blocks:["light_gray_wool","light_gray_concrete","light_gray_concrete_powder","light_gray_glazed_terracotta","light_gray_shulker_box"]},{color_id:"416d84",blocks:["cyan_wool","cyan_concrete","cyan_concrete_powder","cyan_glazed_terracotta","cyan_shulker_box","prismarine"]},{color_id:"6d3699",blocks:["purple_wool","purple_concrete","purple_concrete_powder","purple_glazed_terracotta","shulker_box","mycelium_top","amethyst_block","budding_amethyst"]},{color_id:"2c4199",blocks:["blue_wool","blue_concrete","blue_concrete_powder","blue_glazed_terracotta","blue_shulker_box"]},{color_id:"58412c",blocks:["brown_wool","brown_concrete","brown_concrete_powder","brown_glazed_terracotta","brown_shulker_box","dark_oak_log","dark_oak_log_top","dark_oak_planks","stripped_dark_oak_log","stripped_dark_oak_log_top","spruce_log","soul_sand","soul_soil"]},{color_id:"586d2c",blocks:["green_wool","green_concrete","green_concrete_powder","green_glazed_terracotta","green_shulker_box","moss_block","dried_kelp_top"]},{color_id:"842c2c",blocks:["red_wool","red_concrete","red_concrete_powder","red_glazed_terracotta","red_shulker_box","red_mushroom_block","bricks","nether_wart_block","shroomlight"]},{color_id:"151515",blocks:["black_wool","black_concrete","black_concrete_powder","black_glazed_terracotta","black_shulker_box","obsidian","crying_obsidian","coal_block","netherite_block","basalt_side","basalt_top","smooth_basalt","polished_basalt_side","polished_basalt_top","ancient_debris_side","ancient_debris_top","respawn_anchor_top","respawn_anchor_top_off","blackstone","blackstone_top","polished_blackstone","polished_blackstone_bricks","chiseled_polished_blackstone","cracked_polished_blackstone_bricks","gilded_blackstone","sculk"]},{color_id:"d7cd42",blocks:["gold_block","raw_gold_block"]},{color_id:"4fbcb7",blocks:["diamond_block","prismarine_bricks","dark_prismarine"]},{color_id:"3f6edc",blocks:["lapis_block"]},{color_id:"00bb32",blocks:["emerald_block"]},{color_id:"6f4a2a",blocks:["spruce_planks","spruce_log_top","stripped_spruce_log","stripped_spruce_log_top","oak_log","jungle_log","mangrove_log","podzol_top"]},{color_id:"600100",blocks:["netherrack","nether_bricks","chiseled_nether_bricks","cracked_nether_bricks","nether_quartz_ore","nether_gold_ore","red_nether_bricks","magma"]},{color_id:"b4988a",blocks:["white_terracotta","calcite","cherry_planks","cherry_log_top","stripped_cherry_log_top"]},{color_id:"89461f",blocks:["orange_terracotta"]},{color_id:"804b5d",blocks:["magenta_terracotta"]},{color_id:"605d77",blocks:["light_blue_terracotta"]},{color_id:"a0721f",blocks:["yellow_terracotta"]},{color_id:"58642d",blocks:["lime_terracotta"]},{color_id:"8a4243",blocks:["pink_terracotta","stripped_cherry_log"]},{color_id:"31231e",blocks:["gray_terracotta","cherry_log","tuff"]},{color_id:"745c54",blocks:["light_gray_terracotta","mud_bricks","exposed_copper","exposed_cut_copper"]},{color_id:"4b4f4f",blocks:["cyan_terracotta","mud"]},{color_id:"693e4b",blocks:["purple_terracotta","purple_shulker_box"]},{color_id:"41354f",blocks:["blue_terracotta"]},{color_id:"412b1e",blocks:["brown_terracotta","dripstone_block"]},{color_id:"414624",blocks:["green_terracotta"]},{color_id:"7a3327",blocks:["red_terracotta","mangrove_planks","mangrove_log_top","stripped_mangrove_log","stripped_mangrove_log_top"]},{color_id:"1f120d",blocks:["black_terracotta"]},{color_id:"a3292a",blocks:["crimson_nylium"]},{color_id:"7f3653",blocks:["crimson_planks","crimson_stem_top","stripped_crimson_stem","stripped_crimson_stem_top"]},{color_id:"126c73",blocks:["warped_nylium","oxidized_copper","oxidized_cut_copper"]},{color_id:"327a78",blocks:["warped_planks","warped_stem","warped_stem_top","stripped_warped_stem","stripped_warped_stem_top","weathered_copper","weathered_cut_copper"]},{color_id:"119b72",blocks:["warped_wart_block"]},{color_id:"565656",blocks:["deepslate","deepslate_top","deepslate_tiles","deepslate_bricks","chiseled_deepslate","cobbled_deepslate","cracked_deepslate_bricks","cracked_deepslate_tiles","polished_deepslate","reinforced_deepslate_top","deepslate_coal_ore","deepslate_copper_ore","deepslate_iron_ore","deepslate_gold_ore","deepslate_lapis_ore","deepslate_redstone_ore","deepslate_emerald_ore","deepslate_diamond_ore"]},{color_id:"ba967e",blocks:["raw_iron_block"]},{color_id:"6d9081",blocks:["verdant_froglight_top"]}],d4={color_block_map:h4},m4="../assets/block_textures";class Gu{constructor(n="",a="",s=""){this.id=n,this.name=a,this.image_src=s}id;name;image_src}class p4 extends Cp{blockIdToDataMap=new Map;colorIdToBlockIdMap=new Map;constructor(){super(),this.InitializeBlockIdToData(),this.InitializeColorIdToBlockIdMap()}InitializeBlockIdToData(){this.blockIdToDataMap.clear();for(const[n,{name:a}]of Object.entries(f4)){const s=`${m4}/${a}.png`,i=new Gu(n,a,s);this.blockIdToDataMap.set(n,i)}}InitializeColorIdToBlockIdMap(){this.colorIdToBlockIdMap.clear();for(const n of d4.color_block_map)this.colorIdToBlockIdMap.set(n.color_id,n.blocks)}GetBlockIds(){return Array.from(this.blockIdToDataMap.keys())}GetColorToBlockIdList(){return this.colorIdToBlockIdMap}GetBlockName(n){return this.GetBlockData(n).name}GetBlockImageSrc(n){return this.GetBlockData(n).image_src}GetBlockDataFromColor(n){const a=this.colorIdToBlockIdMap.get(n);return!a||a.length<=0?new Gu:this.GetBlockData(a[0])}GetUsableBlocksFromColor(n){const a=this.GetUsableBlockIdsFromColor(n);let s=[];return a.forEach(i=>{s.push(this.GetBlockData(i))}),s}GetUsableBlockIdsFromColor(n){const a=this.colorIdToBlockIdMap.get(n);return a||[]}GetBlockData(n){const a=this.blockIdToDataMap.get(n);return a||new Gu}}var zp=(d=>(d[d.ColorData=0]="ColorData",d[d.BlockData=1]="BlockData",d))(zp||{});class g4 extends Cs{IdToRepositoryMap=new Map;GetRepository(n){return this.IdToRepositoryMap.get(n)}SubscribeRepositories(){this.SubscribeRepository(0,Fb),this.SubscribeRepository(1,p4)}SubscribeRepository(n,a,...s){this.IdToRepositoryMap.set(n,new a(...s))}constructor(){super(),this.SubscribeRepositories()}}class _4 extends ky{constructor(){super(),this.InitializeOptionData(),this.InitializeOptionManagerBinding()}convertMode=void 0;InitializeOptionData(){this.UpdateUsingColorsOfOptionData()}InitializeOptionManagerBinding(){la.get().onIsDemensionalModeChange.Subscribe(()=>{this.OnIsDemensionalModeChange()})}OnIsDemensionalModeChange(){this.UpdateUsingColorsOfOptionData()}UpdateUsingColorsOfOptionData(){const n=la.get(),a=g4.get().GetRepository(zp.ColorData);!n||!a||n.SetUsingColors(a.GetColorList(n.optionData.bIsDimensionalMode))}RequestToConverting(){const n=la.get().optionData;if(this.convertMode=Zb.get().GetConverter(n.convertMode),!this.convertMode){console.error("There has no converter mode in ConverterFactory");return}this.convertMode.Convert(n).then(a=>{this.OnConvertCompleted(a)})}OnConvertCompleted(n){ec.get().SetMapData(n)}}class y4{selectedFile=null;importedMapData=null;setFile(n){this.selectedFile=n}async loadSelectedFile(){if(!this.selectedFile)throw"No file selected";this.importedMapData=await this.selectedFile.text()}}class b4 extends Ym{OnInputParamChange(n){la.get().SetConvertMode(n)}inputParamsMediator=new _4;canvas=document.createElement("canvas");InitializeSelectBaseImage(n){if(!n){console.error("SelectImageComponent must be defined");return}n.onComponentChange.Subscribe(a=>{this.OnSelectBaseImageChange(a)})}OnSelectBaseImageChange(n){if(!n)return;const a=new FileReader;a.onload=()=>{const s=new Image;s.onload=()=>{const i=my(this.canvas,s);i&&la.get().SetImage(i)},s.src=a.result},a.readAsDataURL(n)}InitializeBaseImagePreview(n){if(!n){console.error("baseImage must be defined");return}la.get().onImageChange.Subscribe(a=>{n.SetImage(a)})}InitializeIsDimensionalModeCheckbox(n){if(!n){console.error("checkbox must be defined");return}n.onComponentChange.Subscribe(a=>{if(typeof a!="boolean"){console.log("isDimensionalModeCheckbox value must be a boolean but: ",typeof a);return}la.get().SetIsDimensionalMode(a)})}InitializeMagnification(n){if(!n){console.error("magnificationInputComponent must be defined");return}n.onComponentChange.Subscribe(a=>{if(typeof a!="number"){console.log("magnificationInputComponent must be a number: ",typeof a);return}const s=a/100;la.get().SetMagnification(s)})}InitializeConvertButton(n){if(!n){console.error("convertButton must be defined");return}n.onComponentChange.Subscribe(a=>{this.inputParamsMediator.RequestToConverting()})}InitializeConvertModeDropdown(n){if(!n){console.error("ViewInputParams must be defined");return}n.options=cy(Ts),n.onComponentChange.Subscribe(a=>{this.OnInputParamChange(a)})}progressBar=void 0;InitializeProgressBar(n){if(!n){console.error("ProgressBarComponent must be defined");return}this.progressBar=n}resultImagePreview=void 0;InitializeResultImagePreview(n){if(!n){console.error("ResultImagePreview must be defined");return}this.resultImagePreview=n,ec.get().onMapDataChange.Subscribe(a=>{this.OnMapDataChange(a)})}OnMapDataChange(n){if(!this.resultImagePreview){console.error("mapData must be defined");return}const a=JSON.stringify(n,null,2),s=new Blob([a],{type:"text/plain"}),i=URL.createObjectURL(s),u=document.createElement("a");u.href=i,u.download="mapData.txt",u.click(),URL.revokeObjectURL(i),mc.get().SwitchScene(dc.ResultPreviewScene)}InitializeSelectMapData(n){if(!n){console.error("mapData must be defined");return}n.onComponentChange.Subscribe(a=>{this.OnSelectedFileChange(a)})}OnSelectedFileChange(n){if(!n)return;const a=new y4;a.setFile(n),a.loadSelectedFile()}constructor(n){super(),this.InitializeConvertModeDropdown(n.convertModeDropdown),this.InitializeSelectBaseImage(n.selectBaseImage),this.InitializeBaseImagePreview(n.baseImagePreview),this.InitializeIsDimensionalModeCheckbox(n.isDimensionalModeCheckbox),this.InitializeMagnification(n.magnificationInputComponent),this.InitializeConvertButton(n.convertButtonComponent),this.InitializeProgressBar(n.progressBarComponent),this.InitializeResultImagePreview(n.resultImagePreview),this.InitializeSelectMapData(n.selectMapdata)}}class v4 extends Hm{constructor(){super(),this.InitializeView(xy),this.controller=new b4(this.view)}NotifyToPostRender(){this.view&&this.view.postRender.notify()}}var ui;(d=>{d.resultImagePreviewId="resultImagePreview",d.backButtonId="backButton"})(ui||(ui={}));class x4 extends Pu{resultImagePreview;backButton;constructor(){super(),this.backButton=this.CreateView(Yu,ui.backButtonId,""),this.resultImagePreview=this.CreateView(jm,ui.resultImagePreviewId)}GetRender(){return super.GetRender(),_e.jsxs(_e.Fragment,{children:[this.backButton.GetRender(),this.resultImagePreview.GetRender()]})}}class w4 extends Ym{InitializeBackButton(n){if(!n){console.error("backButton must be defined");return}n.onComponentChange.Subscribe(()=>{this.OnBackButtonPressed()})}OnBackButtonPressed(){mc.get().SwitchScene(dc.InputParamsScene)}InitializeResultImagePreview(n){if(!n){console.error("ResultImagePreview must be defined");return}n.SetMapData(ec.get().mapData)}constructor(n){super(),this.InitializeResultImagePreview(n.resultImagePreview),this.InitializeBackButton(n.backButton)}}class k4 extends Hm{constructor(){super(),this.InitializeView(x4)}NotifyToPostRender(){this.controller=new w4(this.view)}}var dc=(d=>(d[d.InputParamsScene=0]="InputParamsScene",d[d.ResultPreviewScene=1]="ResultPreviewScene",d))(dc||{});class mc extends Cs{onUserEffectChange=new It;onRenderFinished=new It;currentSceneType=0;SceneTypeToScene=new Map;RegisterScenes(){this.SceneTypeToScene.set(0,new v4),this.SceneTypeToScene.set(1,new k4)}constructor(){super(),this.RegisterScenes(),this.StartScene(0),this.onRenderFinished.Subscribe(()=>{const n=this.SceneTypeToScene.get(this.currentSceneType);n&&n.NotifyToPostRender()})}StartScene(n){this.currentSceneType=n,this.onUserEffectChange.notify()}SwitchScene(n){this.StartScene(n)}GetCurrentScene(){return this.SceneTypeToScene.get(this.currentSceneType)}}function S4(){const[,d]=Ma.useState({}),n=mc.get();Ma.useEffect(()=>{n.onUserEffectChange.Subscribe(()=>{d({})})},[]);const a=n.GetCurrentScene();return a?(Ma.useEffect(()=>{n.onRenderFinished.notify()},[a]),_e.jsx(_e.Fragment,{children:a.GetRender()})):_e.jsx(_e.Fragment,{children:"Loading..."})}function T4({error:d}){return _e.jsxs("div",{children:[_e.jsx("h2",{children:"ERROR"}),_e.jsx("pre",{children:d.stack})]})}const A4=Ma.createContext(null),ju={didCatch:!1,error:null};class E4 extends Ma.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ju}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var a,s,i=arguments.length,u=new Array(i),h=0;h<i;h++)u[h]=arguments[h];(a=(s=this.props).onReset)===null||a===void 0||a.call(s,{args:u,reason:"imperative-api"}),this.setState(ju)}}componentDidCatch(n,a){var s,i;(s=(i=this.props).onError)===null||s===void 0||s.call(i,n,a)}componentDidUpdate(n,a){const{didCatch:s}=this.state,{resetKeys:i}=this.props;if(s&&a.error!==null&&D4(n.resetKeys,i)){var u,h;(u=(h=this.props).onReset)===null||u===void 0||u.call(h,{next:i,prev:n.resetKeys,reason:"keys"}),this.setState(ju)}}render(){const{children:n,fallbackRender:a,FallbackComponent:s,fallback:i}=this.props,{didCatch:u,error:h}=this.state;let f=n;if(u){const m={error:h,resetErrorBoundary:this.resetErrorBoundary};if(typeof a=="function")f=a(m);else if(s)f=Ma.createElement(s,m);else if(i!==void 0)f=i;else throw h}return Ma.createElement(A4.Provider,{value:{didCatch:u,error:h,resetErrorBoundary:this.resetErrorBoundary}},f)}}function D4(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return d.length!==n.length||d.some((a,s)=>!Object.is(a,n[s]))}uy.createRoot(document.getElementById("root")).render(_e.jsx(E4,{FallbackComponent:T4,children:_e.jsx(S4,{})}));
